var se=Object.defineProperty,le=Object.defineProperties;var ue=Object.getOwnPropertyDescriptors;var Kt=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var Yt=(gt,ft,o)=>ft in gt?se(gt,ft,{enumerable:!0,configurable:!0,writable:!0,value:o}):gt[ft]=o,_t=(gt,ft)=>{for(var o in ft||(ft={}))ce.call(ft,o)&&Yt(gt,o,ft[o]);if(Kt)for(var o of Kt(ft))de.call(ft,o)&&Yt(gt,o,ft[o]);return gt},bt=(gt,ft)=>le(gt,ue(ft));import{z as Vt,A as Ht,B as Zt,d as te,r as jt,o as ee,C as re,b as Nt,c as qt,_ as he,D as pe,F as fe,G as me,a as zt,f as Wt,e as _e,u as $t,H as ge,w as Xt,v as Jt,l as ve,p as ye,n as be,I as we,J as Se,m as xe,t as Ee,K as ke}from"./index.24476616.js";var ie={exports:{}};/*!
 * artplayer.js v4.5.2
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2022 Harvey Zack
 * Released under the MIT License.
 */(function(gt,ft){(function(o,D,s,t,e){var i=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof Ht!="undefined"?Ht:{},a=typeof i.parcelRequire4dc0=="function"&&i.parcelRequire4dc0,r=a.cache||{},l=typeof Vt=="function"&&Vt.bind(gt);function n(g,v){if(!r[g]){if(!o[g]){var A=typeof i.parcelRequire4dc0=="function"&&i.parcelRequire4dc0;if(!v&&A)return A(g,!0);if(a)return a(g,!0);if(l&&typeof g=="string")return l(g);var P=new Error("Cannot find module '"+g+"'");throw P.code="MODULE_NOT_FOUND",P}j.resolve=function(E){var C=o[g][1][E];return C!=null?C:E},j.cache={};var O=r[g]=new n.Module(g);o[g][0].call(O.exports,j,O,O.exports,this)}return r[g].exports;function j(E){var C=j.resolve(E);return C===!1?{}:n(C)}}n.isParcelRequire=!0,n.Module=function(g){this.id=g,this.bundle=n,this.exports={}},n.modules=o,n.cache=r,n.parent=a,n.register=function(g,v){o[g]=[function(A,P){P.exports=v},{}]},Object.defineProperty(n,"root",{get:function(){return i.parcelRequire4dc0}}),i.parcelRequire4dc0=n;for(var u=0;u<D.length;u++)n(D[u]);var d=n(s);gt.exports=d})({"6SN6P":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("bundle-text:./style/index.less"),i=t.interopDefault(e),a=o("option-validator"),r=t.interopDefault(a),l=o("./utils/emitter"),n=t.interopDefault(l),u=o("./utils"),d=o("./scheme"),g=t.interopDefault(d),v=o("./config"),A=t.interopDefault(v),P=o("./whitelist"),O=t.interopDefault(P),j=o("./template"),E=t.interopDefault(j),C=o("./i18n"),b=t.interopDefault(C),m=o("./player"),_=t.interopDefault(m),w=o("./control"),S=t.interopDefault(w),B=o("./contextmenu"),z=t.interopDefault(B),Z=o("./info"),J=t.interopDefault(Z),K=o("./subtitle"),tt=t.interopDefault(K),L=o("./events"),x=t.interopDefault(L),T=o("./hotkey"),M=t.interopDefault(T),W=o("./layer"),rt=t.interopDefault(W),lt=o("./loading"),mt=t.interopDefault(lt),vt=o("./notice"),ht=t.interopDefault(vt),$=o("./mask"),G=t.interopDefault($),X=o("./icons"),it=t.interopDefault(X),nt=o("./setting"),Y=t.interopDefault(nt),pt=o("./storage"),p=t.interopDefault(pt),c=o("./plugins"),h=t.interopDefault(c),f=o("./mobile"),y=t.interopDefault(f);let k=0;const R=[];class I extends n.default{constructor(U,N){super(),this.id=++k;const q=u.mergeDeep(I.option,U);this.option=(0,r.default)(q,g.default),this.isLock=!1,this.isReady=!1,this.isFocus=!1,this.isInput=!1,this.isDestroy=!1,this.whitelist=new O.default(this),this.template=new E.default(this),this.events=new x.default(this),this.whitelist.state?(this.storage=new p.default(this),this.icons=new it.default(this),this.i18n=new b.default(this),this.notice=new ht.default(this),this.player=new _.default(this),this.layers=new rt.default(this),this.controls=new S.default(this),this.contextmenu=new z.default(this),this.subtitle=new tt.default(this),this.info=new J.default(this),this.loading=new mt.default(this),this.hotkey=new M.default(this),this.mask=new G.default(this),this.setting=new Y.default(this),this.plugins=new h.default(this)):this.mobile=new y.default(this),typeof N=="function"&&this.on("ready",()=>N.call(this)),R.push(this)}static get instances(){return R}static get version(){return"4.5.2"}static get env(){return"production"}static get build(){return"1655888299105"}static get config(){return A.default}static get utils(){return u}static get scheme(){return g.default}static get Emitter(){return n.default}static get validator(){return r.default}static get kindOf(){return r.default.kindOf}static get html(){return E.default.html}static get option(){return{container:"#artplayer",url:"",poster:"",title:"",type:"",theme:"#f00",volume:.7,isLive:!1,muted:!1,autoplay:!1,autoSize:!1,autoMini:!1,loop:!1,flip:!1,playbackRate:!1,aspectRatio:!1,screenshot:!1,setting:!1,hotkey:!0,pip:!1,mutex:!0,backdrop:!0,fullscreen:!1,fullscreenWeb:!1,subtitleOffset:!1,miniProgressBar:!1,useSSR:!1,playsInline:!0,lock:!1,fastForward:!1,autoPlayback:!1,autoOrientation:!1,layers:[],contextmenu:[],controls:[],settings:[],quality:[],highlight:[],plugins:[],whitelist:[],thumbnails:{url:"",number:60,column:10},subtitle:{url:"",type:"",style:{},encoding:"utf-8"},moreVideoAttr:{controls:!1,preload:u.isSafari?"auto":"metadata"},icons:{},customType:{},lang:navigator.language.toLowerCase()}}get proxy(){return this.events.proxy}get query(){return this.template.query}destroy(U=!0){this.events.destroy(),this.template.destroy(U),R.splice(R.indexOf(this),1),this.isDestroy=!0,this.emit("destroy")}}if(s.default=I,I.NOTICE_TIME=2e3,I.SETTING_WIDTH=250,I.SETTING_ITEM_WIDTH=200,I.SETTING_ITEM_HEIGHT=35,I.INDICATOR_SIZE=14,I.INDICATOR_SIZE_ICON=16,I.INDICATOR_SIZE_MOBILE=18,I.INDICATOR_SIZE_MOBILE_ICON=20,I.VOLUME_PANEL_WIDTH=60,I.VOLUME_HANDLE_WIDTH=12,I.RESIZE_TIME=500,I.SCROLL_TIME=200,I.SCROLL_GAP=50,I.AUTO_PLAYBACK_MAX=10,I.AUTO_PLAYBACK_TIMEOUT=3e3,I.RECONNECT_TIME_MAX=5,I.RECONNECT_SLEEP_TIME=1e3,I.CONTROL_HIDE_TIME=3e3,I.DB_CLICE_TIME=300,I.MOBILE_AUTO_PLAYBACKRATE=3,I.MOBILE_AUTO_PLAYBACKRATE_TIME=1e3,I.MOBILE_AUTO_ORIENTATION_TIME=200,I.INFO_LOOP_TIME=1e3,I.FAST_FORWARD_VALUE=3,I.FAST_FORWARD_TIME=1e3,typeof document!="undefined"&&!document.getElementById("artplayer-style")){const F=document.createElement("style");F.id="artplayer-style",F.textContent=i.default,document.head.appendChild(F)}typeof window!="undefined"&&(window.Artplayer=I),console.log(`%c ArtPlayer %c ${I.version} %c https://artplayer.org`,"color: #fff; background: #5f5f5f","color: #fff; background: #4bc729","")},{"bundle-text:./style/index.less":"9EPUe","option-validator":"2A2W5","./utils/emitter":"7pHuB","./utils":"geSvU","./scheme":"3vPoh","./config":"eksZR","./whitelist":"fCKwj","./template":"bqHdK","./i18n":"4O9ZY","./player":"fzROd","./control":"kJ9J9","./contextmenu":"7rh9q","./info":"c896w","./subtitle":"2hqso","./events":"j2hlX","./hotkey":"aTHWZ","./layer":"f2kxw","./loading":"bOs9w","./notice":"ic4th","./mask":"iLfmB","./icons":"5lAmI","./setting":"d5XKP","./storage":"5M8nN","./plugins":"jWfEd","./mobile":"fkUkB","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"9EPUe":[function(o,D,s){D.exports='.art-video-player{z-index:20;width:100%;height:100%;zoom:1;color:#eee;text-align:left;direction:ltr;user-select:none;-webkit-tap-highlight-color:#0000;touch-action:manipulation;-ms-high-contrast-adjust:none;background-color:#000;outline:0;margin:0 auto;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:14px;line-height:1.3;display:flex;position:relative}.art-video-player *,.art-video-player :before,.art-video-player :after{box-sizing:border-box;margin:0;padding:0}.art-video-player ::-webkit-scrollbar{width:5px;height:5px}.art-video-player ::-webkit-scrollbar-thumb{background-color:#666}.art-video-player ::-webkit-scrollbar-thumb:hover{background-color:#ccc}.art-video-player .art-icon{justify-content:center;align-items:center;line-height:1.5;display:inline-flex}.art-video-player .art-icon svg{fill:#fff}.art-video-player img{max-width:100%;vertical-align:top}@supports ((-webkit-backdrop-filter: initial) or (backdrop-filter: initial)){.art-video-player .art-backdrop-filter{-webkit-backdrop-filter:saturate(180%)blur(20px);backdrop-filter:saturate(180%)blur(20px);background-color:#000000b3!important}}.art-video-player .art-video{z-index:10;width:100%;height:100%;cursor:pointer;background-color:#000;position:absolute;inset:0}.art-video-player .art-poster{z-index:11;width:100%;height:100%;user-select:none;pointer-events:none;background-position:50%;background-repeat:no-repeat;background-size:cover;position:absolute;inset:0}.art-video-player .art-subtitle{z-index:20;width:100%;text-align:center;color:#fff;pointer-events:none;text-shadow:1px 0 1px #000,0 1px 1px #000,-1px 0 1px #000,0 -1px 1px #000,1px 1px 1px #000,-1px -1px 1px #000,1px -1px 1px #000,-1px 1px 1px #000;padding:0 20px;font-size:20px;display:none;position:absolute;bottom:10px}.art-video-player .art-subtitle p{word-break:break-all;height:fit-content;margin:5px 0 0;line-height:1.2}.art-video-player.art-subtitle-show .art-subtitle{display:block}.art-video-player.art-control-show .art-subtitle{bottom:50px}.art-video-player .art-danmuku{z-index:30;width:100%;height:100%;pointer-events:none;position:absolute;inset:0;overflow:hidden}.art-video-player .art-layers{z-index:40;width:100%;height:100%;pointer-events:none;display:none;position:absolute;inset:0;overflow:hidden}.art-video-player .art-layers .art-layer{pointer-events:auto}.art-video-player.art-layer-show .art-layers{display:block}.art-video-player .art-mask{z-index:50;width:100%;height:100%;pointer-events:none;justify-content:center;align-items:center;display:none;position:absolute;inset:0;overflow:hidden}.art-video-player .art-mask .art-state{width:60px;height:60px;opacity:.85;cursor:pointer;pointer-events:all;justify-content:center;align-items:center;display:flex;position:absolute;bottom:65px;right:30px}.art-video-player.art-mask-show .art-mask{display:flex}.art-video-player.art-mobile .art-state{position:static}.art-video-player .art-loading{z-index:70;width:100%;height:100%;pointer-events:none;justify-content:center;align-items:center;display:none;position:absolute;inset:0}.art-video-player.art-loading-show .art-loading{display:flex}.art-video-player .art-bottom{z-index:60;height:100px;opacity:0;visibility:hidden;pointer-events:none;background-image:linear-gradient(#0000,#0006,#000);background-position:bottom;background-repeat:repeat-x;flex-direction:column;justify-content:space-between;padding:50px 10px 0;transition:all .2s ease-in-out;display:flex;position:absolute;bottom:0;left:0;right:0}.art-video-player .art-bottom .art-progress{z-index:0;pointer-events:auto;flex:1;position:relative}.art-video-player .art-bottom .art-progress .art-control-progress{height:4px;cursor:pointer;flex-direction:row;align-items:center;display:flex;position:relative}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner{height:50%;width:100%;background:#fff3;align-items:center;display:flex;position:relative}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-loaded{z-index:10;height:100%;width:0;background:#fff6;position:absolute;inset:0}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-played{z-index:20;height:100%;width:0;position:absolute;inset:0}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight{z-index:30;height:100%;pointer-events:none;position:absolute;inset:0}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-highlight span{width:7px;height:100%;pointer-events:auto;background:#fff;display:inline-block;position:absolute;top:0;left:0}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{visibility:hidden;z-index:40;border-radius:50%;justify-content:center;align-items:center;transition:transform .1s ease-in-out;position:absolute;transform:scale(.1)}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator .art-icon{width:100%;height:100%;pointer-events:none;user-select:none}.art-video-player .art-bottom .art-progress .art-control-progress .art-control-progress-inner .art-progress-tip{z-index:50;height:20px;color:#fff;text-align:center;white-space:nowrap;background:#000000b3;border-radius:3px;padding:0 5px;font-size:12px;font-weight:700;line-height:20px;display:none;position:absolute;top:-25px;left:0}.art-video-player .art-bottom .art-progress .art-control-thumbnails{pointer-events:none;background-color:#000000b3;display:none;position:absolute;bottom:8px;left:0}.art-video-player .art-bottom .art-progress .art-control-loop{width:100%;height:100%;pointer-events:none;display:none;position:absolute;inset:0}.art-video-player .art-bottom .art-progress .art-control-loop .art-loop-point{width:2px;height:8px;background:#ffffffbf;position:absolute;top:-2px;left:0}.art-video-player .art-bottom .art-controls{z-index:1;pointer-events:auto;height:45px;justify-content:space-between;align-items:center;display:flex;position:relative}.art-video-player .art-bottom .art-controls .art-controls-left,.art-video-player .art-bottom .art-controls .art-controls-right{display:flex}.art-video-player .art-bottom .art-controls .art-controls-center{height:100%;flex:1;justify-content:center;align-items:center;padding:0 10px;display:flex}.art-video-player .art-bottom .art-controls .art-controls-right{justify-content:flex-end}.art-video-player .art-bottom .art-controls .art-control{opacity:.9;min-height:36px;min-width:36px;text-align:center;cursor:pointer;white-space:nowrap;justify-content:center;align-items:center;font-size:12px;line-height:1;display:flex}.art-video-player .art-bottom .art-controls .art-control .art-icon{float:left;height:36px;width:36px;justify-content:center;align-items:center;display:flex}.art-video-player .art-bottom .art-controls .art-control:hover{opacity:1}.art-video-player .art-bottom .art-controls .art-control-onlyText{padding:0 10px}.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel{float:left;width:0;height:100%;transition:margin .2s cubic-bezier(.4,0,1,1),width .2s cubic-bezier(.4,0,1,1);position:relative;overflow:hidden}.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel .art-volume-slider-handle{width:12px;height:12px;background:#fff;border-radius:12px;margin-top:-6px;position:absolute;top:50%;left:0}.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel .art-volume-slider-handle:before{background:#fff;left:-54px}.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel .art-volume-slider-handle:after{background:#fff3;left:6px}.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel .art-volume-slider-handle:before,.art-video-player .art-bottom .art-controls .art-control-volume .art-volume-panel .art-volume-slider-handle:after{content:"";height:3px;width:60px;margin-top:-2px;display:block;position:absolute;top:50%}.art-video-player .art-bottom .art-controls .art-control-volume:hover .art-volume-panel{width:60px}.art-video-player .art-bottom .art-controls .art-control-quality{z-index:30;position:relative}.art-video-player .art-bottom .art-controls .art-control-quality .art-qualitys{width:100px;text-align:center;color:#fff;background:#000c;border-radius:3px;padding:5px 0;display:none;position:absolute;bottom:35px}.art-video-player .art-bottom .art-controls .art-control-quality .art-qualitys .art-quality-item{height:30px;text-overflow:ellipsis;white-space:nowrap;text-shadow:0 0 2px #00000080;line-height:30px;overflow:hidden}.art-video-player .art-bottom .art-controls .art-control-quality .art-qualitys .art-quality-item:hover{background-color:#ffffff1a}.art-video-player .art-bottom .art-controls .art-control-quality:hover .art-qualitys{display:block}.art-video-player .art-bottom:hover .art-progress .art-control-progress .art-control-progress-inner{height:100%}.art-video-player .art-bottom:hover .art-progress .art-control-progress .art-control-progress-inner .art-progress-indicator{visibility:visible;transform:scale(1)}.art-video-player.art-control-show .art-bottom,.art-video-player.art-hover .art-bottom{opacity:1;visibility:visible}.art-video-player.art-error .art-progress-indicator,.art-video-player.art-destroy .art-progress-indicator,.art-video-player.art-error .art-progress-tip,.art-video-player.art-destroy .art-progress-tip{display:none!important}.art-video-player.art-mobile .art-bottom{padding:50px 7px 0}.art-video-player.art-mobile .art-bottom .art-controls{height:40px}.art-video-player.art-mobile .art-bottom .art-progress-indicator{visibility:visible!important;transform:scale(1)!important}.art-video-player .art-notice{z-index:80;width:100%;pointer-events:none;padding:10px;font-size:14px;display:none;position:absolute;top:0;left:0}.art-video-player .art-notice .art-notice-inner{color:#fff;background-color:#0009;border-radius:3px;padding:5px 10px;display:inline-block}.art-video-player.art-notice-show .art-notice{display:flex}.art-video-player .art-contextmenus{z-index:120;min-width:200px;background-color:#000000e6;border-radius:3px;flex-direction:column;padding:5px 0;display:none;position:absolute;top:10px;left:10px}.art-video-player .art-contextmenus .art-contextmenu{cursor:pointer;color:#fff;text-overflow:ellipsis;white-space:nowrap;text-shadow:0 0 2px #00000080;border-bottom:1px solid #ffffff1a;padding:10px 15px;font-size:12px;display:block;overflow:hidden}.art-video-player .art-contextmenus .art-contextmenu a{color:#fff;text-decoration:none}.art-video-player .art-contextmenus .art-contextmenu span{padding:0 7px;display:inline-block}.art-video-player .art-contextmenus .art-contextmenu span:hover,.art-video-player .art-contextmenus .art-contextmenu span.art-current{color:#00c9ff}.art-video-player .art-contextmenus .art-contextmenu:hover{background-color:#ffffff1a}.art-video-player .art-contextmenus .art-contextmenu:last-child{border-bottom:none}.art-video-player.art-contextmenu-show .art-contextmenus{display:flex}.art-video-player .art-settings{z-index:90;height:auto;max-height:300px;background-color:#000000e6;border-radius:3px;font-size:13px;transition:all .2s;display:none;position:absolute;bottom:50px;right:10px;overflow:auto}.art-video-player .art-settings .art-setting-panel{display:none}.art-video-player .art-settings .art-setting-panel.art-current{display:block}.art-video-player .art-settings .art-setting-panel .art-setting-item{height:35px;cursor:pointer;color:#fffc;justify-content:space-between;align-items:center;padding:0 5px;line-height:1;display:flex;overflow:hidden}.art-video-player .art-settings .art-setting-panel .art-setting-item:hover,.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current{color:#fff;background-color:#ffffff1a}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-icon{width:30px;height:30px;justify-content:center;align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-icon-check{visibility:hidden;height:15px}.art-video-player .art-settings .art-setting-panel .art-setting-item.art-current .art-icon-check{visibility:visible}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left{white-space:nowrap;align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-left .art-setting-item-left-icon{height:24px;width:24px;justify-content:center;align-items:center;margin-right:10px;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right{align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-tooltip{white-space:nowrap;color:#ffffff80;margin-right:5px;font-size:12px}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-item-right-icon{height:24px;justify-content:center;align-items:center;display:flex}.art-video-player .art-settings .art-setting-panel .art-setting-item .art-setting-item-right .art-setting-range{height:3px;width:80px;appearance:none;background-color:#fff3;outline:none}.art-video-player .art-settings .art-setting-panel .art-setting-item-back{border-bottom:1px solid #ffffff1a}.art-video-player.art-setting-show .art-settings{display:block}.art-video-player.art-mobile .art-settings{max-height:200px}.art-video-player .art-info{z-index:100;width:350px;color:#fff;-webkit-font-smoothing:antialiased;background-color:#000000e6;flex-direction:column;padding:10px;font-family:Noto Sans CJK SC DemiLight,Roboto,Segoe UI,Tahoma,Arial,Helvetica,sans-serif;font-size:12px;display:none;position:absolute;top:10px;left:10px}.art-video-player .art-info .art-info-item{margin-bottom:5px;display:flex}.art-video-player .art-info .art-info-item .art-info-title{width:100px;text-align:right}.art-video-player .art-info .art-info-item .art-info-content{text-overflow:ellipsis;white-space:nowrap;flex:1;padding-left:5px;overflow:hidden}.art-video-player .art-info .art-info-item:last-child{margin-bottom:0}.art-video-player .art-info .art-info-close{cursor:pointer;position:absolute;top:5px;right:5px}.art-video-player.art-info-show .art-info{display:flex}.art-video-player.art-hide-cursor *{cursor:none!important}.art-video-player[data-aspect-ratio] video{box-sizing:content-box;object-fit:fill}.art-video-player.art-fullscreen-web{z-index:9999;width:100%;height:100%;position:fixed;inset:0}.art-video-player .art-mini-header{z-index:110;height:35px;color:#fff;opacity:0;visibility:hidden;background-color:#00000080;justify-content:space-between;align-items:center;line-height:35px;transition:all .2s ease-in-out;display:none;position:absolute;top:0;left:0;right:0}.art-video-player .art-mini-header .art-mini-title{text-overflow:ellipsis;white-space:nowrap;cursor:move;flex:1;padding:0 10px;overflow:hidden}.art-video-player .art-mini-header .art-mini-close{width:35px;text-align:center;cursor:pointer;font-size:22px}.art-video-player.art-is-dragging{opacity:.7}.art-video-player.art-mini{z-index:9999;width:400px;height:225px;position:fixed;box-shadow:0 2px 5px #00000029,0 3px 6px #0003}.art-video-player.art-mini .art-mini-header{user-select:none;display:flex}.art-video-player.art-mini.art-hover .art-mini-header{opacity:1;visibility:visible}.art-video-player.art-mini .art-mask .art-state{position:static}.art-video-player.art-mini .art-contextmenu,.art-video-player.art-mini .art-bottom,.art-video-player.art-mini .art-danmu,.art-video-player.art-mini .art-info,.art-video-player.art-mini .art-layers,.art-video-player.art-mini .art-notice,.art-video-player.art-mini .art-settings,.art-video-player.art-mini .art-subtitle{display:none!important}.art-auto-size{justify-content:center;align-items:center;display:flex}.art-auto-size .art-video-player{transition:all .2s}.art-video-player[data-flip=horizontal] .art-video{transform:scaleX(-1)}.art-video-player[data-flip=vertical] .art-video{transform:scaleY(-1)}.art-video-player .art-layer-miniProgressBar{height:2px;background-color:var(--theme);display:block;position:absolute;bottom:0;left:0;right:0}.art-video-player .art-layer-lock{height:34px;width:34px;color:#fff;background-color:#00000080;border-radius:50%;justify-content:center;align-items:center;display:none;position:absolute;top:calc(50% - 17px);left:15px}.art-video-player .art-layer-autoPlayback{background-color:#000c;border-radius:3px;align-items:center;padding:10px;line-height:1;display:none;position:absolute;bottom:60px;left:20px}.art-video-player .art-layer-autoPlayback .art-autoPlayback-close{cursor:pointer;align-items:center;margin-right:10px;display:flex}.art-video-player .art-layer-autoPlayback .art-autoPlayback-close svg{width:15px;height:15px;fill:#00c9ff}.art-video-player .art-layer-autoPlayback .art-autoPlayback-last{margin-right:10px}.art-video-player .art-layer-autoPlayback .art-autoPlayback-jump{color:#00c9ff;cursor:pointer}.art-video-player.art-lock .art-bottom{display:none!important}.art-video-player.art-lock .art-subtitle{bottom:10px!important}.art-video-player.art-lock .art-layer-miniProgressBar{display:block!important}.art-video-player.art-control-show .art-layer-miniProgressBar{display:none}.art-video-player.art-control-show .art-layer-lock{display:flex}.art-video-player .art-control-selector{position:relative}.art-video-player .art-control-selector .art-selector-list{min-width:100px;max-width:200px;max-height:200px;text-align:center;color:#fff;background-color:#000c;border-radius:3px;padding:5px 0;display:none;position:absolute;bottom:35px;overflow:auto}.art-video-player .art-control-selector .art-selector-list .art-selector-item{height:30px;text-overflow:ellipsis;white-space:nowrap;text-shadow:0 0 2px #00000080;padding:0 5px;line-height:30px;overflow:hidden}.art-video-player .art-control-selector .art-selector-list .art-selector-item:hover{background-color:#ffffff1a}.art-video-player .art-control-selector .art-selector-list .art-selector-item:hover,.art-video-player .art-control-selector .art-selector-list .art-selector-item.art-current{color:#00c9ff}.art-video-player .art-control-selector:hover .art-selector-list{display:block}[class*=hint--]{font-style:normal;display:inline-block;position:relative}[class*=hint--]:before,[class*=hint--]:after{visibility:hidden;opacity:0;z-index:1000000;pointer-events:none;transition:all .3s;position:absolute;transform:translate(0,0)}[class*=hint--]:hover:before,[class*=hint--]:hover:after{visibility:visible;opacity:1;transition-delay:.1s}[class*=hint--]:before{content:"";z-index:1000001;background:0 0;border:6px solid #0000;position:absolute}[class*=hint--]:after{color:#fff;white-space:nowrap;background:#000;padding:8px 10px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;line-height:12px}[class*=hint--][aria-label]:after{content:attr(aria-label)}[class*=hint--][data-hint]:after{content:attr(data-hint)}[aria-label=""]:before,[aria-label=""]:after,[data-hint=""]:before,[data-hint=""]:after{display:none!important}.hint--top-left:before,.hint--top-right:before,.hint--top:before{border-top-color:#000}.hint--bottom-left:before,.hint--bottom-right:before,.hint--bottom:before{border-bottom-color:#000}.hint--left:before{border-left-color:#000}.hint--right:before{border-right-color:#000}.hint--top:before{margin-bottom:-11px}.hint--top:before,.hint--top:after{bottom:100%;left:50%}.hint--top:before{left:calc(50% - 6px)}.hint--top:after{transform:translate(-50%)}.hint--top:hover:before{transform:translateY(-8px)}.hint--top:hover:after{transform:translate(-50%)translateY(-8px)}.hint--bottom:before{margin-top:-11px}.hint--bottom:before,.hint--bottom:after{top:100%;left:50%}.hint--bottom:before{left:calc(50% - 6px)}.hint--bottom:after{transform:translate(-50%)}.hint--bottom:hover:before{transform:translateY(8px)}.hint--bottom:hover:after{transform:translate(-50%)translateY(8px)}.hint--right:before{margin-bottom:-6px;margin-left:-11px}.hint--right:after{margin-bottom:-14px}.hint--right:before,.hint--right:after{bottom:50%;left:100%}.hint--right:hover:before,.hint--right:hover:after{transform:translate(8px)}.hint--left:before{margin-bottom:-6px;margin-right:-11px}.hint--left:after{margin-bottom:-14px}.hint--left:before,.hint--left:after{bottom:50%;right:100%}.hint--left:hover:before,.hint--left:hover:after{transform:translate(-8px)}.hint--top-left:before{margin-bottom:-11px}.hint--top-left:before,.hint--top-left:after{bottom:100%;left:50%}.hint--top-left:before{left:calc(50% - 6px)}.hint--top-left:after{margin-left:12px;transform:translate(-100%)}.hint--top-left:hover:before{transform:translateY(-8px)}.hint--top-left:hover:after{transform:translate(-100%)translateY(-8px)}.hint--top-right:before{margin-bottom:-11px}.hint--top-right:before,.hint--top-right:after{bottom:100%;left:50%}.hint--top-right:before{left:calc(50% - 6px)}.hint--top-right:after{margin-left:-12px;transform:translate(0)}.hint--top-right:hover:before,.hint--top-right:hover:after{transform:translateY(-8px)}.hint--bottom-left:before{margin-top:-11px}.hint--bottom-left:before,.hint--bottom-left:after{top:100%;left:50%}.hint--bottom-left:before{left:calc(50% - 6px)}.hint--bottom-left:after{margin-left:12px;transform:translate(-100%)}.hint--bottom-left:hover:before{transform:translateY(8px)}.hint--bottom-left:hover:after{transform:translate(-100%)translateY(8px)}.hint--bottom-right:before{margin-top:-11px}.hint--bottom-right:before,.hint--bottom-right:after{top:100%;left:50%}.hint--bottom-right:before{left:calc(50% - 6px)}.hint--bottom-right:after{margin-left:-12px;transform:translate(0)}.hint--bottom-right:hover:before,.hint--bottom-right:hover:after{transform:translateY(8px)}.hint--small:after,.hint--medium:after,.hint--large:after{white-space:normal;word-wrap:break-word;line-height:1.4em}.hint--small:after{width:80px}.hint--medium:after{width:150px}.hint--large:after{width:300px}[class*=hint--]:after{text-shadow:0 -1px #000;box-shadow:4px 4px 8px #0000004d}.hint--error:after{text-shadow:0 -1px #592726;background-color:#b34e4d}.hint--error.hint--top-left:before,.hint--error.hint--top-right:before,.hint--error.hint--top:before{border-top-color:#b34e4d}.hint--error.hint--bottom-left:before,.hint--error.hint--bottom-right:before,.hint--error.hint--bottom:before{border-bottom-color:#b34e4d}.hint--error.hint--left:before{border-left-color:#b34e4d}.hint--error.hint--right:before{border-right-color:#b34e4d}.hint--warning:after{text-shadow:0 -1px #6c5328;background-color:#c09854}.hint--warning.hint--top-left:before,.hint--warning.hint--top-right:before,.hint--warning.hint--top:before{border-top-color:#c09854}.hint--warning.hint--bottom-left:before,.hint--warning.hint--bottom-right:before,.hint--warning.hint--bottom:before{border-bottom-color:#c09854}.hint--warning.hint--left:before{border-left-color:#c09854}.hint--warning.hint--right:before{border-right-color:#c09854}.hint--info:after{text-shadow:0 -1px #1a3c4d;background-color:#3986ac}.hint--info.hint--top-left:before,.hint--info.hint--top-right:before,.hint--info.hint--top:before{border-top-color:#3986ac}.hint--info.hint--bottom-left:before,.hint--info.hint--bottom-right:before,.hint--info.hint--bottom:before{border-bottom-color:#3986ac}.hint--info.hint--left:before{border-left-color:#3986ac}.hint--info.hint--right:before{border-right-color:#3986ac}.hint--success:after{text-shadow:0 -1px #1a321a;background-color:#458746}.hint--success.hint--top-left:before,.hint--success.hint--top-right:before,.hint--success.hint--top:before{border-top-color:#458746}.hint--success.hint--bottom-left:before,.hint--success.hint--bottom-right:before,.hint--success.hint--bottom:before{border-bottom-color:#458746}.hint--success.hint--left:before{border-left-color:#458746}.hint--success.hint--right:before{border-right-color:#458746}.hint--always:after,.hint--always:before{opacity:1;visibility:visible}.hint--always.hint--top:before{transform:translateY(-8px)}.hint--always.hint--top:after{transform:translate(-50%)translateY(-8px)}.hint--always.hint--top-left:before{transform:translateY(-8px)}.hint--always.hint--top-left:after{transform:translate(-100%)translateY(-8px)}.hint--always.hint--top-right:before,.hint--always.hint--top-right:after{transform:translateY(-8px)}.hint--always.hint--bottom:before{transform:translateY(8px)}.hint--always.hint--bottom:after{transform:translate(-50%)translateY(8px)}.hint--always.hint--bottom-left:before{transform:translateY(8px)}.hint--always.hint--bottom-left:after{transform:translate(-100%)translateY(8px)}.hint--always.hint--bottom-right:before,.hint--always.hint--bottom-right:after{transform:translateY(8px)}.hint--always.hint--left:before,.hint--always.hint--left:after{transform:translate(-8px)}.hint--always.hint--right:before,.hint--always.hint--right:after{transform:translate(8px)}.hint--rounded:after{border-radius:4px}.hint--no-animate:before,.hint--no-animate:after{transition-duration:0s}.hint--bounce:before,.hint--bounce:after{-webkit-transition:opacity .3s,visibility .3s,-webkit-transform .3s cubic-bezier(.71,1.7,.77,1.24);-moz-transition:opacity .3s,visibility .3s,-moz-transform .3s cubic-bezier(.71,1.7,.77,1.24);transition:opacity .3s,visibility .3s,transform .3s cubic-bezier(.71,1.7,.77,1.24)}.hint--no-shadow:before,.hint--no-shadow:after{text-shadow:initial;box-shadow:initial}.hint--no-arrow:before{display:none}'},{}],"2A2W5":[function(o,D,s){D.exports=function(){function t(u){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(u)}var e=Object.prototype.toString,i=function(u){if(u===void 0)return"undefined";if(u===null)return"null";var d=t(u);if(d==="boolean")return"boolean";if(d==="string")return"string";if(d==="number")return"number";if(d==="symbol")return"symbol";if(d==="function")return function(g){return a(g)==="GeneratorFunction"}(u)?"generatorfunction":"function";if(function(g){return Array.isArray?Array.isArray(g):g instanceof Array}(u))return"array";if(function(g){return!(!g.constructor||typeof g.constructor.isBuffer!="function")&&g.constructor.isBuffer(g)}(u))return"buffer";if(function(g){try{if(typeof g.length=="number"&&typeof g.callee=="function")return!0}catch(v){if(v.message.indexOf("callee")!==-1)return!0}return!1}(u))return"arguments";if(function(g){return g instanceof Date||typeof g.toDateString=="function"&&typeof g.getDate=="function"&&typeof g.setDate=="function"}(u))return"date";if(function(g){return g instanceof Error||typeof g.message=="string"&&g.constructor&&typeof g.constructor.stackTraceLimit=="number"}(u))return"error";if(function(g){return g instanceof RegExp||typeof g.flags=="string"&&typeof g.ignoreCase=="boolean"&&typeof g.multiline=="boolean"&&typeof g.global=="boolean"}(u))return"regexp";switch(a(u)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(g){return typeof g.throw=="function"&&typeof g.return=="function"&&typeof g.next=="function"}(u))return"generator";switch(d=e.call(u)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return d.slice(8,-1).toLowerCase().replace(/\s/g,"")};function a(u){return u.constructor?u.constructor.name:null}function r(u,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:["option"];return l(u,d,g),n(u,d,g),function(v,A,P){var O=i(A),j=i(v);if(O==="object"){if(j!=="object")throw new Error("[Type Error]: '".concat(P.join("."),"' require 'object' type, but got '").concat(j,"'"));Object.keys(A).forEach(function(E){var C=v[E],b=A[E],m=P.slice();m.push(E),l(C,b,m),n(C,b,m),r(C,b,m)})}if(O==="array"){if(j!=="array")throw new Error("[Type Error]: '".concat(P.join("."),"' require 'array' type, but got '").concat(j,"'"));v.forEach(function(E,C){var b=v[C],m=A[C]||A[0],_=P.slice();_.push(C),l(b,m,_),n(b,m,_),r(b,m,_)})}}(u,d,g),u}function l(u,d,g){if(i(d)==="string"){var v=i(u);if(d[0]==="?"&&(d=d.slice(1)+"|undefined"),!(-1<d.indexOf("|")?d.split("|").map(function(A){return A.toLowerCase().trim()}).filter(Boolean).some(function(A){return v===A}):d.toLowerCase().trim()===v))throw new Error("[Type Error]: '".concat(g.join("."),"' require '").concat(d,"' type, but got '").concat(v,"'"))}}function n(u,d,g){if(i(d)==="function"){var v=d(u,i(u),g);if(v!==!0){var A=i(v);throw A==="string"?new Error(v):A==="error"?v:new Error("[Validator Error]: The scheme for '".concat(g.join("."),"' validator require return true, but got '").concat(v,"'"))}}}return r.kindOf=i,r}()},{}],"7pHuB":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=class{on(t,e,i){const a=this.e||(this.e={});return(a[t]||(a[t]=[])).push({fn:e,ctx:i}),this}once(t,e,i){const a=this;function r(...l){a.off(t,r),e.apply(i,l)}return r._=e,this.on(t,r,i)}emit(t,...e){const i=((this.e||(this.e={}))[t]||[]).slice();for(let a=0;a<i.length;a+=1)i[a].fn.apply(i[a].ctx,e);return this}off(t,e){const i=this.e||(this.e={}),a=i[t],r=[];if(a&&e)for(let l=0,n=a.length;l<n;l+=1)a[l].fn!==e&&a[l].fn._!==e&&r.push(a[l]);return r.length?i[t]=r:delete i[t],this}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],fRZO2:[function(o,D,s){s.interopDefault=function(t){return t&&t.__esModule?t:{default:t}},s.defineInteropFlag=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.exportAll=function(t,e){return Object.keys(t).forEach(function(i){i==="default"||i==="__esModule"||e.hasOwnProperty(i)||Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[i]}})}),e},s.export=function(t,e,i){Object.defineProperty(t,e,{enumerable:!0,get:i})}},{}],geSvU:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./dom");t.exportAll(e,s);var i=o("./error");t.exportAll(i,s);var a=o("./subtitle");t.exportAll(a,s);var r=o("./file");t.exportAll(r,s);var l=o("./property");t.exportAll(l,s);var n=o("./time");t.exportAll(n,s);var u=o("./format");t.exportAll(u,s);var d=o("./compatibility");t.exportAll(d,s)},{"./dom":"ff6Hs","./error":"lDQPM","./subtitle":"1dyFb","./file":"96gQe","./property":"lMM6V","./time":"41yFW","./format":"MRJhs","./compatibility":"ki3pQ","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],ff6Hs:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"query",()=>i),t.export(s,"queryAll",()=>a),t.export(s,"addClass",()=>r),t.export(s,"removeClass",()=>l),t.export(s,"hasClass",()=>n),t.export(s,"append",()=>u),t.export(s,"remove",()=>d),t.export(s,"setStyle",()=>g),t.export(s,"setStyles",()=>v),t.export(s,"getStyle",()=>A),t.export(s,"sublings",()=>P),t.export(s,"inverseClass",()=>O),t.export(s,"tooltip",()=>j),t.export(s,"isInViewport",()=>E),t.export(s,"includeFromEvent",()=>C),t.export(s,"replaceElement",()=>b);var e=o("./compatibility");function i(m,_=document){return _.querySelector(m)}function a(m,_=document){return Array.from(_.querySelectorAll(m))}function r(m,_){return m.classList.add(_)}function l(m,_){return m.classList.remove(_)}function n(m,_){return m.classList.contains(_)}function u(m,_){return _ instanceof Element?m.appendChild(_):m.insertAdjacentHTML("beforeend",String(_)),m.lastElementChild||m.lastChild}function d(m){return m.parentNode.removeChild(m)}function g(m,_,w){return m.style[_]=w,m}function v(m,_){return Object.keys(_).forEach(w=>{g(m,w,_[w])}),m}function A(m,_,w=!0){const S=window.getComputedStyle(m,null).getPropertyValue(_);return w?parseFloat(S):S}function P(m){return Array.from(m.parentElement.children).filter(_=>_!==m)}function O(m,_){P(m).forEach(w=>l(w,_)),r(m,_)}function j(m,_,w="top"){e.isMobile||(m.setAttribute("aria-label",_),r(m,"hint--rounded"),r(m,`hint--${w}`))}function E(m,_=0){const w=m.getBoundingClientRect(),S=window.innerHeight||document.documentElement.clientHeight,B=window.innerWidth||document.documentElement.clientWidth,z=w.top-_<=S&&w.top+w.height+_>=0,Z=w.left-_<=B+_&&w.left+w.width+_>=0;return z&&Z}function C(m,_){return m.composedPath&&m.composedPath().indexOf(_)>-1}function b(m,_){return _.parentNode.replaceChild(m,_),m}},{"./compatibility":"ki3pQ","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],ki3pQ:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"userAgent",()=>e),t.export(s,"isMobile",()=>i),t.export(s,"isSafari",()=>a),t.export(s,"isWechat",()=>r),t.export(s,"isIE",()=>l),t.export(s,"isAndroid",()=>n),t.export(s,"isIOS",()=>u);const e=typeof window!="undefined"?window.navigator.userAgent:"",i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),a=/^((?!chrome|android).)*safari/i.test(e),r=/MicroMessenger/i.test(e),l=/MSIE|Trident/i.test(e),n=/android/i.test(e),u=/iPad|iPhone|iPod/i.test(e)&&!window.MSStream},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],lDQPM:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"ArtPlayerError",()=>e),t.export(s,"errorHandle",()=>i);class e extends Error{constructor(r,l){super(r),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,l||this.constructor),this.name="ArtPlayerError"}}function i(a,r){if(!a)throw new e(r);return a}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"1dyFb":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");function e(r){return`WEBVTT \r
\r
`.concat((l=r,l.replace(/(\d\d:\d\d:\d\d)[,.](\d+)/g,(n,u,d)=>{let g=d.slice(0,3);return d.length===1&&(g=d+"00"),d.length===2&&(g=d+"0"),`${u},${g}`})).replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").replace(/{[\s\S]*?}/g,"").concat(`\r
\r
`));var l}function i(r){return URL.createObjectURL(new Blob([r],{type:"text/vtt"}))}function a(r){const l=new RegExp("Dialogue:\\s\\d,(\\d+:\\d\\d:\\d\\d.\\d\\d),(\\d+:\\d\\d:\\d\\d.\\d\\d),([^,]*),([^,]*),(?:[^,]*,){4}([\\s\\S]*)$","i");function n(u=""){return u.split(/[:.]/).map((d,g,v)=>{if(g===v.length-1){if(d.length===1)return`.${d}00`;if(d.length===2)return`.${d}0`}else if(d.length===1)return(g===0?"0":":0")+d;return g===0?d:g===v.length-1?`.${d}`:`:${d}`}).join("")}return`WEBVTT

${r.split(/\r?\n/).map(u=>{const d=u.match(l);return d?{start:n(d[1].trim()),end:n(d[2].trim()),text:d[5].replace(/{[\s\S]*?}/g,"").replace(/(\\N)/g,`
`).trim().split(/\r?\n/).map(g=>g.trim()).join(`
`)}:null}).filter(u=>u).map((u,d)=>u?`${d+1}
${u.start} --> ${u.end}
${u.text}`:"").filter(u=>u.trim()).join(`

`)}`}t.defineInteropFlag(s),t.export(s,"srtToVtt",()=>e),t.export(s,"vttToBlob",()=>i),t.export(s,"assToVtt",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"96gQe":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");function e(a){return a.includes("?")?e(a.split("?")[0]):a.includes("#")?e(a.split("#")[0]):a.trim().toLowerCase().split(".").pop()}function i(a,r){const l=document.createElement("a");l.style.display="none",l.href=a,l.download=r,document.body.appendChild(l),l.click(),document.body.removeChild(l)}t.defineInteropFlag(s),t.export(s,"getExt",()=>e),t.export(s,"download",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],lMM6V:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"def",()=>e),t.export(s,"has",()=>a),t.export(s,"get",()=>r),t.export(s,"mergeDeep",()=>l);const e=Object.defineProperty,{hasOwnProperty:i}=Object.prototype;function a(n,u){return i.call(n,u)}function r(n,u){return Object.getOwnPropertyDescriptor(n,u)}function l(...n){const u=d=>d&&typeof d=="object"&&!Array.isArray(d);return n.reduce((d,g)=>(Object.keys(g).forEach(v=>{const A=d[v],P=g[v];Array.isArray(A)&&Array.isArray(P)?d[v]=A.concat(...P):!u(A)||!u(P)||P instanceof Element?d[v]=P:d[v]=l(A,P)}),d),{})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"41yFW":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");function e(r=0){return new Promise(l=>setTimeout(l,r))}function i(r,l,n){let u;function d(...g){clearTimeout(u),u=setTimeout(function(){u=null,r.apply(n,g)},l)}return d.clearTimeout=function(){clearTimeout(u)},d}function a(r,l){let n,u,d=!1;return function g(...v){if(d)return n=v,void(u=this);d=!0,r.apply(this,v),setTimeout(()=>{d=!1,n&&(g.apply(u,n),n=null,u=null)},l)}}t.defineInteropFlag(s),t.export(s,"sleep",()=>e),t.export(s,"debounce",()=>i),t.export(s,"throttle",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],MRJhs:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");function e(r,l,n){return Math.max(Math.min(r,Math.max(l,n)),Math.min(l,n))}function i(r){const l=Math.floor(r/3600),n=Math.floor((r-3600*l)/60),u=Math.floor(r-3600*l-60*n);return(l>0?[l,n,u]:[n,u]).map(d=>d<10?`0${d}`:String(d)).join(":")}function a(r){return r.replace(/[&<>'"]/g,l=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[l]||l)}t.defineInteropFlag(s),t.export(s,"clamp",()=>e),t.export(s,"secondToTime",()=>i),t.export(s,"escape",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"3vPoh":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"ComponentOption",()=>g);var e=o("../utils");const i="array",a="boolean",r="string",l="number",n="object",u="function";function d(v,A,P){return(0,e.errorHandle)(A===r||A===l||v instanceof Element,`${P.join(".")} require '${r}' or 'Element' type`)}const g={html:d,disable:`?${a}`,name:`?${r}`,index:`?${l}`,style:`?${n}`,click:`?${u}`,mounted:`?${u}`,tooltip:`?${r}|${l}`,width:`?${l}`,selector:`?${i}`,onSelect:`?${u}`,switch:`?${a}`,onSwitch:`?${u}`,range:`?${i}`,onRange:`?${u}`};s.default={container:d,url:r,poster:r,title:r,type:r,theme:r,lang:r,volume:l,isLive:a,muted:a,autoplay:a,autoSize:a,autoMini:a,loop:a,flip:a,playbackRate:a,aspectRatio:a,screenshot:a,setting:a,hotkey:a,pip:a,mutex:a,backdrop:a,fullscreen:a,fullscreenWeb:a,subtitleOffset:a,miniProgressBar:a,useSSR:a,playsInline:a,lock:a,fastForward:a,autoPlayback:a,autoOrientation:a,plugins:[u],whitelist:[`${r}|${u}|regexp`],layers:[g],contextmenu:[g],settings:[g],controls:[bt(_t({},g),{position:(v,A,P)=>{const O=["top","left","right"];return(0,e.errorHandle)(O.includes(v),`${P.join(".")} only accept ${O.toString()} as parameters`)}})],quality:[{default:`?${a}`,html:r,url:r}],highlight:[{time:l,text:r}],thumbnails:{url:r,number:l,column:l},subtitle:{url:r,type:r,style:n,encoding:r},moreVideoAttr:n,icons:n,customType:n}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],eksZR:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default={propertys:["audioTracks","autoplay","buffered","controller","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","mediaGroup","muted","networkState","paused","playbackRate","played","preload","readyState","seekable","seeking","src","startDate","textTracks","videoTracks","volume"],methods:["addTextTrack","canPlayType","load","play","pause"],events:["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],prototypes:["width","height","videoWidth","videoHeight","poster","webkitDecodedFrameCount","webkitDroppedFrameCount","playsInline","webkitSupportsFullscreen","webkitDisplayingFullscreen","onenterpictureinpicture","onleavepictureinpicture","disablePictureInPicture","cancelVideoFrameCallback","requestVideoFrameCallback","getVideoPlaybackQuality","requestPictureInPicture","webkitEnterFullScreen","webkitEnterFullscreen","webkitExitFullScreen","webkitExitFullscreen"]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],fCKwj:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("./utils");s.default=class{constructor(e){this.art=e}get state(){const{option:e,constructor:{kindOf:i}}=this.art;return!t.isMobile||e.whitelist.some(a=>{switch(i(a)){case"string":return a==="*"||t.userAgent.indexOf(a)>-1;case"function":return a(t.userAgent);case"regexp":return a.test(t.userAgent);default:return!1}})}}},{"./utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],bqHdK:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("./utils");class e{constructor(a){this.art=a;const{option:r,constructor:l,whitelist:n}=a;r.container instanceof Element?this.$container=r.container:(this.$container=(0,t.query)(r.container),(0,t.errorHandle)(this.$container,`No container element found by ${r.container}`));const u=this.$container.tagName.toLowerCase();(0,t.errorHandle)(u==="div",`Unsupported container element type, only support 'div' but got '${u}'`),(0,t.errorHandle)(l.instances.every(d=>d.template.$container!==this.$container),"Cannot mount multiple instances on the same dom element"),this.query=this.query.bind(this),this.$container.dataset.artId=a.id,this.$original=this.$container.cloneNode(!0),n.state?this.desktop():this.mobile()}static get html(){return'<div class="art-video-player art-subtitle-show art-layer-show art-control-show art-mask-show"><video class="art-video"></video><div class="art-poster"></div><div class="art-subtitle"></div><div class="art-danmuku"></div><div class="art-layers"></div><div class="art-mask"><div class="art-state"></div></div><div class="art-bottom"><div class="art-progress"></div><div class="art-controls"><div class="art-controls-left"></div><div class="art-controls-center"></div><div class="art-controls-right"></div></div></div><div class="art-loading"></div><div class="art-notice"><div class="art-notice-inner"></div></div><div class="art-settings"></div><div class="art-info"><div class="art-info-panel"><div class="art-info-item"><div class="art-info-title">Player version:</div><div class="art-info-content">4.5.2</div></div><div class="art-info-item"><div class="art-info-title">Video url:</div><div class="art-info-content" data-video="src"></div></div><div class="art-info-item"><div class="art-info-title">Video volume:</div><div class="art-info-content" data-video="volume"></div></div><div class="art-info-item"><div class="art-info-title">Video time:</div><div class="art-info-content" data-video="currentTime"></div></div><div class="art-info-item"><div class="art-info-title">Video duration:</div><div class="art-info-content" data-video="duration"></div></div><div class="art-info-item"><div class="art-info-title">Video resolution:</div><div class="art-info-content"><span data-video="videoWidth"></span> x <span data-video="videoHeight"></span></div></div></div><div class="art-info-close">[x]</div></div><div class="art-mini-header"><div class="art-mini-title"></div><div class="art-mini-close">\xD7</div></div><div class="art-contextmenus"></div></div>'}query(a){return(0,t.query)(a,this.$container)}desktop(){const{option:a}=this.art;a.useSSR||(this.$container.innerHTML=e.html),this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video"),this.$poster=this.query(".art-poster"),this.$subtitle=this.query(".art-subtitle"),this.$danmuku=this.query(".art-danmuku"),this.$bottom=this.query(".art-bottom"),this.$progress=this.query(".art-progress"),this.$controls=this.query(".art-controls"),this.$controlsLeft=this.query(".art-controls-left"),this.$controlsCenter=this.query(".art-controls-center"),this.$controlsRight=this.query(".art-controls-right"),this.$layer=this.query(".art-layers"),this.$loading=this.query(".art-loading"),this.$notice=this.query(".art-notice"),this.$noticeInner=this.query(".art-notice-inner"),this.$mask=this.query(".art-mask"),this.$state=this.query(".art-state"),this.$setting=this.query(".art-settings"),this.$info=this.query(".art-info"),this.$infoPanel=this.query(".art-info-panel"),this.$infoClose=this.query(".art-info-close"),this.$miniHeader=this.query(".art-mini-header"),this.$miniTitle=this.query(".art-mini-title"),this.$miniClose=this.query(".art-mini-close"),this.$contextmenu=this.query(".art-contextmenus"),a.backdrop&&((0,t.addClass)(this.$setting,"art-backdrop-filter"),(0,t.addClass)(this.$contextmenu,"art-backdrop-filter"),(0,t.addClass)(this.$info,"art-backdrop-filter")),t.isMobile&&(0,t.addClass)(this.$player,"art-mobile")}mobile(){this.$container.innerHTML='<div class="art-video-player"><video class="art-video"></video></div>',this.$player=this.query(".art-video-player"),this.$video=this.query(".art-video")}destroy(a){a?(0,t.replaceElement)(this.$original,this.$container):(0,t.addClass)(this.$player,"art-destroy")}}s.default=e},{"./utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"4O9ZY":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("../utils"),i=o("./zh-cn.json"),a=t.interopDefault(i),r=o("./zh-tw.json"),l=t.interopDefault(r),n=o("./pl.json"),u=t.interopDefault(n),d=o("./cs.json"),g=t.interopDefault(d);s.default=class{constructor(v){this.art=v,this.languages={"zh-cn":a.default,"zh-tw":l.default,pl:u.default,cs:g.default},this.init()}init(){const v=this.art.option.lang.toLowerCase();this.language=this.languages[v]||{}}get(v){return this.language[v]||v}update(v){this.languages=(0,e.mergeDeep)(this.languages,v),this.init()}}},{"../utils":"geSvU","./zh-cn.json":"e7BQ4","./zh-tw.json":"5kFyN","./pl.json":"3cd1e","./cs.json":"an7cR","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],e7BQ4:[function(o,D,s){D.exports=JSON.parse('{"Video Info":"\u7EDF\u8BA1\u4FE1\u606F","Close":"\u5173\u95ED","Video Load Failed":"\u52A0\u8F7D\u5931\u8D25","Volume":"\u97F3\u91CF","Play":"\u64AD\u653E","Pause":"\u6682\u505C","Rate":"\u901F\u5EA6","Mute":"\u9759\u97F3","Video Flip":"\u753B\u9762\u7FFB\u8F6C","Horizontal":"\u6C34\u5E73","Vertical":"\u5782\u76F4","Reconnect":"\u91CD\u65B0\u8FDE\u63A5","Show Setting":"\u663E\u793A\u8BBE\u7F6E","Hide Setting":"\u9690\u85CF\u8BBE\u7F6E","Screenshot":"\u622A\u56FE","Play Speed":"\u64AD\u653E\u901F\u5EA6","Aspect Ratio":"\u753B\u9762\u6BD4\u4F8B","Default":"\u9ED8\u8BA4","Normal":"\u6B63\u5E38","Open":"\u6253\u5F00","Switch Video":"\u5207\u6362","Switch Subtitle":"\u5207\u6362\u5B57\u5E55","Fullscreen":"\u5168\u5C4F","Exit Fullscreen":"\u9000\u51FA\u5168\u5C4F","Web Fullscreen":"\u7F51\u9875\u5168\u5C4F","Exit Web Fullscreen":"\u9000\u51FA\u7F51\u9875\u5168\u5C4F","Mini Player":"\u8FF7\u4F60\u64AD\u653E\u5668","PIP Mode":"\u5F00\u542F\u753B\u4E2D\u753B","Exit PIP Mode":"\u9000\u51FA\u753B\u4E2D\u753B","PIP Not Supported":"\u4E0D\u652F\u6301\u753B\u4E2D\u753B","Fullscreen Not Supported":"\u4E0D\u652F\u6301\u5168\u5C4F","Subtitle Offset":"\u5B57\u5E55\u504F\u79FB","Last Seen":"\u4E0A\u6B21\u770B\u5230","Jump Play":"\u8DF3\u8F6C\u64AD\u653E"}')},{}],"5kFyN":[function(o,D,s){D.exports=JSON.parse('{"Video Info":"\u7D71\u8A08\u8A0A\u606F","Close":"\u95DC\u9589","Video Load Failed":"\u8F09\u5165\u5931\u6557","Volume":"\u97F3\u91CF","Play":"\u64AD\u653E","Pause":"\u66AB\u505C","Rate":"\u901F\u5EA6","Mute":"\u975C\u97F3","Video Flip":"\u756B\u9762\u7FFB\u8F49","Horizontal":"\u6C34\u5E73","Vertical":"\u5782\u76F4","Reconnect":"\u91CD\u65B0\u9023\u63A5","Show Setting":"\u986F\u793A\u8BBE\u7F6E","Hide Setting":"\u96B1\u85CF\u8BBE\u7F6E","Screenshot":"\u622A\u5716","Play Speed":"\u64AD\u653E\u901F\u5EA6","Aspect Ratio":"\u756B\u9762\u6BD4\u4F8B","Default":"\u9ED8\u8A8D","Normal":"\u6B63\u5E38","Open":"\u6253\u958B","Switch Video":"\u5207\u63DB","Switch Subtitle":"\u5207\u63DB\u5B57\u5E55","Fullscreen":"\u5168\u5C4F","Exit Fullscreen":"\u9000\u51FA\u5168\u5C4F","Web Fullscreen":"\u7DB2\u9801\u5168\u5C4F","Exit Web Fullscreen":"\u9000\u51FA\u7DB2\u9801\u5168\u5C4F","Mini Player":"\u8FF7\u4F60\u64AD\u653E\u5668","PIP Mode":"\u958B\u555F\u756B\u4E2D\u756B","Exit PIP Mode":"\u9000\u51FA\u756B\u4E2D\u756B","PIP Not Supported":"\u4E0D\u652F\u6301\u756B\u4E2D\u756B","Fullscreen Not Supported":"\u4E0D\u652F\u6301\u5168\u5C4F","Subtitle Offset":"\u5B57\u5E55\u504F\u79FB","Last Seen":"\u4E0A\u6B21\u770B\u5230","Jump Play":"\u8DF3\u8F49\u64AD\u653E"}')},{}],"3cd1e":[function(o,D,s){D.exports=JSON.parse('{"Video Info":"Informacje o wideo","Close":"Zamknij","Video Load Failed":"B\u0142\u0105d \u0142adowania wideo","Volume":"G\u0142o\u015Bno\u015B\u0107","Play":"Odtw\xF3rz","Pause":"Wstrzymaj","Rate":"Oce\u0144","Mute":"Wycisz","Video Flip":"Rotacja wideo","Horizontal":"Pozioma","Vertical":"Pionowa","Reconnect":"Po\u0142\u0105cz ponownie","Show Setting":"Poka\u017C ustawienia","Hide Setting":"Ukryj ustawienia","Screenshot":"Zrzut ekranu","Play Speed":"Pr\u0119dko\u015B\u0107 odtwarzania","Aspect Ratio":"Wsp\xF3\u0142czynnik proporcji","Default":"Domy\u015Blny","Normal":"Normalny","Open":"Otw\xF3rz","Switch Video":"Prze\u0142\u0105cz wideo","Switch Subtitle":"Prze\u0142\u0105cz napisy","Fullscreen":"Pe\u0142ny ekran","Exit Fullscreen":"Zamknij pe\u0142ny ekran","Web Fullscreen":"Tryb pe\u0142nej strony","Exit Web Fullscreen":"Zamknij tryb pe\u0142nej strony","Mini Player":"Miniodtwarzacz","PIP Mode":"Tryb PiP","Exit PIP Mode":"Zamknij tryb PiP","PIP Not Supported":"Tryb PiP nieobs\u0142ugiwany","Fullscreen Not Supported":"Pe\u0142ny ekran nieobs\u0142ugiwany","Subtitle Offset":"Przesuni\u0119cie napis\xF3w","Last Seen":"Ostatnio widziany","Jump Play":"Skocz do gry"}')},{}],an7cR:[function(o,D,s){D.exports=JSON.parse('{"Video Info":"Info o videu","Close":"Zav\u0159\xEDt","Video Load Failed":"Nahr\xE1n\xED videa selhalo","Volume":"Hlasitost","Play":"P\u0159ehr\xE1t","Pause":"Pozastavit","Rate":"Hodnocen\xED","Mute":"Ztlumit","Video Flip":"Oto\u010Dit video","Horizontal":"Horizont\xE1ln\u011B","Vertical":"Vertik\xE1ln\u011B","Reconnect":"Op\u011Btovn\xE9 p\u0159ipojen\xED","Show Setting":"Zobrazit nastaven\xED","Hide Setting":"Skr\xFDt nastaven\xED","Screenshot":"Sn\xEDmek obrazovky","Play Speed":"Rychlost p\u0159ehr\xE1v\xE1n\xED","Aspect Ratio":"Pom\u011Br stran","Default":"V\xFDchoz\xED","Normal":"Norm\xE1ln\xED","Open":"Otev\u0159\xEDt","Switch Video":"P\u0159epnout video","Switch Subtitle":"P\u0159epnout titulky","Fullscreen":"Cel\xE1 obrazovka","Exit Fullscreen":"Opustit re\u017Eim cel\xE9 obrazovky","Web Fullscreen":"Cel\xE1 str\xE1nka","Exit Web Fullscreen":"Zav\u0159\xEDt re\u017Eim cel\xE9 str\xE1nky","Mini Player":"Mini p\u0159ehr\xE1va\u010D","PIP Mode":"Re\u017Eim PIP","Exit PIP Mode":"Opustit re\u017Eim PIP","PIP Not Supported":"Re\u017Eim PIP nen\xED podporov\xE1n","Fullscreen Not Supported":"Re\u017Eim cel\xE9 obrazovky nen\xED podporov\xE1n","Subtitle Offset":"Posun titulk\u016F","Last Seen":"Naposledy vid\u011Bn","Jump Play":"Hra na skok"}')},{}],fzROd:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./urlMix"),i=t.interopDefault(e),a=o("./attrMix"),r=t.interopDefault(a),l=o("./playMix"),n=t.interopDefault(l),u=o("./pauseMix"),d=t.interopDefault(u),g=o("./toggleMix"),v=t.interopDefault(g),A=o("./seekMix"),P=t.interopDefault(A),O=o("./volumeMix"),j=t.interopDefault(O),E=o("./currentTimeMix"),C=t.interopDefault(E),b=o("./durationMix"),m=t.interopDefault(b),_=o("./switchMix"),w=t.interopDefault(_),S=o("./playbackRateMix"),B=t.interopDefault(S),z=o("./aspectRatioMix"),Z=t.interopDefault(z),J=o("./screenshotMix"),K=t.interopDefault(J),tt=o("./fullscreenMix"),L=t.interopDefault(tt),x=o("./fullscreenWebMix"),T=t.interopDefault(x),M=o("./pipMix"),W=t.interopDefault(M),rt=o("./loadedMix"),lt=t.interopDefault(rt),mt=o("./playedMix"),vt=t.interopDefault(mt),ht=o("./playingMix"),$=t.interopDefault(ht),G=o("./autoSizeMix"),X=t.interopDefault(G),it=o("./rectMix"),nt=t.interopDefault(it),Y=o("./flipMix"),pt=t.interopDefault(Y),p=o("./miniMix"),c=t.interopDefault(p),h=o("./loopMix"),f=t.interopDefault(h),y=o("./posterMix"),k=t.interopDefault(y),R=o("./autoHeightMix"),I=t.interopDefault(R),F=o("./themeMix"),U=t.interopDefault(F),N=o("./titleMix"),q=t.interopDefault(N),V=o("./normalSizeMix"),H=t.interopDefault(V),et=o("./subtitleOffsetMix"),ot=t.interopDefault(et),Q=o("./optionInit"),st=t.interopDefault(Q),ct=o("./eventInit"),dt=t.interopDefault(ct);s.default=class{constructor(at){(0,i.default)(at),(0,r.default)(at),(0,n.default)(at),(0,d.default)(at),(0,v.default)(at),(0,P.default)(at),(0,j.default)(at),(0,C.default)(at),(0,m.default)(at),(0,w.default)(at),(0,B.default)(at),(0,Z.default)(at),(0,K.default)(at),(0,L.default)(at),(0,T.default)(at),(0,W.default)(at),(0,lt.default)(at),(0,vt.default)(at),(0,$.default)(at),(0,X.default)(at),(0,nt.default)(at),(0,pt.default)(at),(0,c.default)(at),(0,f.default)(at),(0,k.default)(at),(0,I.default)(at),(0,U.default)(at),(0,q.default)(at),(0,H.default)(at),(0,ot.default)(at),(0,dt.default)(at),(0,st.default)(at)}}},{"./urlMix":"cChak","./attrMix":"e6Qkm","./playMix":"1FNSV","./pauseMix":"aPHUd","./toggleMix":"joISC","./seekMix":"4wG3e","./volumeMix":"42Xo1","./currentTimeMix":"8Z3pM","./durationMix":"hpnJy","./switchMix":"aCsa8","./playbackRateMix":"61TVa","./aspectRatioMix":"8BV9k","./screenshotMix":"bop8O","./fullscreenMix":"i63VK","./fullscreenWebMix":"bEKHA","./pipMix":"ibIuh","./loadedMix":"kwpxq","./playedMix":"e4Iws","./playingMix":"fueZP","./autoSizeMix":"l6TMg","./rectMix":"6URTt","./flipMix":"joth7","./miniMix":"durkk","./loopMix":"5EZwI","./posterMix":"22WMt","./autoHeightMix":"8pdNr","./themeMix":"eADqm","./titleMix":"8T9U6","./normalSizeMix":"iEQHG","./subtitleOffsetMix":"8CMLG","./optionInit":"aqLU7","./eventInit":"59ETf","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],cChak:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{option:i,template:{$video:a}}=e;(0,t.def)(e,"url",{get:()=>a.currentSrc,async set(r){const l=i.type||(0,t.getExt)(r),n=i.customType[l];l&&n?(await(0,t.sleep)(),e.loading.show=!0,n.call(e,a,r,e)):(e.url&&e.url!==r&&e.once("video:canplay",()=>{e.isReady&&e.emit("restart")}),a.src=r,e.option.url=r,e.emit("url",r))}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],e6Qkm:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{template:{$video:i}}=e;(0,t.def)(e,"attr",{value(a,r){if(r===void 0)return i[a];i[a]=r}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"1FNSV":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{i18n:i,notice:a,option:r,constructor:{instances:l},template:{$video:n}}=e;(0,t.def)(e,"play",{value(){const u=n.play();if(u&&u.then&&u.then().catch(d=>{throw a.show=d,d}),r.mutex)for(let d=0;d<l.length;d++){const g=l[d];g!==e&&g.pause()}return a.show=i.get("Play"),e.emit("play"),u}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],aPHUd:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{template:{$video:i},i18n:a,notice:r}=e;(0,t.def)(e,"pause",{value(){const l=i.pause();return r.show=a.get("Pause"),e.emit("pause"),l}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],joISC:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){(0,t.def)(e,"toggle",{value:()=>e.playing?e.pause():e.play()})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"4wG3e":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{notice:i}=e;(0,t.def)(e,"seek",{set(a){e.currentTime=a,e.emit("seek",e.currentTime),e.duration&&(i.show=`${(0,t.secondToTime)(e.currentTime)} / ${(0,t.secondToTime)(e.duration)}`)}}),(0,t.def)(e,"forward",{set(a){e.seek=e.currentTime+a}}),(0,t.def)(e,"backward",{set(a){e.seek=e.currentTime-a}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"42Xo1":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{template:{$video:i},i18n:a,notice:r,storage:l}=e;(0,t.def)(e,"volume",{get:()=>i.volume||0,set:n=>{i.volume=(0,t.clamp)(n,0,1),r.show=`${a.get("Volume")}: ${parseInt(100*i.volume,10)}`,i.volume!==0&&l.set("volume",i.volume),e.emit("volume",i.volume)}}),(0,t.def)(e,"muted",{get:()=>i.muted,set:n=>{i.muted=n,e.emit("volume",i.volume)}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"8Z3pM":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{$video:i}=e.template;(0,t.def)(e,"currentTime",{get:()=>i.currentTime||0,set:a=>{a=parseFloat(a),Number.isNaN(a)||(i.currentTime=(0,t.clamp)(a,0,e.duration))}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],hpnJy:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){(0,t.def)(e,"duration",{get:()=>{const{duration:i}=e.template.$video;return i===1/0?0:i||0}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],aCsa8:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{i18n:i,option:a,notice:r}=e;function l(n,u,d){return new Promise(g=>{if(n===e.url)return g(n);const{playing:v}=e;e.pause(),URL.revokeObjectURL(e.url),e.url=n,e.once("video:canplay",()=>{e.playbackRate=!1,e.aspectRatio=!1,e.flip="normal",e.autoSize=a.autoSize,e.currentTime=d,e.notice.show="",v&&e.play(),u&&(r.show=`${i.get("Switch Video")}: ${u}`),e.emit("switch",n),g(n)})})}(0,t.def)(e,"switchQuality",{value:(n,u)=>l(n,u,e.currentTime)}),(0,t.def)(e,"switchUrl",{value:(n,u)=>l(n,u,0)})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"61TVa":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{template:{$video:i},i18n:a,notice:r}=e;(0,t.def)(e,"playbackRate",{get:()=>i.playbackRate,set(l){if(l){if(l===i.playbackRate)return;const n=[.25,.5,.75,1,1.25,1.5,1.75,2,3,4];(0,t.errorHandle)(n.includes(l),`'playbackRate' only accept ${n.toString()} as parameters`),i.playbackRate=l,r.show=`${a.get("Rate")}: ${l===1?a.get("Normal"):`${l}x`}`,e.emit("playbackRate",l)}else e.playbackRate=1,e.emit("playbackRate")}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"8BV9k":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{template:{$video:i,$player:a},i18n:r,notice:l}=e;(0,t.def)(e,"aspectRatio",{get:()=>a.dataset.aspectRatio||"default",set(n){n||(n="default");const u=["default","4:3","16:9"];if((0,t.errorHandle)(u.includes(n),`'aspectRatio' only accept ${u.toString()} as parameters`),n==="default")(0,t.setStyle)(i,"width",null),(0,t.setStyle)(i,"height",null),(0,t.setStyle)(i,"padding",null),delete a.dataset.aspectRatio;else{const d=n.split(":").map(Number),{videoWidth:g,videoHeight:v}=i,{clientWidth:A,clientHeight:P}=a,O=g/v,j=d[0]/d[1];if(O>j){const E=j*v/g;(0,t.setStyle)(i,"width",100*E+"%"),(0,t.setStyle)(i,"height","100%"),(0,t.setStyle)(i,"padding",`0 ${(A-A*E)/2}px`)}else{const E=g/j/v;(0,t.setStyle)(i,"width","100%"),(0,t.setStyle)(i,"height",100*E+"%"),(0,t.setStyle)(i,"padding",(P-P*E)/2+"px 0")}a.dataset.aspectRatio=n}l.show=`${r.get("Aspect Ratio")}: ${n==="default"?r.get("Default"):n}`,e.emit("aspectRatio",n)}}),(0,t.def)(e,"aspectRatioReset",{set(n){if(n){const{aspectRatio:u}=e;e.aspectRatio=u}}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],bop8O:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{option:i,notice:a,template:{$video:r}}=e,l=document.createElement("canvas");(0,t.def)(e,"getDataURL",{value:()=>new Promise((n,u)=>{try{l.width=r.videoWidth,l.height=r.videoHeight,l.getContext("2d").drawImage(r,0,0),n(l.toDataURL("image/png"))}catch(d){a.show=d,u(d)}})}),(0,t.def)(e,"getBlobUrl",{value:()=>new Promise((n,u)=>{try{l.width=r.videoWidth,l.height=r.videoHeight,l.getContext("2d").drawImage(r,0,0),l.toBlob(d=>{n(URL.createObjectURL(d))})}catch(d){a.show=d,u(d)}})}),(0,t.def)(e,"screenshot",{value:async()=>{const n=await e.getDataURL();return(0,t.download)(n,`${i.title||"artplayer"}_${(0,t.secondToTime)(r.currentTime)}.png`),e.emit("screenshot",n),n}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],i63VK:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("../libs/screenfull"),i=t.interopDefault(e),a=o("../utils");s.default=function(r){const{i18n:l,notice:n,template:{$video:u,$player:d}}=r,g=(0,i.default)();r.once("video:loadedmetadata",()=>{var v;g.isEnabled?(v=r,g.on("change",()=>v.emit("fullscreen",g.isFullscreen)),(0,a.def)(v,"fullscreen",{get:()=>g.isFullscreen,async set(A){A?(v.normalSize="fullscreen",v.aspectRatioReset=!0,v.autoSize=!1,await g.request(d),(0,a.addClass)(d,"art-fullscreen"),v.emit("resize"),v.emit("fullscreen",!0),n.show=""):(v.aspectRatioReset=!0,v.autoSize=v.option.autoSize,await g.exit(),(0,a.removeClass)(d,"art-fullscreen"),v.emit("resize"),v.emit("fullscreen"),n.show="")}})):document.fullscreenEnabled||u.webkitSupportsFullscreen?(A=>{(0,a.def)(A,"fullscreen",{get:()=>u.webkitDisplayingFullscreen,set(P){P?(A.normalSize="fullscreen",u.webkitEnterFullscreen(),A.emit("fullscreen",!0),n.show=""):(u.webkitExitFullscreen(),A.emit("fullscreen"),n.show="")}})})(r):(0,a.def)(r,"fullscreen",{get:()=>!1,set(){n.show=l.get("Fullscreen Not Supported")}}),(0,a.def)(r,"fullscreen",(0,a.get)(r,"fullscreen"))})}},{"../libs/screenfull":"aPwar","../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],aPwar:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=function(){const t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e=(()=>{const r=t[0],l={};for(const n of t)if(n[1]in document){for(const[u,d]of n.entries())l[r[u]]=d;return l}return!1})(),i={change:e.fullscreenchange,error:e.fullscreenerror};let a={request:(r=document.documentElement,l)=>new Promise((n,u)=>{const d=()=>{a.off("change",d),n()};a.on("change",d);const g=r[e.requestFullscreen](l);g instanceof Promise&&g.then(d).catch(u)}),exit:()=>new Promise((r,l)=>{if(!a.isFullscreen)return void r();const n=()=>{a.off("change",n),r()};a.on("change",n);const u=document[e.exitFullscreen]();u instanceof Promise&&u.then(n).catch(l)}),toggle:(r,l)=>a.isFullscreen?a.exit():a.request(r,l),onchange(r){a.on("change",r)},onerror(r){a.on("error",r)},on(r,l){const n=i[r];n&&document.addEventListener(n,l,!1)},off(r,l){const n=i[r];n&&document.removeEventListener(n,l,!1)},raw:e};return Object.defineProperties(a,{isFullscreen:{get:()=>Boolean(document[e.fullscreenElement])},element:{enumerable:!0,get:()=>document[e.fullscreenElement]},isEnabled:{enumerable:!0,get:()=>Boolean(document[e.fullscreenEnabled])}}),e||(a={isEnabled:!1}),a}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],bEKHA:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{notice:i,template:{$player:a}}=e;(0,t.def)(e,"fullscreenWeb",{get:()=>(0,t.hasClass)(a,"art-fullscreen-web"),set(r){r?(e.normalSize="fullscreenWeb",(0,t.addClass)(a,"art-fullscreen-web"),e.aspectRatioReset=!0,e.autoSize=!1,e.emit("resize"),e.emit("fullscreenWeb",!0),i.show=""):((0,t.removeClass)(a,"art-fullscreen-web"),e.aspectRatioReset=!0,e.autoSize=e.option.autoSize,e.emit("resize"),e.emit("fullscreenWeb"),i.show="")}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],ibIuh:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{i18n:i,notice:a,template:{$video:r}}=e;document.pictureInPictureEnabled?function(l){const{template:{$video:n},events:{proxy:u},notice:d}=l;n.disablePictureInPicture=!1,(0,t.def)(l,"pip",{get:()=>document.pictureInPictureElement,set(g){g?(l.normalSize="pip",n.requestPictureInPicture().catch(v=>{throw d.show=v,v})):document.exitPictureInPicture().catch(v=>{throw d.show=v,v})}}),u(n,"enterpictureinpicture",()=>{l.emit("pip",!0)}),u(n,"leavepictureinpicture",()=>{l.emit("pip")})}(e):r.webkitSupportsPresentationMode?function(l){const{$video:n}=l.template;n.webkitSetPresentationMode("inline"),(0,t.def)(l,"pip",{get:()=>n.webkitPresentationMode==="picture-in-picture",set(u){u?(l.normalSize="pip",n.webkitSetPresentationMode("picture-in-picture"),l.emit("pip",!0)):(n.webkitSetPresentationMode("inline"),l.emit("pip"))}})}(e):(0,t.def)(e,"pip",{get:()=>!1,set(){a.show=i.get("PIP Not Supported")}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],kwpxq:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{$video:i}=e.template;(0,t.def)(e,"loaded",{get:()=>e.loadedTime/i.duration}),(0,t.def)(e,"loadedTime",{get:()=>i.buffered.length?i.buffered.end(i.buffered.length-1):0})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],e4Iws:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){(0,t.def)(e,"played",{get:()=>e.currentTime/e.duration})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],fueZP:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{$video:i}=e.template;(0,t.def)(e,"playing",{get:()=>i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],l6TMg:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{$container:i,$player:a,$video:r}=e.template;(0,t.def)(e,"autoSize",{get:()=>(0,t.hasClass)(i,"art-auto-size"),set(l){if(l){const{videoWidth:n,videoHeight:u}=r,{width:d,height:g}=i.getBoundingClientRect(),v=n/u,A=d/g;if((0,t.addClass)(i,"art-auto-size"),A>v){const P=g*v/d*100;(0,t.setStyle)(a,"width",`${P}%`),(0,t.setStyle)(a,"height","100%")}else{const P=d/v/g*100;(0,t.setStyle)(a,"width","100%"),(0,t.setStyle)(a,"height",`${P}%`)}e.emit("autoSize",{width:e.width,height:e.height})}else(0,t.removeClass)(i,"art-auto-size"),(0,t.setStyle)(a,"width",null),(0,t.setStyle)(a,"height",null),e.emit("autoSize")}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"6URTt":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){(0,t.def)(e,"rect",{get:()=>e.template.$player.getBoundingClientRect()});const i=["bottom","height","left","right","top","width"];for(let a=0;a<i.length;a++){const r=i[a];(0,t.def)(e,r,{get:()=>e.rect[r]})}(0,t.def)(e,"x",{get:()=>e.left+window.pageXOffset}),(0,t.def)(e,"y",{get:()=>e.top+window.pageYOffset})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],joth7:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{template:{$player:i},i18n:a,notice:r}=e;(0,t.def)(e,"flip",{get:()=>i.dataset.flip||"normal",set(l){l||(l="normal");const n=["normal","horizontal","vertical"];(0,t.errorHandle)(n.includes(l),`'flip' only accept ${n.toString()} as parameters`),l==="normal"?delete i.dataset.flip:i.dataset.flip=l;const u=l.replace(l[0],l[0].toUpperCase());r.show=`${a.get("Video Flip")}: ${a.get(u)}`,e.emit("flip",l)}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],durkk:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{i18n:i,option:a,storage:r,events:{proxy:l},template:{$player:n,$miniClose:u,$miniTitle:d,$miniHeader:g}}=e;let v=!1,A=0,P=0,O=0,j=0;l(g,"mousedown",E=>{v=!0,A=E.pageX,P=E.pageY,O=e.left,j=e.top}),l(document,"mousemove",E=>{if(v){(0,t.addClass)(n,"art-is-dragging");const C=j+E.pageY-P,b=O+E.pageX-A;(0,t.setStyle)(n,"top",`${C}px`),(0,t.setStyle)(n,"left",`${b}px`),r.set("top",C),r.set("left",b)}}),l(document,"mouseup",()=>{v=!1,(0,t.removeClass)(n,"art-is-dragging")}),l(u,"click",()=>{e.mini=!1,v=!1,(0,t.removeClass)(n,"art-is-dragging")}),(0,t.append)(d,a.title||i.get("Mini Player")),(0,t.def)(e,"mini",{get:()=>(0,t.hasClass)(n,"art-mini"),set(E){if(E){e.normalSize="mini",e.autoSize=!1,(0,t.addClass)(n,"art-mini");const C=r.get("top"),b=r.get("left");if(C&&b)(0,t.setStyle)(n,"top",`${C}px`),(0,t.setStyle)(n,"left",`${b}px`),(0,t.isInViewport)(g)||(r.del("top"),r.del("left"),e.mini=!0);else{const m=window.innerHeight-e.height-50,_=window.innerWidth-e.width-50;r.set("top",m),r.set("left",_),(0,t.setStyle)(n,"top",`${m}px`),(0,t.setStyle)(n,"left",`${_}px`)}e.aspectRatio=!1,e.playbackRate=!1,e.notice.show="",e.emit("mini",!0)}else(0,t.removeClass)(n,"art-mini"),(0,t.setStyle)(n,"top",null),(0,t.setStyle)(n,"left",null),e.aspectRatio=!1,e.playbackRate=!1,e.autoSize=a.autoSize,e.notice.show="",e.emit("mini")}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"5EZwI":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){let i=[];(0,t.def)(e,"loop",{get:()=>i,set:a=>{if(Array.isArray(a)&&typeof a[0]=="number"&&typeof a[1]=="number"){const r=(0,t.clamp)(a[0],0,Math.min(a[1],e.duration)),l=(0,t.clamp)(a[1],r,e.duration);l-r>=1?(i=[r,l],e.emit("loop",i)):(i=[],e.emit("loop"))}else i=[],e.emit("loop")}}),e.on("video:timeupdate",()=>{i.length&&(e.currentTime<i[0]||e.currentTime>i[1])&&(e.seek=i[0])})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"22WMt":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{option:i,template:{$poster:a}}=e;(0,t.def)(e,"poster",{get:()=>i.poster,set(r){i.poster=r,(0,t.setStyle)(a,"backgroundImage",`url(${r})`)}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"8pdNr":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{option:i,template:{$container:a,$video:r}}=e,l=a.style.height;(0,t.def)(e,"autoHeight",{get:()=>(0,t.hasClass)(a,"art-auto-height"),set(n){if(n){const{clientWidth:u}=a,{videoHeight:d,videoWidth:g}=r,v=d*(u/g);(0,t.setStyle)(a,"height",v+"px"),(0,t.addClass)(a,"art-auto-height"),e.autoSize=i.autoSize,e.emit("autoHeight",v)}else(0,t.setStyle)(a,"height",l),(0,t.removeClass)(a,"art-auto-height"),e.autoSize=i.autoSize,e.emit("autoHeight")}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],eADqm:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{option:i,template:{$player:a}}=e;(0,t.def)(e,"theme",{get:()=>getComputedStyle(a).getPropertyValue("--theme"),set(r){i.theme=r,a.style.setProperty("--theme",r)}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"8T9U6":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){(0,t.def)(e,"title",{get:()=>e.option.title,set(i){e.option.title=i}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],iEQHG:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const i=["mini","pip","fullscreen","fullscreenWeb"];(0,t.def)(e,"normalSize",{get:()=>i.every(a=>!e[a]),set(a){i.filter(r=>r!==a).forEach(r=>{e[r]&&(e[r]=!1)})}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"8CMLG":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{clamp:i}=e.constructor.utils,{notice:a,template:r,i18n:l}=e;let n=0,u=[];e.on("subtitle:switch",()=>{u=[]}),(0,t.def)(e,"subtitleOffset",{get:()=>n,set(d){if(r.$track&&r.$track.track){const g=Array.from(r.$track.track.cues);n=i(d,-5,5);for(let v=0;v<g.length;v++){const A=g[v];u[v]||(u[v]={startTime:A.startTime,endTime:A.endTime}),A.startTime=i(u[v].startTime+n,0,e.duration),A.endTime=i(u[v].endTime+n,0,e.duration)}e.subtitle.update(),a.show=`${l.get("Subtitle Offset")}: ${d}s`,e.emit("subtitleOffset",d)}else e.emit("subtitleOffset",0)}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],aqLU7:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{option:i,storage:a,template:{$video:r,$poster:l}}=e;Object.keys(i.moreVideoAttr).forEach(u=>{e.attr(u,i.moreVideoAttr[u])}),i.muted&&(e.muted=i.muted),i.volume&&(r.volume=(0,t.clamp)(i.volume,0,1));const n=a.get("volume");typeof n=="number"&&(r.volume=(0,t.clamp)(n,0,1)),i.poster&&(0,t.setStyle)(l,"backgroundImage",`url(${i.poster})`),i.autoplay&&(r.autoplay=i.autoplay),i.playsInline&&(r.playsInline=!0,r["webkit-playsinline"]=!0),i.theme&&(e.theme=i.theme),e.url=i.url}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"59ETf":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("../config"),i=t.interopDefault(e),a=o("../utils");s.default=function(r){const{i18n:l,notice:n,option:u,constructor:d,events:{proxy:g},template:{$player:v,$video:A,$poster:P}}=r;let O=0;for(let j=0;j<i.default.events.length;j++)g(A,i.default.events[j],E=>{r.emit(`video:${E.type}`,E)});r.on("video:canplay",()=>{O=0,r.loading.show=!1}),r.once("video:canplay",()=>{r.loading.show=!1,r.controls.show=!0,r.mask.show=!0,r.isReady=!0,r.emit("ready")}),r.on("video:ended",()=>{u.loop?(r.seek=0,r.play(),r.controls.show=!1,r.mask.show=!1):(r.controls.show=!0,r.mask.show=!0)}),r.on("video:error",async()=>{O<d.RECONNECT_TIME_MAX?(await(0,a.sleep)(d.RECONNECT_SLEEP_TIME),O+=1,r.url=u.url,n.show=`${l.get("Reconnect")}: ${O}`,r.emit("error",O)):(r.mask.show=!0,r.loading.show=!1,r.controls.show=!0,(0,a.addClass)(v,"art-error"),await(0,a.sleep)(d.RECONNECT_SLEEP_TIME),n.show=l.get("Video Load Failed"),r.destroy(!1))}),r.on("video:loadedmetadata",()=>{r.autoSize=u.autoSize,a.isMobile&&(r.loading.show=!1,r.controls.show=!0,r.mask.show=!0)}),r.on("video:loadstart",()=>{r.loading.show=!0,r.mask.show=!1,r.controls.show=!0}),r.on("video:pause",()=>{r.controls.show=!0,r.mask.show=!0}),r.on("video:play",()=>{r.mask.show=!1,(0,a.setStyle)(P,"display","none")}),r.on("video:playing",()=>{r.mask.show=!1}),r.on("video:seeked",()=>{r.loading.show=!1}),r.on("video:seeking",()=>{r.loading.show=!0,r.mask.show=!1}),r.on("video:timeupdate",()=>{r.mask.show=!1}),r.on("video:waiting",()=>{r.loading.show=!0,r.mask.show=!1})}},{"../config":"eksZR","../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],kJ9J9:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("../utils"),i=o("../utils/component"),a=t.interopDefault(i),r=o("./fullscreen"),l=t.interopDefault(r),n=o("./fullscreenWeb"),u=t.interopDefault(n),d=o("./pip"),g=t.interopDefault(d),v=o("./playAndPause"),A=t.interopDefault(v),P=o("./progress"),O=t.interopDefault(P),j=o("./time"),E=t.interopDefault(j),C=o("./volume"),b=t.interopDefault(C),m=o("./setting"),_=t.interopDefault(m),w=o("./thumbnails"),S=t.interopDefault(w),B=o("./screenshot"),z=t.interopDefault(B),Z=o("./quality"),J=t.interopDefault(Z),K=o("./loop"),tt=t.interopDefault(K);class L extends a.default{constructor(T){super(T),this.name="control";const{constructor:M,events:{proxy:W},template:{$player:rt}}=T;let lt=Date.now();W(rt,["click","mousemove","touchstart","touchmove"],()=>{this.show=!0,(0,e.removeClass)(rt,"art-hide-cursor"),(0,e.addClass)(rt,"art-hover"),lt=Date.now()}),T.on("video:timeupdate",()=>{!T.isInput&&T.playing&&this.show&&Date.now()-lt>=M.CONTROL_HIDE_TIME&&(this.show=!1,(0,e.addClass)(rt,"art-hide-cursor"),(0,e.removeClass)(rt,"art-hover"))}),this.init()}init(){const{option:T}=this.art;this.add((0,O.default)({name:"progress",disable:T.isLive,position:"top",index:10})),this.add((0,S.default)({name:"thumbnails",disable:!T.thumbnails.url||T.isLive||e.isMobile,position:"top",index:20})),this.add((0,tt.default)({name:"loop",disable:!1,position:"top",index:30})),this.add((0,A.default)({name:"playAndPause",disable:!1,position:"left",index:10})),this.add((0,b.default)({name:"volume",disable:!1,position:"left",index:20})),this.add((0,E.default)({name:"time",disable:T.isLive,position:"left",index:30})),this.add((0,J.default)({name:"quality",disable:T.quality.length===0,position:"right",index:10})),this.add((0,z.default)({name:"screenshot",disable:!T.screenshot||e.isMobile,position:"right",index:20})),this.add((0,_.default)({name:"setting",disable:!T.setting,position:"right",index:30})),this.add((0,g.default)({name:"pip",disable:!T.pip,position:"right",index:40})),this.add((0,u.default)({name:"fullscreenWeb",disable:!T.fullscreenWeb,position:"right",index:50})),this.add((0,l.default)({name:"fullscreen",disable:!T.fullscreen,position:"right",index:60}));for(let M=0;M<T.controls.length;M++)this.add(T.controls[M])}add(T){const M=typeof T=="function"?T(this.art):T,{$progress:W,$controlsLeft:rt,$controlsRight:lt}=this.art.template;switch(M.position){case"top":this.$parent=W;break;case"left":this.$parent=rt;break;case"right":this.$parent=lt;break;default:(0,e.errorHandle)(!1,"Control option.position must one of 'top', 'left', 'right'")}super.add(M)}}s.default=L},{"../utils":"geSvU","../utils/component":"kPHYl","./fullscreen":"awkUw","./fullscreenWeb":"3qoPe","./pip":"lFHYL","./playAndPause":"b8vU1","./progress":"dRwzT","./time":"ltYI1","./volume":"8O7mM","./setting":"lX5UX","./thumbnails":"lUoGG","./screenshot":"jvdQ0","./quality":"k9pKK","./loop":"aE690","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],kPHYl:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./dom"),i=o("option-validator"),a=t.interopDefault(i),r=o("../scheme"),l=o("./property"),n=o("./error");s.default=class{constructor(u){this.id=0,this.art=u,this.add=this.add.bind(this)}get show(){return(0,e.hasClass)(this.art.template.$player,`art-${this.name}-show`)}set show(u){const{$player:d}=this.art.template,g=`art-${this.name}-show`;u?(0,e.addClass)(d,g):(0,e.removeClass)(d,g),this.art.emit(this.name,u)}set toggle(u){u&&(this.show=!this.show)}add(u){const d=typeof u=="function"?u(this.art):u;if(d.html=d.html||"",(0,a.default)(d,r.ComponentOption),!this.$parent||!this.name||d.disable)return;const g=d.name||`${this.name}${this.id}`;(0,n.errorHandle)(!(0,l.has)(this,g),`Cannot add an existing name [${g}] to the [${this.name}]`),this.id+=1;const v=document.createElement("div");(0,e.addClass)(v,`art-${this.name}`),(0,e.addClass)(v,`art-${this.name}-${g}`);const A=Array.from(this.$parent.children);v.dataset.index=d.index||this.id;const P=A.find(O=>Number(O.dataset.index)>=Number(v.dataset.index));return P?P.insertAdjacentElement("beforebegin",v):(0,e.append)(this.$parent,v),d.html&&(0,e.append)(v,d.html),d.style&&(0,e.setStyles)(v,d.style),d.tooltip&&(0,e.tooltip)(v,d.tooltip),d.click&&this.art.events.proxy(v,"click",O=>{O.preventDefault(),d.click.call(this.art,this,O)}),d.selector&&["left","right"].includes(d.position)&&this.selector(d,v),d.mounted&&d.mounted.call(this.art,v),v.childNodes.length===1&&v.childNodes[0].nodeType===3&&(0,e.addClass)(v,"art-control-onlyText"),(0,l.def)(this,g,{value:v}),v}selector(u,d){const{hover:g,proxy:v}=this.art.events;(0,e.addClass)(d,"art-control-selector");const A=document.createElement("div");(0,e.addClass)(A,"art-selector-value"),(0,e.append)(A,u.html),d.innerText="",(0,e.append)(d,A);const P=u.selector.map((E,C)=>`<div class="art-selector-item ${E.default?"art-current":""}" data-index="${C}">${E.html}</div>`).join(""),O=document.createElement("div");(0,e.addClass)(O,"art-selector-list"),(0,e.append)(O,P),(0,e.append)(d,O);const j=()=>{const E=(0,e.getStyle)(d,"width")/2-(0,e.getStyle)(O,"width")/2;O.style.left=`${E}px`};g(d,j),v(O,"click",async E=>{const C=(E.composedPath()||[]).find(_=>(0,e.hasClass)(_,"art-selector-item"));if(!C)return;(0,e.inverseClass)(C,"art-current");const b=Number(C.dataset.index),m=u.selector[b]||{};if(A.innerText=C.innerText,u.onSelect){const _=await u.onSelect.call(this.art,m,C,E);typeof _!="string"&&typeof _!="number"||(A.innerHTML=_)}j(),this.art.emit("selector",m,C)})}}},{"./dom":"ff6Hs","option-validator":"2A2W5","../scheme":"3vPoh","./property":"lMM6V","./error":"lDQPM","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],awkUw:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>bt(_t({},e),{tooltip:i.i18n.get("Fullscreen"),mounted:a=>{const{events:{proxy:r},icons:l,i18n:n}=i,u=(0,t.append)(a,l.fullscreenOn),d=(0,t.append)(a,l.fullscreenOff);(0,t.setStyle)(d,"display","none"),r(a,"click",()=>{i.fullscreen=!i.fullscreen}),i.on("fullscreen",g=>{g?((0,t.tooltip)(a,n.get("Exit Fullscreen")),(0,t.setStyle)(u,"display","none"),(0,t.setStyle)(d,"display","inline-flex")):((0,t.tooltip)(a,n.get("Fullscreen")),(0,t.setStyle)(u,"display","inline-flex"),(0,t.setStyle)(d,"display","none"))})}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"3qoPe":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>bt(_t({},e),{tooltip:i.i18n.get("Web Fullscreen"),mounted:a=>{const{events:{proxy:r},icons:l,i18n:n}=i,u=(0,t.append)(a,l.fullscreenWebOn),d=(0,t.append)(a,l.fullscreenWebOff);(0,t.setStyle)(d,"display","none"),r(a,"click",()=>{i.fullscreenWeb=!i.fullscreenWeb}),i.on("fullscreenWeb",g=>{g?((0,t.tooltip)(a,n.get("Exit Web Fullscreen")),(0,t.setStyle)(u,"display","none"),(0,t.setStyle)(d,"display","inline-flex")):((0,t.tooltip)(a,n.get("Web Fullscreen")),(0,t.setStyle)(u,"display","inline-flex"),(0,t.setStyle)(d,"display","none"))})}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],lFHYL:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>bt(_t({},e),{tooltip:i.i18n.get("PIP Mode"),mounted:a=>{const{events:{proxy:r},icons:l,i18n:n}=i;(0,t.append)(a,l.pip),r(a,"click",()=>{i.pip=!i.pip}),i.on("pip",u=>{(0,t.tooltip)(a,n.get(u?"Exit PIP Mode":"PIP Mode"))})}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],b8vU1:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>bt(_t({},e),{mounted:a=>{const{events:{proxy:r},icons:l,i18n:n}=i,u=(0,t.append)(a,l.play),d=(0,t.append)(a,l.pause);function g(){(0,t.setStyle)(u,"display","flex"),(0,t.setStyle)(d,"display","none")}function v(){(0,t.setStyle)(u,"display","none"),(0,t.setStyle)(d,"display","flex")}(0,t.tooltip)(u,n.get("Play")),(0,t.tooltip)(d,n.get("Pause")),r(u,"click",()=>{i.play()}),r(d,"click",()=>{i.pause()}),i.playing?v():g(),i.on("video:playing",()=>{v()}),i.on("video:pause",()=>{g()})}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],dRwzT:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s),t.export(s,"getPosFromEvent",()=>i);var e=o("../utils");function i(a,r){const{$progress:l}=a.template,{left:n}=l.getBoundingClientRect(),u=r.pageX,d=(0,e.clamp)(u-n,0,l.clientWidth),g=d/l.clientWidth*a.duration;return{second:g,time:(0,e.secondToTime)(g),width:d,percentage:(0,e.clamp)(d/l.clientWidth,0,1)}}s.default=function(a){return r=>{const{icons:l,option:n,events:{proxy:u}}=r;return bt(_t({},a),{html:'<div class="art-control-progress-inner"><div class="art-progress-loaded"></div><div class="art-progress-played"></div><div class="art-progress-highlight"></div><div class="art-progress-indicator"></div><div class="art-progress-tip"></div></div>',mounted:d=>{let g=!1;const v=(0,e.query)(".art-progress-loaded",d),A=(0,e.query)(".art-progress-played",d),P=(0,e.query)(".art-progress-highlight",d),O=(0,e.query)(".art-progress-indicator",d),j=(0,e.query)(".art-progress-tip",d);(0,e.setStyle)(A,"backgroundColor","var(--theme)");let E=r.constructor.INDICATOR_SIZE;function C(b,m){b==="loaded"&&(0,e.setStyle)(v,"width",100*m+"%"),b==="played"&&((0,e.setStyle)(A,"width",100*m+"%"),(0,e.setStyle)(O,"left",`calc(${100*m}% - ${E/2}px)`))}l.indicator?(E=r.constructor.INDICATOR_SIZE_ICON,(0,e.append)(O,l.indicator)):(0,e.setStyles)(O,{backgroundColor:"var(--theme)"}),e.isMobile&&(E=r.constructor.INDICATOR_SIZE_MOBILE,l.indicator&&(E=r.constructor.INDICATOR_SIZE_MOBILE_ICON)),(0,e.setStyles)(O,{left:`-${E/2}px`,width:`${E}px`,height:`${E}px`}),r.on("video:loadedmetadata",()=>{for(let b=0;b<n.highlight.length;b++){const m=n.highlight[b],_=(0,e.clamp)(m.time,0,r.duration)/r.duration*100;(0,e.append)(P,`<span data-text="${m.text}" data-time="${m.time}" style="left: ${_}%"></span>`)}}),C("loaded",r.loaded),r.on("setBar",(b,m)=>{C(b,m)}),r.on("video:progress",()=>{C("loaded",r.loaded)}),r.on("video:timeupdate",()=>{C("played",r.played)}),r.on("video:ended",()=>{C("played",1)}),e.isMobile||(u(d,"click",b=>{if(b.target!==O){const{second:m,percentage:_}=i(r,b);C("played",_),r.seek=m}}),u(d,"mousemove",b=>{(0,e.setStyle)(j,"display","block"),(0,e.includeFromEvent)(b,P)?function(m){const{width:_}=i(r,m),{text:w}=m.target.dataset;j.innerHTML=w;const S=j.clientWidth;_<=S/2?(0,e.setStyle)(j,"left",0):_>d.clientWidth-S/2?(0,e.setStyle)(j,"left",d.clientWidth-S+"px"):(0,e.setStyle)(j,"left",_-S/2+"px")}(b):function(m){const{width:_,time:w}=i(r,m);j.innerHTML=w;const S=j.clientWidth;_<=S/2?(0,e.setStyle)(j,"left",0):_>d.clientWidth-S/2?(0,e.setStyle)(j,"left",d.clientWidth-S+"px"):(0,e.setStyle)(j,"left",_-S/2+"px")}(b)}),u(d,"mouseout",()=>{(0,e.setStyle)(j,"display","none")}),u(O,"mousedown",()=>{g=!0}),u(document,"mousemove",b=>{if(g){const{second:m,percentage:_}=i(r,b);C("played",_),r.seek=m}}),u(document,"mouseup",()=>{g&&(g=!1)}))}})}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],ltYI1:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>bt(_t({},e),{style:{cursor:"auto"},mounted:a=>{function r(){const n=`${(0,t.secondToTime)(i.currentTime)} / ${(0,t.secondToTime)(i.duration)}`;n!==a.innerText&&(a.innerText=n)}r();const l=["video:loadedmetadata","video:timeupdate","video:progress"];for(let n=0;n<l.length;n++)i.on(l[n],r)}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"8O7mM":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>bt(_t({},e),{mounted:a=>{const{events:{proxy:r},icons:l,i18n:n}=i;let u=!1;const d=i.constructor.VOLUME_PANEL_WIDTH,g=i.constructor.VOLUME_HANDLE_WIDTH,v=(0,t.append)(a,l.volume),A=(0,t.append)(a,l.volumeClose),P=(0,t.append)(a,'<div class="art-volume-panel"></div>'),O=(0,t.append)(P,'<div class="art-volume-slider-handle"></div>');function j(C){const{left:b}=P.getBoundingClientRect();return(0,t.clamp)(C.pageX-b-g/2,0,d-g/2)/(d-g)}function E(C=.7){if(i.muted||C===0)(0,t.setStyle)(v,"display","none"),(0,t.setStyle)(A,"display","flex"),(0,t.setStyle)(O,"left","0");else{const b=(d-g)*C;(0,t.setStyle)(v,"display","flex"),(0,t.setStyle)(A,"display","none"),(0,t.setStyle)(O,"left",`${b}px`)}}(0,t.tooltip)(v,n.get("Mute")),(0,t.setStyle)(A,"display","none"),t.isMobile&&(0,t.setStyle)(P,"display","none"),E(i.volume),i.on("video:volumechange",()=>{E(i.volume)}),r(v,"click",()=>{i.muted=!0}),r(A,"click",()=>{i.muted=!1}),r(P,"click",C=>{i.muted=!1,i.volume=j(C)}),r(O,"mousedown",()=>{u=!0}),r(a,"mousemove",C=>{u&&(i.muted=!1,i.volume=j(C))}),r(document,"mouseup",()=>{u&&(u=!1)})}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],lX5UX:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>bt(_t({},e),{tooltip:i.i18n.get("Show Setting"),mounted:a=>{const{events:{proxy:r},icons:l,i18n:n}=i;(0,t.append)(a,l.setting),r(a,"click",()=>{i.setting.toggle=!0}),i.on("setting",u=>{(0,t.tooltip)(a,n.get(u?"Hide Setting":"Show Setting"))})}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],lUoGG:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils"),e=o("./progress");s.default=function(i){return a=>bt(_t({},i),{mounted:r=>{const{option:l,template:{$progress:n,$video:u},events:{proxy:d,loadImg:g}}=a;let v=null,A=!1,P=!1;d(n,"mousemove",async O=>{A||(A=!0,v=await g(l.thumbnails.url),P=!0),P&&((0,t.setStyle)(r,"display","block"),function(j){const{width:E}=(0,e.getPosFromEvent)(a,j),{url:C,number:b,column:m}=l.thumbnails,_=v.naturalWidth/m,w=_/(u.videoWidth/u.videoHeight),S=n.clientWidth/b,B=Math.floor(E/S),z=Math.ceil(B/m)-1,Z=B%m||m-1;(0,t.setStyle)(r,"backgroundImage",`url(${C})`),(0,t.setStyle)(r,"height",`${w}px`),(0,t.setStyle)(r,"width",`${_}px`),(0,t.setStyle)(r,"backgroundPosition",`-${Z*_}px -${z*w}px`),E<=_/2?(0,t.setStyle)(r,"left",0):E>n.clientWidth-_/2?(0,t.setStyle)(r,"left",n.clientWidth-_+"px"):(0,t.setStyle)(r,"left",E-_/2+"px")}(O))}),d(n,"mouseout",()=>{(0,t.setStyle)(r,"display","none")})}})}},{"../utils":"geSvU","./progress":"dRwzT","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],jvdQ0:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>bt(_t({},e),{tooltip:i.i18n.get("Screenshot"),mounted:a=>{const{events:{proxy:r},icons:l}=i;(0,t.append)(a,l.screenshot),r(a,"click",()=>{i.screenshot()})}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],k9pKK:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=function(t){return e=>{const i=e.option.quality,a=i.find(r=>r.default)||i[0];return bt(_t({},t),{html:a?a.html:"",selector:i,onSelect(r){e.switchQuality(r.url,r.html)}})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],aE690:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>bt(_t({},e),{mounted:a=>{const r=(0,t.append)(a,'<span class="art-loop-point"></span>'),l=(0,t.append)(a,'<span class="art-loop-point"></span>');i.on("loop",n=>{n?((0,t.setStyle)(a,"display","block"),(0,t.setStyle)(r,"left",`calc(${n[0]/i.duration*100}% - ${r.clientWidth}px)`),(0,t.setStyle)(l,"left",n[1]/i.duration*100+"%")):(0,t.setStyle)(a,"display","none")})}})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"7rh9q":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("../utils"),i=o("../utils/component"),a=t.interopDefault(i),r=o("./playbackRate"),l=t.interopDefault(r),n=o("./aspectRatio"),u=t.interopDefault(n),d=o("./flip"),g=t.interopDefault(d),v=o("./info"),A=t.interopDefault(v),P=o("./version"),O=t.interopDefault(P),j=o("./close"),E=t.interopDefault(j);class C extends a.default{constructor(m){super(m),this.name="contextmenu",this.$parent=m.template.$contextmenu,e.isMobile||this.init()}init(){const{option:m,template:{$player:_,$contextmenu:w},events:{proxy:S}}=this.art;this.add((0,l.default)({disable:!m.playbackRate,name:"playbackRate",index:10})),this.add((0,u.default)({disable:!m.aspectRatio,name:"aspectRatio",index:20})),this.add((0,g.default)({disable:!m.flip,name:"flip",index:30})),this.add((0,A.default)({disable:!1,name:"info",index:40})),this.add((0,O.default)({disable:!1,name:"version",index:50})),this.add((0,E.default)({disable:!1,name:"close",index:60}));for(let B=0;B<m.contextmenu.length;B++)this.add(m.contextmenu[B]);S(_,"contextmenu",B=>{B.preventDefault(),this.show=!0;const z=B.clientX,Z=B.clientY,{height:J,width:K,left:tt,top:L}=_.getBoundingClientRect(),{height:x,width:T}=w.getBoundingClientRect();let M=z-tt,W=Z-L;z+T>tt+K&&(M=K-T),Z+x>L+J&&(W=J-x),(0,e.setStyles)(w,{top:`${W}px`,left:`${M}px`})}),S(_,"click",B=>{(0,e.includeFromEvent)(B,w)||(this.show=!1)}),this.art.on("blur",()=>{this.show=!1})}}s.default=C},{"../utils":"geSvU","../utils/component":"kPHYl","./playbackRate":"9P3rd","./aspectRatio":"3OqVf","./flip":"iMg4Y","./info":"9FFXO","./version":"duhqU","./close":"k3lJQ","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"9P3rd":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>{const{i18n:a}=i;return bt(_t({},e),{html:`${a.get("Play Speed")}:<span data-value="0.5">0.5</span><span data-value="0.75">0.75</span><span data-value="1.0" class="art-current">${a.get("Normal")}</span><span data-value="1.25">1.25</span><span data-value="1.5">1.5</span><span data-value="2.0">2.0</span>`,click:(r,l)=>{const{value:n}=l.target.dataset;n&&(i.playbackRate=Number(n),r.show=!1)},mounted:r=>{i.on("playbackRate",l=>{const n=(0,t.queryAll)("span",r).find(u=>Number(u.dataset.value)===l);n&&(0,t.inverseClass)(n,"art-current")})}})}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"3OqVf":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>{const{i18n:a}=i;return bt(_t({},e),{html:`${a.get("Aspect Ratio")}:<span data-value="default" class="art-current">${a.get("Default")}</span><span data-value="4:3">4:3</span><span data-value="16:9">16:9</span>`,click:(r,l)=>{const{value:n}=l.target.dataset;n&&(i.aspectRatio=n,r.show=!1)},mounted:r=>{i.on("aspectRatio",l=>{const n=(0,t.queryAll)("span",r).find(u=>u.dataset.value===l);n&&(0,t.inverseClass)(n,"art-current")})}})}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],iMg4Y:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){return i=>{const{i18n:a}=i;return bt(_t({},e),{html:`${a.get("Video Flip")}:<span data-value="normal" class="art-current">${a.get("Normal")}</span><span data-value="horizontal">${a.get("Horizontal")}</span><span data-value="vertical">${a.get("Vertical")}</span>`,click:(r,l)=>{const{value:n}=l.target.dataset;n&&(i.flip=n,r.show=!1)},mounted:r=>{i.on("flip",l=>{const n=(0,t.queryAll)("span",r).find(u=>u.dataset.value===l);n&&(0,t.inverseClass)(n,"art-current")})}})}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"9FFXO":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=function(t){return e=>bt(_t({},t),{html:e.i18n.get("Video Info"),click:i=>{e.info.show=!0,i.show=!1}})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],duhqU:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=function(t){return bt(_t({},t),{html:'<a href="https://artplayer.org" target="_blank">ArtPlayer 4.5.2</a>'})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],k3lJQ:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=function(t){return e=>bt(_t({},t),{html:e.i18n.get("Close"),click:i=>{i.show=!1}})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],c896w:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./utils"),i=o("./utils/component"),a=t.interopDefault(i);class r extends a.default{constructor(n){super(n),this.name="info",e.isMobile||this.init()}init(){const{constructor:n,events:{proxy:u},template:{$infoPanel:d,$infoClose:g,$video:v}}=this.art;u(g,"click",()=>{this.show=!1});let A=null;const P=(0,e.queryAll)("[data-video]",d)||[];this.art.on("destroy",()=>{clearTimeout(A)}),function O(){for(let j=0;j<P.length;j++){const E=P[j],C=v[E.dataset.video],b=typeof C=="number"?C.toFixed(2):C;E.innerText!==b&&(E.innerText=b)}A=setTimeout(O,n.INFO_LOOP_TIME)}()}}s.default=r},{"./utils":"geSvU","./utils/component":"kPHYl","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"2hqso":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./utils"),i=o("./utils/component"),a=t.interopDefault(i),r=o("option-validator"),l=t.interopDefault(r),n=o("./scheme"),u=t.interopDefault(n);class d extends a.default{constructor(v){super(v),this.name="subtitle",this.init(v.option.subtitle)}get url(){return this.art.template.$track.src}set url(v){this.switch(v)}get textTrack(){return this.art.template.$video.textTracks[0]}get activeCue(){return this.textTrack.activeCues[0]}style(v,A){const{$subtitle:P}=this.art.template;return typeof v=="object"?(0,e.setStyles)(P,v):(0,e.setStyle)(P,v,A)}update(){const{$subtitle:v}=this.art.template;v.innerHTML="",this.activeCue&&(v.innerHTML=this.activeCue.text.split(/\r?\n/).map(A=>`<p>${(0,e.escape)(A)}</p>`).join(""),this.art.emit("subtitleUpdate",this.activeCue.text))}async switch(v,A={}){const{i18n:P,notice:O,option:j}=this.art,E=bt(_t(_t({},j.subtitle),A),{url:v}),C=await this.init(E);return A.name&&(O.show=`${P.get("Switch Subtitle")}: ${A.name}`),C}init(v){if((0,l.default)(v,u.default.subtitle),!v.url)return;const{notice:A,events:{proxy:P},template:{$subtitle:O,$video:j,$track:E}}=this.art;if(!E){const C=document.createElement("track");C.default=!0,C.kind="metadata",j.appendChild(C),this.art.template.$track=C,P(this.textTrack,"cuechange",this.update.bind(this))}return this.style(v.style),(0,e.errorHandle)(window.fetch,"fetch not support"),fetch(v.url).then(C=>C.arrayBuffer()).then(C=>{(0,e.errorHandle)(window.TextDecoder,"TextDecoder not support");const b=new TextDecoder(v.encoding).decode(C);switch(this.art.emit("subtitleLoad",v.url),v.type||(0,e.getExt)(v.url)){case"srt":return(0,e.vttToBlob)((0,e.srtToVtt)(b));case"ass":return(0,e.vttToBlob)((0,e.assToVtt)(b));case"vtt":return(0,e.vttToBlob)(b);default:return v.url}}).then(C=>(O.innerHTML="",this.url===C||(URL.revokeObjectURL(this.url),this.art.template.$track.src=C,this.art.emit("subtitleSwitch",C)),C)).catch(C=>{throw A.show=C,C})}}s.default=d},{"./utils":"geSvU","./utils/component":"kPHYl","option-validator":"2A2W5","./scheme":"3vPoh","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],j2hlX:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("../utils/error"),i=o("./clickInit"),a=t.interopDefault(i),r=o("./hoverInit"),l=t.interopDefault(r),n=o("./mousemoveInit"),u=t.interopDefault(n),d=o("./resizeInit"),g=t.interopDefault(d),v=o("./gestureInit"),A=t.interopDefault(v),P=o("./viewInit"),O=t.interopDefault(P);s.default=class{constructor(j){this.destroyEvents=[],this.proxy=this.proxy.bind(this),this.hover=this.hover.bind(this),this.loadImg=this.loadImg.bind(this),j.whitelist.state&&((0,a.default)(j,this),(0,l.default)(j,this),(0,u.default)(j,this),(0,g.default)(j,this),(0,A.default)(j,this),(0,O.default)(j,this))}proxy(j,E,C,b={}){if(Array.isArray(E))return E.map(_=>this.proxy(j,_,C,b));j.addEventListener(E,C,b);const m=()=>j.removeEventListener(E,C,b);return this.destroyEvents.push(m),m}hover(j,E,C){E&&this.proxy(j,"mouseenter",E),C&&this.proxy(j,"mouseleave",C)}loadImg(j){return new Promise((E,C)=>{let b;if(j instanceof HTMLImageElement)b=j;else{if(typeof j!="string")return C(new e.ArtPlayerError("Unable to get Image"));b=new Image,b.src=j}if(b.complete)return E(b);this.proxy(b,"load",()=>E(b)),this.proxy(b,"error",()=>C(new e.ArtPlayerError(`Failed to load Image: ${b.src}`)))})}destroy(){for(let j=0;j<this.destroyEvents.length;j++)this.destroyEvents[j]()}}},{"../utils/error":"lDQPM","./clickInit":"iP4Z9","./hoverInit":"aoIIW","./mousemoveInit":"4WC5c","./resizeInit":"7fpan","./gestureInit":"ixtiG","./viewInit":"5WvmH","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],iP4Z9:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e,i){const{constructor:a,template:{$player:r,$video:l}}=e;i.proxy(document,["click","contextmenu"],u=>{(0,t.includeFromEvent)(u,r)?(e.isInput=u.target.tagName==="INPUT",e.isFocus=!0,e.emit("focus")):(e.isInput=!1,e.isFocus=!1,e.emit("blur"))});let n=0;i.proxy(l,"click",()=>{const u=Date.now();u-n<=a.DB_CLICE_TIME?(e.emit("dblclick"),t.isMobile?e.isLock||e.toggle():e.fullscreen=!e.fullscreen):(e.emit("click"),t.isMobile||e.toggle()),n=u})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],aoIIW:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e,i){const{$player:a}=e.template;i.hover(a,()=>{(0,t.addClass)(a,"art-hover"),e.emit("hover",!0)},()=>{(0,t.removeClass)(a,"art-hover"),e.emit("hover")})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"4WC5c":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=function(t,e){const{$player:i}=t.template;e.proxy(i,"mousemove",a=>{t.emit("mousemove",a)})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"7fpan":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e,i){const{option:a}=e,r=(0,t.throttle)(()=>{e.normalSize&&(e.autoSize=a.autoSize),e.aspectRatioReset=!0,e.notice.show="",e.emit("resize")},e.constructor.RESIZE_TIME);i.proxy(window,["orientationchange","resize"],()=>{r()}),screen&&screen.orientation&&screen.orientation.onchange&&i.proxy(screen.orientation,"change",()=>{r()})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],ixtiG:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e,i){if(t.isMobile&&!e.option.isLive){const{$video:a,$bottom:r,$controls:l}=e.template;let n=!1,u=0,d=0,g=0;const v=O=>{if(O.touches.length===1&&!e.isLock){n=!0;const{clientX:j,clientY:E}=O.touches[0];u=j,d=E,g=e.currentTime}},A=O=>{if(O.touches.length===1&&n&&e.duration){const j=e.plugins.autoOrientation&&e.plugins.autoOrientation.state,{clientX:E,clientY:C}=O.touches[0],b=(0,t.clamp)((E-u)/e.width,-1,1),m=(0,t.clamp)((C-d)/e.height,-1,1),_=j?m:b,w=(0,t.clamp)(g+e.duration*_/2,0,e.duration);e.seek=w,e.emit("setBar","played",(0,t.clamp)(w/e.duration,0,1)),e.notice.show=`${(0,t.secondToTime)(w)} / ${(0,t.secondToTime)(e.duration)}`}},P=()=>{n&&(u=0,d=0,g=0,n=!1)};i.proxy(r,"touchstart",O=>{(0,t.includeFromEvent)(O,l)||v(O)}),i.proxy(r,"touchmove",A),i.proxy(a,"touchstart",v),i.proxy(a,"touchmove",A),i.proxy(document,"touchend",P)}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"5WvmH":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e,i){const{option:a,constructor:r,template:{$container:l}}=e,n=(0,t.throttle)(()=>{e.emit("view",(0,t.isInViewport)(l,r.SCROLL_GAP))},r.SCROLL_TIME);i.proxy(window,"scroll",()=>{n()}),e.on("view",u=>{a.autoMini&&(e.mini=!u)})}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],aTHWZ:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("./utils");s.default=class{constructor(e){this.art=e,this.keys={},e.option.hotkey&&!t.isMobile&&this.init()}init(){const{proxy:e}=this.art.events;this.add(27,()=>{this.art.fullscreenWeb&&(this.art.fullscreenWeb=!1)}),this.add(32,()=>{this.art.toggle()}),this.add(37,()=>{this.art.backward=5}),this.add(38,()=>{this.art.volume+=.1}),this.add(39,()=>{this.art.forward=5}),this.add(40,()=>{this.art.volume-=.1}),e(window,"keydown",i=>{if(this.art.isFocus){const a=document.activeElement.tagName.toUpperCase(),r=document.activeElement.getAttribute("contenteditable");if(a!=="INPUT"&&a!=="TEXTAREA"&&r!==""&&r!=="true"){const l=this.keys[i.keyCode];if(l){i.preventDefault();for(let n=0;n<l.length;n++)l[n].call(this.art,i);this.art.emit("hotkey",i)}}}})}add(e,i){return this.keys[e]?this.keys[e].push(i):this.keys[e]=[i],this}remove(e,i){if(this.keys[e]){const a=this.keys[e].indexOf(i);a!==-1&&this.keys[e].splice(a,1)}return this}}},{"./utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],f2kxw:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./utils/component"),i=t.interopDefault(e);class a extends i.default{constructor(l){super(l);const{option:n,template:{$layer:u}}=l;this.name="layer",this.$parent=u;for(let d=0;d<n.layers.length;d++)this.add(n.layers[d])}}s.default=a},{"./utils/component":"kPHYl","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],bOs9w:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./utils"),i=o("./utils/component"),a=t.interopDefault(i);class r extends a.default{constructor(n){super(n),this.name="loading",(0,e.append)(n.template.$loading,n.icons.loading)}}s.default=r},{"./utils":"geSvU","./utils/component":"kPHYl","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],ic4th:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("./utils");s.default=class{constructor(e){this.art=e,this.timer=null}set show(e){const{constructor:i,template:{$player:a,$noticeInner:r}}=this.art;e?(r.innerText=e instanceof Error?e.message.trim():e,(0,t.addClass)(a,"art-notice-show"),clearTimeout(this.timer),this.timer=setTimeout(()=>{r.innerText="",(0,t.removeClass)(a,"art-notice-show")},i.NOTICE_TIME)):(0,t.removeClass)(a,"art-notice-show")}}},{"./utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],iLfmB:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./utils"),i=o("./utils/component"),a=t.interopDefault(i);class r extends a.default{constructor(n){super(n),this.name="mask";const{template:u,icons:d,events:g}=n,v=(0,e.append)(u.$state,d.state),A=(0,e.append)(u.$state,d.error);(0,e.setStyle)(A,"display","none"),n.on("destroy",()=>{(0,e.setStyle)(v,"display","none"),(0,e.setStyle)(A,"display",null)}),g.proxy(u.$state,"click",()=>n.play())}}s.default=r},{"./utils":"geSvU","./utils/component":"kPHYl","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"5lAmI":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("../utils"),i=o("bundle-text:./loading.svg"),a=t.interopDefault(i),r=o("bundle-text:./state.svg"),l=t.interopDefault(r),n=o("bundle-text:./check.svg"),u=t.interopDefault(n),d=o("bundle-text:./play.svg"),g=t.interopDefault(d),v=o("bundle-text:./pause.svg"),A=t.interopDefault(v),P=o("bundle-text:./volume.svg"),O=t.interopDefault(P),j=o("bundle-text:./volume-close.svg"),E=t.interopDefault(j),C=o("bundle-text:./screenshot.svg"),b=t.interopDefault(C),m=o("bundle-text:./setting.svg"),_=t.interopDefault(m),w=o("bundle-text:./arrow-left.svg"),S=t.interopDefault(w),B=o("bundle-text:./arrow-right.svg"),z=t.interopDefault(B),Z=o("bundle-text:./playback-rate.svg"),J=t.interopDefault(Z),K=o("bundle-text:./aspect-ratio.svg"),tt=t.interopDefault(K),L=o("bundle-text:./config.svg"),x=t.interopDefault(L),T=o("bundle-text:./pip.svg"),M=t.interopDefault(T),W=o("bundle-text:./lock.svg"),rt=t.interopDefault(W),lt=o("bundle-text:./unlock.svg"),mt=t.interopDefault(lt),vt=o("bundle-text:./fullscreen-off.svg"),ht=t.interopDefault(vt),$=o("bundle-text:./fullscreen-on.svg"),G=t.interopDefault($),X=o("bundle-text:./fullscreen-web-off.svg"),it=t.interopDefault(X),nt=o("bundle-text:./fullscreen-web-on.svg"),Y=t.interopDefault(nt),pt=o("bundle-text:./switch-on.svg"),p=t.interopDefault(pt),c=o("bundle-text:./switch-off.svg"),h=t.interopDefault(c),f=o("bundle-text:./flip.svg"),y=t.interopDefault(f),k=o("bundle-text:./error.svg"),R=t.interopDefault(k),I=o("bundle-text:./close.svg"),F=t.interopDefault(I);s.default=class{constructor(U){const N=_t({loading:a.default,state:l.default,play:g.default,pause:A.default,check:u.default,volume:O.default,volumeClose:E.default,screenshot:b.default,setting:_.default,pip:M.default,arrowLeft:S.default,arrowRight:z.default,playbackRate:J.default,aspectRatio:tt.default,config:x.default,lock:rt.default,flip:y.default,unlock:mt.default,fullscreenOff:ht.default,fullscreenOn:G.default,fullscreenWebOff:it.default,fullscreenWebOn:Y.default,switchOn:p.default,switchOff:h.default,error:R.default,close:F.default},U.option.icons);Object.keys(N).forEach(q=>{(0,e.def)(this,q,{get:()=>{const V=document.createElement("i");return(0,e.addClass)(V,"art-icon"),(0,e.addClass)(V,`art-icon-${q}`),(0,e.append)(V,N[q]),V}})})}}},{"../utils":"geSvU","bundle-text:./loading.svg":"hX0lQ","bundle-text:./state.svg":"01U3R","bundle-text:./check.svg":"9jaCP","bundle-text:./play.svg":"invok","bundle-text:./pause.svg":"68285","bundle-text:./volume.svg":"3zSKr","bundle-text:./volume-close.svg":"ft8Zf","bundle-text:./screenshot.svg":"dfLel","bundle-text:./setting.svg":"j8dnn","bundle-text:./arrow-left.svg":"fMoi9","bundle-text:./arrow-right.svg":"auIjA","bundle-text:./playback-rate.svg":"g3V1U","bundle-text:./aspect-ratio.svg":"3LQJt","bundle-text:./config.svg":"bcTkc","bundle-text:./pip.svg":"jDSoL","bundle-text:./lock.svg":"jqFLt","bundle-text:./unlock.svg":"5qYod","bundle-text:./fullscreen-off.svg":"25MvP","bundle-text:./fullscreen-on.svg":"6CCX4","bundle-text:./fullscreen-web-off.svg":"m9TwS","bundle-text:./fullscreen-web-on.svg":"iWJrW","bundle-text:./switch-on.svg":"8cFxH","bundle-text:./switch-off.svg":"6tBmw","bundle-text:./flip.svg":"6N8Hu","bundle-text:./error.svg":"bNBRZ","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2","bundle-text:./close.svg":"8pxPz"}],hX0lQ:[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-default"><path fill="none" class="bk" d="M0 0h100v100H0z"/><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="translate(0 -30)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-1s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(30 105.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(60 75.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(90 65 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.75s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(120 58.66 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(150 54.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(180 50 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.5s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-150 45.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-120 41.34 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-90 35 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.25s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-60 24.02 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"/></rect><rect x="47" y="40" width="6" height="20" rx="5" ry="5" fill="#fff" transform="rotate(-30 -5.98 65)"><animate attributeName="opacity" from="1" to="0" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"/></rect></svg>'},{}],"01U3R":[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" height="60" width="60" style="filter:drop-shadow(0 1px 1px #000)" viewBox="0 0 24 24"><path d="M20 2H4C1.8 2 0 3.8 0 6v12c0 2.2 1.8 4 4 4h16c2.2 0 4-1.8 4-4V6c0-2.2-1.8-4-4-4zm-4.4 10.8L10.5 16c-.6.5-1.5 0-1.5-.8V8.8c0-.8.9-1.3 1.5-.8l5.1 3.2c.7.3.7 1.3 0 1.6z"/></svg>'},{}],"9jaCP":[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="width:100%;height:100%"><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#fff"/></svg>'},{}],invok:[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22"><path d="M17.982 9.275 8.06 3.27A2.013 2.013 0 0 0 5 4.994v12.011a2.017 2.017 0 0 0 3.06 1.725l9.922-6.005a2.017 2.017 0 0 0 0-3.45z"/></svg>'},{}],68285:[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22"><path d="M7 3a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2zm8 0a2 2 0 0 0-2 2v12a2 2 0 1 0 4 0V5a2 2 0 0 0-2-2z"/></svg>'},{}],"3zSKr":[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22"><path d="M10.188 4.65 6 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39V5.04a.498.498 0 0 0-.812-.39zm4.258-.872a1 1 0 0 0-.862 1.804 6.002 6.002 0 0 1-.007 10.838 1 1 0 0 0 .86 1.806A8.001 8.001 0 0 0 19 11a8.001 8.001 0 0 0-4.554-7.222z"/><path d="M15 11a3.998 3.998 0 0 0-2-3.465v6.93A3.998 3.998 0 0 0 15 11z"/></svg>'},{}],ft8Zf:[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22"><path d="M15 11a3.998 3.998 0 0 0-2-3.465v2.636l1.865 1.865A4.02 4.02 0 0 0 15 11z"/><path d="M13.583 5.583A5.998 5.998 0 0 1 17 11a6 6 0 0 1-.585 2.587l1.477 1.477a8.001 8.001 0 0 0-3.446-11.286 1 1 0 0 0-.863 1.805zm5.195 13.195-2.121-2.121-1.414-1.414-1.415-1.415L13 13l-2-2-3.889-3.889-3.889-3.889a.999.999 0 1 0-1.414 1.414L5.172 8H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h1l4.188 3.35a.5.5 0 0 0 .812-.39v-3.131l2.587 2.587-.01.005a1 1 0 0 0 .86 1.806c.215-.102.424-.214.627-.333l2.3 2.3a1.001 1.001 0 0 0 1.414-1.416zM11 5.04a.5.5 0 0 0-.813-.39L8.682 5.854 11 8.172V5.04z"/></svg>'},{}],dfLel:[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22" viewBox="0 0 50 50"><path d="M19.402 6a5 5 0 0 0-4.902 4.012L14.098 12H9a5 5 0 0 0-5 5v21a5 5 0 0 0 5 5h32a5 5 0 0 0 5-5V17a5 5 0 0 0-5-5h-5.098l-.402-1.988A5 5 0 0 0 30.598 6ZM25 17c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10Zm0 2c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8Z"/></svg>'},{}],j8dnn:[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" height="22" width="22"><circle cx="11" cy="11" r="2"/><path d="M19.164 8.861 17.6 8.6a6.978 6.978 0 0 0-1.186-2.099l.574-1.533a1 1 0 0 0-.436-1.217l-1.997-1.153a1.001 1.001 0 0 0-1.272.23l-1.008 1.225a7.04 7.04 0 0 0-2.55.001L8.716 2.829a1 1 0 0 0-1.272-.23L5.447 3.751a1 1 0 0 0-.436 1.217l.574 1.533A6.997 6.997 0 0 0 4.4 8.6l-1.564.261A.999.999 0 0 0 2 9.847v2.306c0 .489.353.906.836.986l1.613.269a7 7 0 0 0 1.228 2.075l-.558 1.487a1 1 0 0 0 .436 1.217l1.997 1.153c.423.244.961.147 1.272-.23l1.04-1.263a7.089 7.089 0 0 0 2.272 0l1.04 1.263a1 1 0 0 0 1.272.23l1.997-1.153a1 1 0 0 0 .436-1.217l-.557-1.487c.521-.61.94-1.31 1.228-2.075l1.613-.269a.999.999 0 0 0 .835-.986V9.847a.999.999 0 0 0-.836-.986zM11 15a4 4 0 1 1 0-8 4 4 0 0 1 0 8z"/></svg>'},{}],fMoi9:[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="m19.41 20.09-4.58-4.59 4.58-4.59L18 9.5l-6 6 6 6z" fill="#fff"/></svg>'},{}],auIjA:[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="m12.59 20.34 4.58-4.59-4.58-4.59L14 9.75l6 6-6 6z" fill="#fff"/></svg>'},{}],g3V1U:[function(o,D,s){D.exports='<svg height="24" width="24"><path d="M10 8v8l6-4-6-4zM6.3 5l-.6-.8C7.2 3 9 2.2 11 2l.1 1c-1.8.2-3.4.9-4.8 2zM5 6.3l-.8-.6C3 7.2 2.2 9 2 11l1 .1c.2-1.8.9-3.4 2-4.8zm0 11.4c-1.1-1.4-1.8-3.1-2-4.8L2 13c.2 2 1 3.8 2.2 5.4l.8-.7zm6.1 3.3c-1.8-.2-3.4-.9-4.8-2l-.6.8C7.2 21 9 21.8 11 22l.1-1zM22 12c0-5.2-3.9-9.4-9-10l-.1 1c4.6.5 8.1 4.3 8.1 9s-3.5 8.5-8.1 9l.1 1c5.2-.5 9-4.8 9-10z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],"3LQJt":[function(o,D,s){D.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 88 88" style="width:100%;height:100%;transform:translate(0,0)"><defs><clipPath id="__lottie_element_216"><path d="M0 0h88v88H0z"/></clipPath></defs><g style="display:block" clip-path="url('#__lottie_element_216')"><path fill="#FFF" d="m12.438-12.702-2.82 2.82c-.79.79-.79 2.05 0 2.83l7.07 7.07-7.07 7.07c-.79.79-.79 2.05 0 2.83l2.82 2.83c.79.78 2.05.78 2.83 0l11.32-11.31c.78-.78.78-2.05 0-2.83l-11.32-11.31c-.78-.79-2.04-.79-2.83 0zm-24.88 0c-.74-.74-1.92-.78-2.7-.12l-.13.12-11.31 11.31a2 2 0 0 0-.12 2.7l.12.13 11.31 11.31a2 2 0 0 0 2.7.12l.13-.12 2.83-2.83c.74-.74.78-1.91.11-2.7l-.11-.13-7.07-7.07 7.07-7.07c.74-.74.78-1.91.11-2.7l-.11-.13-2.83-2.82zM28-28c4.42 0 8 3.58 8 8v40c0 4.42-3.58 8-8 8h-56c-4.42 0-8-3.58-8-8v-40c0-4.42 3.58-8 8-8h56z" style="--darkreader-inline-fill:#a8a6a4" transform="translate(44 44)"/></g></svg>`},{}],bcTkc:[function(o,D,s){D.exports='<svg height="24" width="24"><path d="M15 17h6v1h-6v-1zm-4 0H3v1h8v2h1v-5h-1v2zm3-9h1V3h-1v2H3v1h11v2zm4-3v1h3V5h-3zM6 14h1V9H6v2H3v1h3v2zm4-2h11v-1H10v1z" fill="#fff" style="--darkreader-inline-fill:#a8a6a4"/></svg>'},{}],jDSoL:[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" height="32" width="32"><path d="M25 17h-8v6h8v-6Zm4 8V10.98C29 9.88 28.1 9 27 9H9c-1.1 0-2 .88-2 1.98V25c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2Zm-2 .02H9V10.97h18v14.05Z"/></svg>'},{}],jqFLt:[function(o,D,s){D.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="M298.667 426.667v-85.334a213.333 213.333 0 1 1 426.666 0v85.334H768A85.333 85.333 0 0 1 853.333 512v256A85.333 85.333 0 0 1 768 853.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667zM512 213.333a128 128 0 0 0-128 128v85.334h256v-85.334a128 128 0 0 0-128-128z" fill="#fff"/></svg>'},{}],"5qYod":[function(o,D,s){D.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="20" height="20"><path d="m666.752 194.517-49.365 74.112A128 128 0 0 0 384 341.333l.043 85.334h384A85.333 85.333 0 0 1 853.376 512v256a85.333 85.333 0 0 1-85.333 85.333H256A85.333 85.333 0 0 1 170.667 768V512A85.333 85.333 0 0 1 256 426.667h42.667v-85.334a213.333 213.333 0 0 1 368.085-146.816z" fill="#fff"/></svg>'},{}],"25MvP":[function(o,D,s){D.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M768 298.667h170.667V384h-256V128H768v170.667zM341.333 384h-256v-85.333H256V128h85.333v256zM768 725.333V896h-85.333V640h256v85.333H768zM341.333 640v256H256V725.333H85.333V640h256z"/></svg>'},{}],"6CCX4":[function(o,D,s){D.exports='<svg class="icon" width="22" height="22" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M625.778 256H768v142.222h113.778v-256h-256V256zM256 398.222V256h142.222V142.222h-256v256H256zm512 227.556V768H625.778v113.778h256v-256H768zM398.222 768H256V625.778H142.222v256h256V768z"/></svg>'},{}],m9TwS:[function(o,D,s){D.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zM896 512a64 64 0 0 1 7.488 127.552L896 640H768v128a64 64 0 0 1-56.512 63.552L704 832a64 64 0 0 1-63.552-56.512L640 768V582.592c0-34.496 25.024-66.112 61.632-70.208l8-.384H896zm-640 0a64 64 0 0 1-7.488-127.552L256 384h128V256a64 64 0 0 1 56.512-63.552L448 192a64 64 0 0 1 63.552 56.512L512 256v185.408c0 34.432-25.024 66.112-61.632 70.144l-8 .448H256z"/></svg>'},{}],iWJrW:[function(o,D,s){D.exports='<svg class="icon" width="18" height="18" viewBox="0 0 1152 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M1075.2 0H76.8A76.8 76.8 0 0 0 0 76.8v870.4a76.8 76.8 0 0 0 76.8 76.8h998.4a76.8 76.8 0 0 0 76.8-76.8V76.8A76.8 76.8 0 0 0 1075.2 0zM1024 128v768H128V128h896zm-576 64a64 64 0 0 1 7.488 127.552L448 320H320v128a64 64 0 0 1-56.512 63.552L256 512a64 64 0 0 1-63.552-56.512L192 448V262.592c0-34.432 25.024-66.112 61.632-70.144l8-.448H448zm256 640a64 64 0 0 1-7.488-127.552L704 704h128V576a64 64 0 0 1 56.512-63.552L896 512a64 64 0 0 1 63.552 56.512L960 576v185.408c0 34.496-25.024 66.112-61.632 70.208l-8 .384H704z"/></svg>'},{}],"8cFxH":[function(o,D,s){D.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1664 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#648FFC" d="M1152 0H512a512 512 0 0 0 0 1024h640a512 512 0 0 0 0-1024zm0 960a448 448 0 1 1 448-448 448 448 0 0 1-448 448z"/></svg>'},{}],"6tBmw":[function(o,D,s){D.exports='<svg class="icon" width="26" height="26" viewBox="0 0 1740 1024" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M511.898 1024h670.515c282.419-.41 511.18-229.478 511.18-511.898 0-282.419-228.761-511.488-511.18-511.897H511.898C229.478.615.717 229.683.717 512.102c0 282.42 228.761 511.488 511.18 511.898zm-.564-975.36A464.589 464.589 0 1 1 48.026 513.024 463.872 463.872 0 0 1 511.334 48.435v.205z"/></svg>'},{}],"6N8Hu":[function(o,D,s){D.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M554.667 810.667V896h-85.334v-85.333h85.334zm-384-632.662a42.667 42.667 0 0 1 34.986 18.219l203.904 291.328a42.667 42.667 0 0 1 0 48.896L205.611 827.776A42.667 42.667 0 0 1 128 803.328V220.672a42.667 42.667 0 0 1 42.667-42.667zm682.666 0a42.667 42.667 0 0 1 42.368 37.718l.299 4.949v582.656a42.667 42.667 0 0 1-74.24 28.63l-3.413-4.182-203.904-291.328a42.667 42.667 0 0 1-3.03-43.861l3.03-5.035 203.946-291.328a42.667 42.667 0 0 1 34.944-18.219zM554.667 640v85.333h-85.334V640h85.334zm-358.4-320.896V716.8L335.957 512 196.31 319.104zm358.4 150.23v85.333h-85.334v-85.334h85.334zm0-170.667V384h-85.334v-85.333h85.334zm0-170.667v85.333h-85.334V128h85.334z" fill="#fff"/></svg>'},{}],bNBRZ:[function(o,D,s){D.exports='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="50" height="50"><path d="M593.818 168.55 949.82 763.76c26.153 43.746 10.732 99.738-34.447 125.052-14.397 8.069-30.72 12.308-47.37 12.308H155.976c-52.224 0-94.536-40.96-94.536-91.505 0-16.097 4.383-31.928 12.718-45.875l356.004-595.19c26.173-43.724 84.009-58.654 129.208-33.341a93.082 93.082 0 0 1 34.448 33.341zM512 819.2a61.44 61.44 0 1 0 0-122.88 61.44 61.44 0 0 0 0 122.88zm0-512a72.315 72.315 0 0 0-71.762 81.306l25.723 205.721a46.408 46.408 0 0 0 92.078 0l25.723-205.742A72.315 72.315 0 0 0 512 307.2z"/></svg>'},{}],"8pxPz":[function(o,D,s){D.exports='<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="22" height="22"><path d="m571.733 512 268.8-268.8c17.067-17.067 17.067-42.667 0-59.733-17.066-17.067-42.666-17.067-59.733 0L512 452.267l-268.8-268.8c-17.067-17.067-42.667-17.067-59.733 0-17.067 17.066-17.067 42.666 0 59.733l268.8 268.8-268.8 268.8c-17.067 17.067-17.067 42.667 0 59.733 8.533 8.534 19.2 12.8 29.866 12.8s21.334-4.266 29.867-12.8l268.8-268.8 268.8 268.8c8.533 8.534 19.2 12.8 29.867 12.8s21.333-4.266 29.866-12.8c17.067-17.066 17.067-42.666 0-59.733L571.733 512z"/></svg>'},{}],d5XKP:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./flip"),i=t.interopDefault(e),a=o("./aspectRatio"),r=t.interopDefault(a),l=o("./playbackRate"),n=t.interopDefault(l),u=o("./subtitleOffset"),d=t.interopDefault(u),g=o("../utils/component"),v=t.interopDefault(g),A=o("../utils");function P(E,C,b){for(let m=0;m<E.length;m++){const _=E[m];_.$parentItem=C,_.$parentList=b,_.selector&&P(_.selector,_,E)}return E}function O(E){return["string","number"].includes(typeof E)}class j extends v.default{constructor(C){super(C);const{option:b,events:{proxy:m},template:{$setting:_,$player:w}}=C;if(this.name="setting",this.$parent=_,this.option=[],this.events=[],this.cache=new Map,b.setting){b.playbackRate&&this.option.push((0,n.default)(C)),b.aspectRatio&&this.option.push((0,r.default)(C)),b.flip&&this.option.push((0,i.default)(C)),b.subtitleOffset&&this.option.push((0,d.default)(C));for(let S=0;S<b.settings.length;S++)this.option.push(b.settings[S]);this.option=P(this.option),this.init(this.option),C.on("blur",()=>{this.show&&(this.show=!1,this.init(this.option))}),m(w,"click",S=>{!this.show||(0,A.includeFromEvent)(S,C.controls.setting)||(0,A.includeFromEvent)(S,this.$parent)||(this.show=!1,this.init(this.option))})}}add(C){typeof C=="function"?this.option.push(C(this.art)):this.option.push(C),this.cache=new Map,this.events.forEach(b=>b()),this.events=[],this.$parent.innerHTML="",this.option=P(this.option),this.init(this.option)}creatHeader(C){const{icons:b,events:{proxy:m}}=this.art,_=document.createElement("div");(0,A.addClass)(_,"art-setting-item"),(0,A.addClass)(_,"art-setting-item-back");const w=(0,A.append)(_,'<div class="art-setting-item-left"></div>'),S=document.createElement("div");(0,A.addClass)(S,"art-setting-item-left-icon"),(0,A.append)(S,b.arrowLeft),(0,A.append)(w,S),(0,A.append)(w,C.$parentItem.html);const B=m(_,"click",()=>{this.init(C.$parentList)});return this.events.push(B),_}creatItem(C,b){const{icons:m,events:{proxy:_}}=this.art,w=document.createElement("div");(0,A.addClass)(w,"art-setting-item"),O(b.name)&&(w.dataset.name=b.name),O(b.value)&&(w.dataset.value=b.value);const S=(0,A.append)(w,'<div class="art-setting-item-left"></div>'),B=(0,A.append)(w,'<div class="art-setting-item-right"></div>'),z=document.createElement("div");switch((0,A.addClass)(z,"art-setting-item-left-icon"),C){case"switch":case"range":(0,A.append)(z,O(b.icon)||b.icon instanceof Element?b.icon:m.config);break;case"selector":b.selector&&b.selector.length?(0,A.append)(z,O(b.icon)||b.icon instanceof Element?b.icon:m.config):(0,A.append)(z,m.check)}(0,A.append)(S,z),b.$icon=z,(0,A.def)(b,"icon",{configurable:!0,get:()=>z.innerHTML,set(K){O(K)&&(z.innerHTML=K)}});const Z=document.createElement("div");(0,A.addClass)(Z,"art-setting-item-left-text"),(0,A.append)(Z,b.html||""),(0,A.append)(S,Z),b.$html=Z,(0,A.def)(b,"html",{configurable:!0,get:()=>Z.innerHTML,set(K){O(K)&&(Z.innerHTML=K)}});const J=document.createElement("div");switch((0,A.addClass)(J,"art-setting-item-right-tooltip"),(0,A.append)(J,b.tooltip||""),(0,A.append)(B,J),b.$tooltip=J,(0,A.def)(b,"tooltip",{configurable:!0,get:()=>J.innerHTML,set(K){O(K)&&(J.innerHTML=K)}}),C){case"switch":{const K=document.createElement("div");(0,A.addClass)(K,"art-setting-item-right-icon");const tt=(0,A.append)(K,m.switchOn),L=(0,A.append)(K,m.switchOff);(0,A.setStyle)(b.switch?L:tt,"display","none"),(0,A.append)(B,K),b.$switch=b.switch,(0,A.def)(b,"switch",{configurable:!0,get:()=>b.$switch,set(x){b.$switch=x,x?((0,A.setStyle)(L,"display","none"),(0,A.setStyle)(tt,"display",null)):((0,A.setStyle)(L,"display",null),(0,A.setStyle)(tt,"display","none"))}});break}case"range":{const K=document.createElement("div");(0,A.addClass)(K,"art-setting-item-right-icon");const tt=(0,A.append)(K,'<input type="range">');tt.value=b.range[0]||0,tt.min=b.range[1]||0,tt.max=b.range[2]||10,tt.step=b.range[3]||1,(0,A.addClass)(tt,"art-setting-range"),(0,A.append)(B,K),b.$range=tt,(0,A.def)(b,"range",{configurable:!0,get:()=>tt.valueAsNumber,set(L){tt.value=Number(L)}})}break;case"selector":if(b.selector&&b.selector.length){const K=document.createElement("div");(0,A.addClass)(K,"art-setting-item-right-icon"),(0,A.append)(K,m.arrowRight),(0,A.append)(B,K)}}switch(C){case"switch":if(b.onSwitch){const K=_(w,"click",async tt=>{b.switch=await b.onSwitch.call(this.art,b,w,tt)});this.events.push(K)}break;case"range":if(b.onRange&&b.$range){const K=_(b.$range,"change",async tt=>{b.tooltip=await b.onRange.call(this.art,b,w,tt)});this.events.push(K)}break;case"selector":{const K=_(w,"click",async tt=>{if(b.selector&&b.selector.length)this.init(b.selector,b.width);else if((0,A.inverseClass)(w,"art-current"),b.$parentList&&this.init(b.$parentList),b.$parentItem&&b.$parentItem.onSelect){const L=await b.$parentItem.onSelect.call(this.art,b,w,tt);b.$parentItem.$tooltip&&O(L)&&(b.$parentItem.$tooltip.innerHTML=L)}});this.events.push(K),b.default&&(0,A.addClass)(w,"art-current")}}return w}init(C,b){const{constructor:m}=this.art;if(this.cache.has(C)){const _=this.cache.get(C);(0,A.inverseClass)(_,"art-current"),(0,A.setStyle)(this.$parent,"width",`${_.dataset.width}px`),(0,A.setStyle)(this.$parent,"height",`${_.dataset.height}px`)}else{const _=document.createElement("div");(0,A.addClass)(_,"art-setting-panel"),_.dataset.width=b||m.SETTING_WIDTH,_.dataset.height=C.length*m.SETTING_ITEM_HEIGHT,C[0]&&C[0].$parentItem&&((0,A.append)(_,this.creatHeader(C[0])),_.dataset.height=Number(_.dataset.height)+m.SETTING_ITEM_HEIGHT);for(let w=0;w<C.length;w++){const S=C[w];(0,A.has)(S,"switch")?(0,A.append)(_,this.creatItem("switch",S)):(0,A.has)(S,"range")?(0,A.append)(_,this.creatItem("range",S)):(0,A.append)(_,this.creatItem("selector",S))}(0,A.append)(this.$parent,_),this.cache.set(C,_),(0,A.inverseClass)(_,"art-current"),(0,A.setStyle)(this.$parent,"width",`${_.dataset.width}px`),(0,A.setStyle)(this.$parent,"height",`${_.dataset.height}px`),C[0]&&C[0].$parentItem&&C[0].$parentItem.mounted&&C[0].$parentItem.mounted.call(this.art,_,C[0].$parentItem)}}}s.default=j},{"./flip":"ah3Qs","./aspectRatio":"1gs5B","./playbackRate":"j50mh","./subtitleOffset":"i17b6","../utils/component":"kPHYl","../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],ah3Qs:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{i18n:i,icons:a,constructor:r}=e,l={normal:"Normal",horizontal:"Horizontal",vertical:"Vertical"};function n(u,d,g){d&&(d.innerText=i.get(l[g]));const v=(0,t.queryAll)(".art-setting-item",u).find(A=>A.dataset.value===g);v&&(0,t.inverseClass)(v,"art-current")}return{width:r.SETTING_ITEM_WIDTH,html:i.get("Video Flip"),tooltip:i.get(l[e.flip]),icon:a.flip,selector:Object.keys(l).map(u=>({value:u,default:u===e.flip,html:i.get(l[u])})),onSelect(u){e.flip=u.value},mounted:(u,d)=>{n(u,d.$tooltip,e.flip),e.on("flip",()=>{n(u,d.$tooltip,e.flip)})}}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"1gs5B":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{i18n:i,icons:a,constructor:r}=e;function l(u){return u==="default"?i.get("Default"):u}function n(u,d,g){d&&(d.innerText=l(g));const v=(0,t.queryAll)(".art-setting-item",u).find(A=>A.dataset.value===g);v&&(0,t.inverseClass)(v,"art-current")}return{width:r.SETTING_ITEM_WIDTH,html:i.get("Aspect Ratio"),icon:a.aspectRatio,tooltip:l(e.aspectRatio),selector:["default","4:3","16:9"].map(u=>({value:u,default:u===e.aspectRatio,html:l(u)})),onSelect(u){e.aspectRatio=u.value},mounted:(u,d)=>{n(u,d.$tooltip,e.aspectRatio),e.on("aspectRatio",()=>{n(u,d.$tooltip,e.aspectRatio)})}}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],j50mh:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{i18n:i,icons:a,constructor:r}=e;function l(u){return u===1?i.get("Normal"):u}function n(u,d,g){d&&(d.innerText=l(g));const v=(0,t.queryAll)(".art-setting-item",u).find(A=>Number(A.dataset.value)===g);v&&(0,t.inverseClass)(v,"art-current")}return{width:r.SETTING_ITEM_WIDTH,html:i.get("Play Speed"),tooltip:l(e.playbackRate),icon:a.playbackRate,selector:[.5,.75,1,1.25,1.5,2].map(u=>({value:u,default:u===e.playbackRate,html:l(u)})),onSelect(u){e.playbackRate=u.value},mounted:(u,d)=>{n(u,d.$tooltip,e.playbackRate),e.on("playbackRate",()=>{n(u,d.$tooltip,e.playbackRate)})}}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],i17b6:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{i18n:i,icons:a,constructor:r}=e;function l(u){return u===0?i.get("Normal"):u}function n(u,d,g){d&&(d.innerText=l(g));const v=(0,t.queryAll)(".art-setting-item",u).find(A=>Number(A.dataset.value)===g);v&&(0,t.inverseClass)(v,"art-current")}return{width:r.SETTING_ITEM_WIDTH,html:i.get("Subtitle Offset"),tooltip:l(e.subtitleOffset),icon:a.subtitle,selector:[-5,-4,-3,-2,-1,0,1,2,3,4,5].map(u=>({value:u,default:u===e.subtitleOffset,html:l(u)})),onSelect(u){e.subtitleOffset=u.value},mounted:(u,d)=>{n(u,d.$tooltip,e.subtitleOffset),e.on("subtitleOffset",()=>{n(u,d.$tooltip,e.subtitleOffset)})}}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"5M8nN":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=class{constructor(){this.name="artplayer_settings",this.settings={}}get(t){try{const e=JSON.parse(window.localStorage.getItem(this.name))||{};return t?e[t]:e}catch{return t?this.settings[t]:this.settings}}set(t,e){try{const i=Object.assign({},this.get(),{[t]:e});window.localStorage.setItem(this.name,JSON.stringify(i))}catch{this.settings[t]=e}}del(t){try{const e=this.get();delete e[t],window.localStorage.setItem(this.name,JSON.stringify(e))}catch{delete this.settings[t]}}clear(){try{window.localStorage.removeItem(this.name)}catch{this.settings={}}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],jWfEd:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("../utils"),i=o("./miniProgressBar"),a=t.interopDefault(i),r=o("./autoOrientation"),l=t.interopDefault(r),n=o("./autoPlayback"),u=t.interopDefault(n),d=o("./fastForward"),g=t.interopDefault(d),v=o("./lock"),A=t.interopDefault(v);s.default=class{constructor(P){this.art=P,this.id=0;const{option:O}=P;O.miniProgressBar&&!O.isLive&&this.add(a.default),O.lock&&e.isMobile&&this.add(A.default),O.autoPlayback&&this.add(u.default),O.autoOrientation&&e.isMobile&&this.add(l.default),O.fastForward&&e.isMobile&&!O.isLive&&this.add(g.default);for(let j=0;j<O.plugins.length;j++)this.add(O.plugins[j])}add(P){this.id+=1;const O=P.call(this,this.art),j=O&&O.name||P.name||`plugin${this.id}`;return(0,e.errorHandle)(!(0,e.has)(this,j),`Cannot add a plugin that already has the same name: ${j}`),(0,e.def)(this,j,{value:O}),this}}},{"../utils":"geSvU","./miniProgressBar":"7KBj0","./autoOrientation":"aPIVP","./autoPlayback":"j87OI","./fastForward":"1VTki","./lock":"7BtoE","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"7KBj0":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=function(t){return t.on("ready",()=>{t.layers.add({name:"miniProgressBar",mounted(e){t.on("destroy",()=>{e.style.display="none"}),t.on("video:timeupdate",()=>{e.style.width=100*t.played+"%"}),t.on("setBar",(i,a)=>{i==="played"&&(e.style.width=100*a+"%")})}})}),{name:"miniProgressBar"}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],aPIVP:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{option:i,constructor:a,template:{$player:r,$video:l}}=e;return e.on("fullscreenWeb",n=>{if(n){const{videoWidth:u,videoHeight:d}=l,{clientWidth:g,clientHeight:v}=document.documentElement;(u>d&&g<v||u<d&&g>v)&&setTimeout(()=>{(0,t.setStyle)(r,"width",`${v}px`),(0,t.setStyle)(r,"height",`${g}px`),(0,t.setStyle)(r,"transform-origin","0 0"),(0,t.setStyle)(r,"transform",`rotate(90deg) translate(0, -${g}px)`),(0,t.addClass)(r,"art-auto-orientation"),e.emit("resize")},a.MOBILE_AUTO_ORIENTATION_TIME)}else(0,t.hasClass)(r,"art-auto-orientation")&&((0,t.setStyle)(r,"width",null),(0,t.setStyle)(r,"height",null),(0,t.setStyle)(r,"transform",null),(0,t.setStyle)(r,"transform-origin",null),(0,t.removeClass)(r,"art-auto-orientation"),e.aspectRatioReset=!0,e.autoSize=i.autoSize,e.notice.show="",e.emit("resize"))}),e.on("fullscreen",async n=>{const u=screen.orientation.type;if(n){const{videoWidth:d,videoHeight:g}=l,{clientWidth:v,clientHeight:A}=document.documentElement;if(d>g&&v<A||d<g&&v>A){const P=u.startsWith("portrait")?"landscape":"portrait";await screen.orientation.lock(P),(0,t.addClass)(r,"art-auto-orientation-fullscreen")}}else(0,t.hasClass)(r,"art-auto-orientation-fullscreen")&&(await screen.orientation.lock(u),(0,t.removeClass)(r,"art-auto-orientation-fullscreen"))}),{name:"autoOrientation",get state(){return(0,t.hasClass)(r,"art-auto-orientation")}}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],j87OI:[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{i18n:i,icons:a,storage:r,constructor:l,events:{proxy:n},template:{$poster:u}}=e,d=e.layers.add({name:"autoPlayback",html:'<div class="art-autoPlayback-close"></div><div class="art-autoPlayback-last"></div><div class="art-autoPlayback-jump"></div>'}),g=(0,t.query)(".art-autoPlayback-last",d),v=(0,t.query)(".art-autoPlayback-jump",d),A=(0,t.query)(".art-autoPlayback-close",d);return e.on("video:timeupdate",()=>{const P=r.get("times")||{},O=Object.keys(P);O.length>l.AUTO_PLAYBACK_MAX&&delete P[O[0]],P[e.option.url]=e.currentTime,r.set("times",P)}),e.on("ready",()=>{const P=(r.get("times")||{})[e.option.url];P&&((0,t.append)(A,a.close),(0,t.setStyle)(d,"display","flex"),g.innerText=`${i.get("Last Seen")} ${(0,t.secondToTime)(P)}`,v.innerText=i.get("Jump Play"),n(A,"click",()=>{(0,t.setStyle)(d,"display","none")}),n(v,"click",()=>{e.seek=P,e.play(),(0,t.setStyle)(u,"display","none"),(0,t.setStyle)(d,"display","none")}),e.once("video:timeupdate",()=>{setTimeout(()=>{(0,t.setStyle)(d,"display","none")},l.AUTO_PLAYBACK_TIMEOUT)}))}),{name:"autoPlayback",get times(){return r.get("times")||{}},clear:()=>r.del("times")}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"1VTki":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{constructor:i,events:{proxy:a},template:{$player:r,$video:l}}=e;let n=null,u=!1;const d=()=>{clearTimeout(n),u&&(u=!1,e.playbackRate=1,(0,t.removeClass)(r,"art-fast-forward"))};return a(l,"touchstart",g=>{g.touches.length===1&&e.playing&&!e.isLock&&(n=setTimeout(()=>{u=!0,e.playbackRate=i.FAST_FORWARD_VALUE,(0,t.addClass)(r,"art-fast-forward")},i.FAST_FORWARD_TIME))}),a(document,"touchmove",d),a(document,"touchend",d),{name:"fastForward",get state(){return(0,t.hasClass)(r,"art-fast-forward")}}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"7BtoE":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s);var t=o("../utils");s.default=function(e){const{layers:i,icons:a,template:{$player:r}}=e;return i.add({name:"lock",mounted(l){const n=(0,t.append)(l,a.lock),u=(0,t.append)(l,a.unlock);(0,t.setStyle)(n,"display","none"),e.on("lock",d=>{d?((0,t.setStyle)(n,"display","inline-flex"),(0,t.setStyle)(u,"display","none")):((0,t.setStyle)(n,"display","none"),(0,t.setStyle)(u,"display","inline-flex"))})},click(){(0,t.hasClass)(r,"art-lock")?((0,t.removeClass)(r,"art-lock"),this.isLock=!1,e.emit("lock",!1)):((0,t.addClass)(r,"art-lock"),this.isLock=!0,e.emit("lock",!0))}}),{name:"lock",get state(){return(0,t.hasClass)(r,"art-lock")}}}},{"../utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],fkUkB:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./config"),i=t.interopDefault(e),a=o("./utils");s.default=class{constructor(r){const{option:l,events:{proxy:n},template:{$video:u}}=r;for(let v=0;v<i.default.events.length;v++)n(u,i.default.events[v],A=>{r.emit(`video:${A.type}`,A)});Object.keys(l.moreVideoAttr).forEach(v=>{u[v]=l.moreVideoAttr[v]}),l.muted&&(u.muted=l.muted),l.volume&&(u.volume=(0,a.clamp)(l.volume,0,1)),l.poster&&(u.poster=l.poster),l.autoplay&&(u.autoplay=l.autoplay),l.playsInline&&(u.playsInline=!0,u["webkit-playsinline"]=!0);const d=l.type||(0,a.getExt)(l.url),g=l.customType[d];d&&g?(g(u,l.url,r),r.emit("customType",d)):(u.src=l.url,r.emit("url",u.src))}}},{"./config":"eksZR","./utils":"geSvU","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}]},["6SN6P"],"6SN6P")})(ie);var Ae=Zt(ie.exports),ne={exports:{}};/*!
 * artplayer-plugin-danmuku.js v4.4.8
 * Github: https://github.com/zhw2590582/ArtPlayer
 * (c) 2017-2022 Harvey Zack
 * Released under the MIT License.
 */(function(gt,ft){(function(o,D,s,t,e){var i=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof Ht!="undefined"?Ht:{},a=typeof i.parcelRequire93cf=="function"&&i.parcelRequire93cf,r=a.cache||{},l=typeof Vt=="function"&&Vt.bind(gt);function n(g,v){if(!r[g]){if(!o[g]){var A=typeof i.parcelRequire93cf=="function"&&i.parcelRequire93cf;if(!v&&A)return A(g,!0);if(a)return a(g,!0);if(l&&typeof g=="string")return l(g);var P=new Error("Cannot find module '"+g+"'");throw P.code="MODULE_NOT_FOUND",P}j.resolve=function(E){var C=o[g][1][E];return C!=null?C:E},j.cache={};var O=r[g]=new n.Module(g);o[g][0].call(O.exports,j,O,O.exports,this)}return r[g].exports;function j(E){var C=j.resolve(E);return C===!1?{}:n(C)}}n.isParcelRequire=!0,n.Module=function(g){this.id=g,this.bundle=n,this.exports={}},n.modules=o,n.cache=r,n.parent=a,n.register=function(g,v){o[g]=[function(A,P){P.exports=v},{}]},Object.defineProperty(n,"root",{get:function(){return i.parcelRequire93cf}}),i.parcelRequire93cf=n;for(var u=0;u<D.length;u++)n(D[u]);var d=n(s);gt.exports=d})({E13ST:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./danmuku"),i=t.interopDefault(e),a=o("./setting"),r=t.interopDefault(a);function l(n){return u=>{(function(g){const{version:v,utils:{errorHandle:A}}=g.constructor,P=v.split(".").map(Number);A(P[0]+P[1]/100>=4.04,`Artplayer.js@${v} \u4E0D\u517C\u5BB9\u8BE5\u5F39\u5E55\u5E93\uFF0C\u8BF7\u66F4\u65B0\u5230 4.4.x \u7248\u672C\u4EE5\u4E0A`)})(u);const d=new i.default(u,n);return(0,r.default)(u,d),{name:"artplayerPluginDanmuku",emit:d.emit.bind(d),load:d.load.bind(d),config:d.config.bind(d),hide:d.hide.bind(d),show:d.show.bind(d),get isHide(){return d.isHide},get isStop(){return d.isStop}}}}s.default=l,l.env="production",l.version="4.4.8",l.build="1655097987373",typeof window!="undefined"&&(window.artplayerPluginDanmuku=l)},{"./danmuku":"8Gtnh","./setting":"jAkJm","@parcel/transformer-js/src/esmodule-helpers.js":"9v6Cv"}],"8Gtnh":[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("./bilibili"),i=o("./getDanmuTop"),a=t.interopDefault(i);class r{constructor(n,u){const{constructor:d,template:g}=n;if(this.utils=d.utils,this.validator=d.validator,this.$danmuku=g.$danmuku,this.$player=g.$player,this.art=n,this.queue=[],this.option={},this.$refs=[],this.isStop=!1,this.isHide=!1,this.timer=null,this.config(u),this.option.useWorker)try{this.worker=new Worker(o("27c3930ee158179a"))}catch{}this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.reset=this.reset.bind(this),this.destroy=this.destroy.bind(this),n.on("video:play",this.start),n.on("video:playing",this.start),n.on("video:pause",this.stop),n.on("video:waiting",this.stop),n.on("fullscreen",this.reset),n.on("fullscreenWeb",this.reset),n.on("destroy",this.destroy),this.load()}static get option(){return{danmuku:[],speed:5,margin:["2%","25%"],opacity:1,color:"#FFFFFF",mode:0,fontSize:25,filter:()=>!0,antiOverlap:!0,useWorker:!0,synchronousPlayback:!1,lockTime:5,maxLength:100,minWidth:200,maxWidth:400,mount:void 0,theme:"dark",beforeEmit:()=>!0}}static get scheme(){return{danmuku:"array|function|string",speed:"number",margin:"array",opacity:"number",color:"string",mode:"number",fontSize:"number|string",filter:"function",antiOverlap:"boolean",useWorker:"boolean",synchronousPlayback:"boolean",lockTime:"number",maxLength:"number",minWidth:"number",maxWidth:"number",mount:"undefined|htmldivelement",theme:"string",beforeEmit:"function"}}get isRotate(){return this.art.plugins.autoOrientation&&this.art.plugins.autoOrientation.state}get marginTop(){const{clamp:n}=this.utils,u=this.option.margin[0],{clientHeight:d}=this.$player;return typeof u=="number"?n(u,0,d):typeof u=="string"&&u.endsWith("%")?n(d*(parseFloat(u)/100),0,d):r.option.margin[0]}get marginBottom(){const{clamp:n}=this.utils,u=this.option.margin[1],{clientHeight:d}=this.$player;return typeof u=="number"?n(u,0,d):typeof u=="string"&&u.endsWith("%")?n(d*(parseFloat(u)/100),0,d):r.option.margin[1]}filter(n,u){return this.queue.filter(d=>d.$state===n).map(u)}getLeft(n){const u=n.getBoundingClientRect();return this.isRotate?u.top:u.left}getRef(){const n=this.$refs.pop();if(n)return n;const u=document.createElement("div");return u.style.cssText=`
            user-select: none;
            position: absolute;
            white-space: pre;
            pointer-events: none;
            perspective: 500px;
            display: inline-block;
            will-change: transform;
            font-weight: normal;
            line-height: 1.125;
            visibility: hidden;
            font-family: SimHei, "Microsoft JhengHei", Arial, Helvetica, sans-serif;
            text-shadow: rgb(0, 0, 0) 1px 0px 1px, rgb(0, 0, 0) 0px 1px 1px, rgb(0, 0, 0) 0px -1px 1px, rgb(0, 0, 0) -1px 0px 1px;
        `,u}getReady(){const{currentTime:n}=this.art;return this.queue.filter(u=>u.$state==="ready"||u.$state==="wait"&&n+.1>=u.time&&u.time>=n-.1)}getEmits(){const n=[],{clientWidth:u}=this.$player,d=this.getLeft(this.$player);return this.filter("emit",g=>{const v=g.$ref.offsetTop,A=this.getLeft(g.$ref)-d,P=g.$ref.clientHeight,O=g.$ref.clientWidth,j=A+O,E=u-j,C=j/g.$restTime,b={};b.top=v,b.left=A,b.height=P,b.width=O,b.right=E,b.speed=C,b.distance=j,b.time=g.$restTime,b.mode=g.mode,n.push(b)}),n}getFontSize(n){const{clamp:u}=this.utils,{clientHeight:d}=this.$player;return typeof n=="number"?u(n,12,d):typeof n=="string"&&n.endsWith("%")?u(d*(parseFloat(n)/100),12,d):r.option.fontSize}postMessage(n={}){return new Promise(u=>{if(this.option.useWorker&&this.worker&&this.worker.postMessage)n.id=Date.now(),this.worker.postMessage(n),this.worker.onmessage=d=>{const{data:g}=d;g.id===n.id&&u(g)};else{const d=(0,a.default)(n);u({top:d})}})}async load(){try{let n=[];n=typeof this.option.danmuku=="function"?await this.option.danmuku():typeof this.option.danmuku.then=="function"?await this.option.danmuku:typeof this.option.danmuku=="string"?await(0,e.bilibiliDanmuParseFromUrl)(this.option.danmuku):this.option.danmuku,this.utils.errorHandle(Array.isArray(n),"Danmuku need return an array as result"),this.art.emit("artplayerPluginDanmuku:loaded",n),this.queue=[],this.$danmuku.innerText="",n.forEach(u=>this.emit(u))}catch(n){throw this.art.emit("artplayerPluginDanmuku:error",n),n}return this}config(n){const{clamp:u}=this.utils;return this.option=Object.assign({},r.option,this.option,n),this.validator(this.option,r.scheme),this.option.speed=u(this.option.speed,1,10),this.option.opacity=u(this.option.opacity,0,1),this.option.lockTime=u(Math.floor(this.option.lockTime),0,60),this.option.maxLength=u(this.option.maxLength,0,500),this.option.minWidth=u(this.option.minWidth,0,500),this.option.maxWidth=u(this.option.maxWidth,0,1/0),n.fontSize&&(this.option.fontSize=this.getFontSize(this.option.fontSize),this.reset()),this.art.emit("artplayerPluginDanmuku:config",this.option),this}makeWait(n){n.$state="wait",n.$ref&&(n.$ref.style.visibility="hidden",n.$ref.style.marginLeft="0px",n.$ref.style.transform="translateX(0px)",n.$ref.style.transition="transform 0s linear 0s",this.$refs.push(n.$ref),n.$ref=null)}continue(){const{clientWidth:n}=this.$player;return this.filter("stop",u=>{switch(u.$state="emit",u.$lastStartTime=Date.now(),u.mode){case 0:{const d=n+u.$ref.clientWidth;u.$ref.style.transform=`translateX(${-d}px)`,u.$ref.style.transition=`transform ${u.$restTime}s linear 0s`;break}}}),this}suspend(){const{clientWidth:n}=this.$player;return this.filter("emit",u=>{switch(u.$state="stop",u.mode){case 0:{const d=n-(this.getLeft(u.$ref)-this.getLeft(this.$player));u.$ref.style.transform=`translateX(${-d}px)`,u.$ref.style.transition="transform 0s linear 0s";break}}}),this}reset(){return this.queue.forEach(n=>this.makeWait(n)),this}update(){return this.timer=window.requestAnimationFrame(async()=>{if(this.art.playing&&!this.isHide){this.filter("emit",g=>{const v=(Date.now()-g.$lastStartTime)/1e3;g.$restTime-=v,g.$lastStartTime=Date.now(),g.$restTime<=0&&this.makeWait(g)});const n=this.getReady(),{clientWidth:u,clientHeight:d}=this.$player;for(let g=0;g<n.length;g++){const v=n[g];v.$ref=this.getRef(),v.$ref.innerText=v.text,this.$danmuku.appendChild(v.$ref),v.$ref.style.left=`${u}px`,v.$ref.style.opacity=this.option.opacity,v.$ref.style.fontSize=`${this.option.fontSize}px`,v.$ref.style.color=v.color,v.$ref.style.border=v.border?`1px solid ${v.color}`:null,v.$ref.style.backgroundColor=v.border?"rgb(0 0 0 / 50%)":null,v.$ref.style.marginLeft="0px",v.$lastStartTime=Date.now(),v.$restTime=this.option.synchronousPlayback&&this.art.playbackRate?this.option.speed/Number(this.art.playbackRate):this.option.speed;const A={mode:v.mode,height:v.$ref.clientHeight,speed:(u+v.$ref.clientWidth)/v.$restTime},{top:P}=await this.postMessage({target:A,emits:this.getEmits(),antiOverlap:this.option.antiOverlap,clientWidth:u,clientHeight:d,marginBottom:this.marginBottom,marginTop:this.marginTop});if(v.$ref)if(this.isStop||P===void 0)v.$state="ready",this.$refs.push(v.$ref),v.$ref=null;else switch(v.$state="emit",v.$ref.style.visibility="visible",v.mode){case 0:{v.$ref.style.top=`${P}px`;const O=u+v.$ref.clientWidth;v.$ref.style.transform=`translateX(${-O}px)`,v.$ref.style.transition=`transform ${v.$restTime}s linear 0s`;break}case 1:v.$ref.style.left="50%",v.$ref.style.top=`${P}px`,v.$ref.style.marginLeft=`-${v.$ref.clientWidth/2}px`}}}this.isStop||this.update()}),this}stop(){return this.isStop=!0,this.suspend(),window.cancelAnimationFrame(this.timer),this.art.emit("artplayerPluginDanmuku:stop"),this}start(){return this.isStop=!1,this.continue(),this.update(),this.art.emit("artplayerPluginDanmuku:start"),this}show(){return this.isHide=!1,this.start(),this.$danmuku.style.display="block",this.art.emit("artplayerPluginDanmuku:show"),this}hide(){return this.isHide=!0,this.stop(),this.queue.forEach(n=>this.makeWait(n)),this.$danmuku.style.display="none",this.art.emit("artplayerPluginDanmuku:hide"),this}emit(n){return this.validator(n,{text:"string",mode:"number|undefined",color:"string|undefined",time:"number|undefined",border:"boolean|undefined"}),n.text.trim()&&this.option.filter(n)?(n.time?n.time=this.utils.clamp(n.time,0,1/0):n.time=this.art.currentTime+.5,n.mode===void 0&&(n.mode=this.option.mode),n.color===void 0&&(n.color=this.option.color),this.queue.push(bt(_t({},n),{$state:"wait",$ref:null,$restTime:0,$lastStartTime:0})),this):this}destroy(){this.stop(),this.worker&&this.worker.terminate&&this.worker.terminate(),this.art.off("video:play",this.start),this.art.off("video:playing",this.start),this.art.off("video:pause",this.stop),this.art.off("video:waiting",this.stop),this.art.off("fullscreen",this.reset),this.art.off("fullscreenWeb",this.reset),this.art.off("destroy",this.destroy),this.art.emit("artplayerPluginDanmuku:destroy")}}s.default=r},{"./bilibili":"KnwDr","./getDanmuTop":"2Abxf","27c3930ee158179a":"anHwN","@parcel/transformer-js/src/esmodule-helpers.js":"9v6Cv"}],KnwDr:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");function e(r){switch(r){case 1:case 2:case 3:default:return 0;case 4:case 5:return 1}}function i(r){if(typeof r!="string")return[];const l=r.matchAll(/<d (?:.*? )??p="(?<p>.+?)"(?: .*?)?>(?<text>.+?)<\/d>/gs);return Array.from(l).map(n=>{const u=n.groups.p.split(",");return u.length>=8?{text:n.groups.text.trim().replaceAll("&quot;",'"').replaceAll("&apos;","'").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&amp;","&"),time:Number(u[0]),mode:e(Number(u[1])),fontSize:Number(u[2]),color:`#${Number(u[3]).toString(16)}`,timestamp:Number(u[4]),pool:Number(u[5]),userID:u[6],rowID:Number(u[7])}:null}).filter(Boolean)}function a(r){return fetch(r).then(l=>l.text()).then(l=>i(l))}t.defineInteropFlag(s),t.export(s,"getMode",()=>e),t.export(s,"bilibiliDanmuParseFromXml",()=>i),t.export(s,"bilibiliDanmuParseFromUrl",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"9v6Cv"}],"9v6Cv":[function(o,D,s){s.interopDefault=function(t){return t&&t.__esModule?t:{default:t}},s.defineInteropFlag=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.exportAll=function(t,e){return Object.keys(t).forEach(function(i){i==="default"||i==="__esModule"||e.hasOwnProperty(i)||Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[i]}})}),e},s.export=function(t,e,i){Object.defineProperty(t,e,{enumerable:!0,get:i})}},{}],"2Abxf":[function(o,D,s){o("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(s),s.default=function({target:t,emits:e,clientWidth:i,clientHeight:a,marginBottom:r,marginTop:l,antiOverlap:n}){const u=e.filter(g=>g.mode===t.mode&&g.top<=a-r).sort((g,v)=>g.top-v.top);if(u.length===0)return l;u.unshift({top:0,left:0,right:0,height:l,width:i,speed:0,distance:i}),u.push({top:a-r,left:0,right:0,height:r,width:i,speed:0,distance:i});for(let g=1;g<u.length;g+=1){const v=u[g],A=u[g-1],P=A.top+A.height;if(v.top-P>=t.height)return P}const d=[];for(let g=1;g<u.length-1;g+=1){const v=u[g];if(d.length){const A=d[d.length-1];A[0].top===v.top?A.push(v):d.push([v])}else d.push([v])}if(!n){switch(t.mode){case 0:d.sort((g,v)=>{const A=Math.min(...v.map(O=>O.right)),P=Math.min(...g.map(O=>O.right));return A*v.length-P*g.length});break;case 1:d.sort((g,v)=>{const A=Math.max(...v.map(P=>P.width));return Math.max(...g.map(P=>P.width))*g.length-A*v.length})}return d[0][0].top}switch(t.mode){case 0:{const g=d.find(v=>v.every(A=>i<A.distance?!1:t.speed<A.speed?!0:A.right/(t.speed-A.speed)>A.time));return g&&g[0]?g[0].top:void 0}case 1:return}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"9v6Cv"}],anHwN:[function(o,D,s){D.exports="data:application/javascript,function%20getDanmuTop%28%7Btarget%3At%2Cemits%3Ae%2CclientWidth%3An%2CclientHeight%3Ai%2CmarginBottom%3As%2CmarginTop%3Ah%2CantiOverlap%3Ao%7D%29%7Bconst%20r%3De.filter%28%28e%3D%3Ee.mode%3D%3D%3Dt.mode%26%26e.top%3C%3Di-s%29%29.sort%28%28%28t%2Ce%29%3D%3Et.top-e.top%29%29%3Bif%280%3D%3D%3Dr.length%29return%20h%3Br.unshift%28%7Btop%3A0%2Cleft%3A0%2Cright%3A0%2Cheight%3Ah%2Cwidth%3An%2Cspeed%3A0%2Cdistance%3An%7D%29%2Cr.push%28%7Btop%3Ai-s%2Cleft%3A0%2Cright%3A0%2Cheight%3As%2Cwidth%3An%2Cspeed%3A0%2Cdistance%3An%7D%29%3Bfor%28let%20e%3D1%3Be%3Cr.length%3Be%2B%3D1%29%7Bconst%20n%3Dr%5Be%5D%2Ci%3Dr%5Be-1%5D%2Cs%3Di.top%2Bi.height%3Bif%28n.top-s%3E%3Dt.height%29return%20s%7Dconst%20p%3D%5B%5D%3Bfor%28let%20t%3D1%3Bt%3Cr.length-1%3Bt%2B%3D1%29%7Bconst%20e%3Dr%5Bt%5D%3Bif%28p.length%29%7Bconst%20t%3Dp%5Bp.length-1%5D%3Bt%5B0%5D.top%3D%3D%3De.top%3Ft.push%28e%29%3Ap.push%28%5Be%5D%29%7Delse%20p.push%28%5Be%5D%29%7Dif%28%21o%29%7Bswitch%28t.mode%29%7Bcase%200%3Ap.sort%28%28%28t%2Ce%29%3D%3E%7Bconst%20n%3DMath.min%28...e.map%28%28t%3D%3Et.right%29%29%29%2Ci%3DMath.min%28...t.map%28%28t%3D%3Et.right%29%29%29%3Breturn%20n%2ae.length-i%2at.length%7D%29%29%3Bbreak%3Bcase%201%3Ap.sort%28%28%28t%2Ce%29%3D%3E%7Bconst%20n%3DMath.max%28...e.map%28%28t%3D%3Et.width%29%29%29%3Breturn%20Math.max%28...t.map%28%28t%3D%3Et.width%29%29%29%2at.length-n%2ae.length%7D%29%29%7Dreturn%20p%5B0%5D%5B0%5D.top%7Dswitch%28t.mode%29%7Bcase%200%3A%7Bconst%20e%3Dp.find%28%28e%3D%3Ee.every%28%28e%3D%3E%7Bif%28n%3Ce.distance%29return%211%3Bif%28t.speed%3Ce.speed%29return%210%3Breturn%20e.right%2F%28t.speed-e.speed%29%3Ee.time%7D%29%29%29%29%3Breturn%20e%26%26e%5B0%5D%3Fe%5B0%5D.top%3Avoid%200%7Dcase%201%3Areturn%7D%7Donmessage%3Dt%3D%3E%7Bconst%7Bdata%3Ae%7D%3Dt%2Cn%3DgetDanmuTop%28e%29%3Bself.postMessage%28%7Btop%3An%2Cid%3Ae.id%7D%29%7D%3B"},{}],jAkJm:[function(o,D,s){var t=o("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(s);var e=o("bundle-text:./style.less"),i=t.interopDefault(e),a=o("bundle-text:./img/danmu-on.svg"),r=t.interopDefault(a),l=o("bundle-text:./img/danmu-off.svg"),n=t.interopDefault(l),u=o("bundle-text:./img/danmu-config.svg"),d=t.interopDefault(u),g=o("bundle-text:./img/danmu-style.svg"),v=t.interopDefault(g);if(s.default=function(A,P){const{option:O}=P,{template:{$controlsCenter:j,$player:E},constructor:{utils:{removeClass:C,addClass:b,append:m,setStyle:_,tooltip:w,query:S,inverseClass:B}}}=A;function z(L,x){const T=document.createElement("i");return m(T,L),b(T,"art-icon"),b(T,`art-icon-${x}`),T}const Z=z(r.default,"danmu-on"),J=z(n.default,"danmu-off"),K=z(d.default,"danmu-config"),tt=z(v.default,"danmu-style");(function(){const L=["#FE0302","#FF7204","#FFAA02","#FFD302","#FFFF00","#A0EE00","#00CD00","#019899","#4266BE","#89D5FF","#CC0273","#222222","#9B9B9B","#FFFFFF"].map(Y=>`<div class="art-danmuku-style-panel-color${O.color===Y?" art-current":""}" data-color="${Y}" style="background-color:${Y}"></div>`),x=m(j,`<div class="art-danmuku-emitter" style="max-width: ${O.maxWidth?`${O.maxWidth}px`:"100%"}"><div class="art-danmuku-left"><div class="art-danmuku-style"><div class="art-danmuku-style-panel"><div class="art-danmuku-style-panel-inner"><div class="art-danmuku-style-panel-title">\u6A21\u5F0F</div><div class="art-danmuku-style-panel-modes"><div class="art-danmuku-style-panel-mode art-current" data-mode="0">\u6EDA\u52A8</div><div class="art-danmuku-style-panel-mode" data-mode="1">\u9759\u6B62</div></div><div class="art-danmuku-style-panel-title">\u989C\u8272</div><div class="art-danmuku-style-panel-colors">${L.join("")}</div></div></div></div><input class="art-danmuku-input" maxlength="${O.maxLength}" placeholder="\u53D1\u4E2A\u5F39\u5E55\u89C1\u8BC1\u5F53\u4E0B" /></div><div class="art-danmuku-send">\u53D1\u9001</div></div>`),T=S(".art-danmuku-style",x),M=S(".art-danmuku-input",x),W=S(".art-danmuku-send",x),rt=S(".art-danmuku-style-panel-inner",x),lt=S(".art-danmuku-style-panel-modes",x),mt=S(".art-danmuku-style-panel-colors",x),vt=O.mount||m(E,'<div class="art-layer-danmuku-emitter"></div>');A.option.backdrop&&b(rt,"art-backdrop-filter"),O.theme&&b(x,`art-danmuku-theme-${O.theme}`);let ht=null,$=O.mode,G=O.color;function X(Y){Y<=0?(ht=null,W.innerText="\u53D1\u9001",C(W,"art-disabled")):(W.innerText=Y,ht=setTimeout(()=>X(Y-1),1e3))}function it(){const Y={mode:$,color:G,border:!0,text:M.value.trim()};ht===null&&O.beforeEmit(Y)&&(M.value="",P.emit(Y),b(W,"art-disabled"),X(O.lockTime),A.emit("artplayerPluginDanmuku:emit",Y))}function nt(){j.clientWidth<O.minWidth?(m(vt,x),_(vt,"display","flex"),b(x,"art-danmuku-mount"),O.mount||_(E,"marginBottom","40px")):(m(j,x),_(vt,"display","none"),C(x,"art-danmuku-mount"),O.mount||_(E,"marginBottom",null))}m(T,tt),A.proxy(W,"click",it),A.proxy(M,"keypress",Y=>{Y.key==="Enter"&&(Y.preventDefault(),it())}),A.proxy(lt,"click",Y=>{const{dataset:pt}=Y.target;pt.mode&&($=Number(pt.mode),B(Y.target,"art-current"))}),A.proxy(mt,"click",Y=>{const{dataset:pt}=Y.target;pt.color&&(G=pt.color,B(Y.target,"art-current"))}),nt(),A.on("resize",nt),A.on("destroy",()=>{O.mount&&x.parentElement===O.mount&&O.mount.removeChild(x)})})(),A.controls.add({position:"right",name:"danmuku",click:function(){P.isHide?(P.show(),A.notice.show="\u5F39\u5E55\u663E\u793A",_(Z,"display",null),_(J,"display","none")):(P.hide(),A.notice.show="\u5F39\u5E55\u9690\u85CF",_(Z,"display","none"),_(J,"display",null))},mounted(L){m(L,Z),m(L,J),w(L,"\u5F39\u5E55\u5F00\u5173"),_(J,"display","none")}}),A.setting.add({name:"danmuku",html:"\u5F39\u5E55\u8BBE\u7F6E",tooltip:"\u66F4\u591A",icon:K,selector:[{width:200,html:"\u64AD\u653E\u901F\u5EA6",icon:"",tooltip:"\u9002\u4E2D",selector:[{html:"\u6781\u6162",time:10},{html:"\u8F83\u6162",time:7.5},{default:!0,html:"\u9002\u4E2D",time:5},{html:"\u8F83\u5FEB",time:2.5},{html:"\u6781\u5FEB",time:1}],onSelect:function(L){return P.config({speed:L.time}),L.html}},{width:200,html:"\u5B57\u4F53\u5927\u5C0F",icon:"",tooltip:"\u9002\u4E2D",selector:[{html:"\u6781\u5C0F",fontSize:"4%"},{html:"\u8F83\u5C0F",fontSize:"5%"},{default:!0,html:"\u9002\u4E2D",fontSize:"6%"},{html:"\u8F83\u5927",fontSize:"7%"},{html:"\u6781\u5927",fontSize:"8%"}],onSelect:function(L){return P.config({fontSize:L.fontSize}),L.html}},{width:200,html:"\u4E0D\u900F\u660E\u5EA6",icon:"",tooltip:"100%",selector:[{default:!0,opacity:1,html:"100%"},{opacity:.75,html:"75%"},{opacity:.5,html:"50%"},{opacity:.25,html:"25%"},{opacity:0,html:"0%"}],onSelect:function(L){return P.config({opacity:L.opacity}),L.html}},{width:200,html:"\u663E\u793A\u8303\u56F4",icon:"",tooltip:"3/4",selector:[{html:"1/4",margin:[10,"75%"]},{html:"\u534A\u5C4F",margin:[10,"50%"]},{default:!0,html:"3/4",margin:[10,"25%"]},{html:"\u6EE1\u5C4F",margin:[10,10]}],onSelect:function(L){return P.config({margin:L.margin}),L.html}},{html:"\u5F39\u5E55\u9632\u91CD\u53E0",icon:"",tooltip:O.antiOverlap?"\u5F00\u542F":"\u5173\u95ED",switch:O.antiOverlap,onSwitch:L=>(P.config({antiOverlap:!L.switch}),L.tooltip=L.switch?"\u5173\u95ED":"\u5F00\u542F",!L.switch)},{html:"\u540C\u6B65\u89C6\u9891\u901F\u5EA6",icon:"",tooltip:O.synchronousPlayback?"\u5F00\u542F":"\u5173\u95ED",switch:O.synchronousPlayback,onSwitch:L=>(P.config({synchronousPlayback:!L.switch}),L.tooltip=L.switch?"\u5173\u95ED":"\u5F00\u542F",!L.switch)}]})},typeof document!="undefined"&&!document.getElementById("artplayer-plugin-danmuku")){const A=document.createElement("style");A.id="artplayer-plugin-danmuku",A.textContent=i.default,document.head.appendChild(A)}},{"bundle-text:./style.less":"chNhY","bundle-text:./img/danmu-on.svg":"j5M2a","bundle-text:./img/danmu-off.svg":"d9WLf","bundle-text:./img/danmu-config.svg":"8Y3Ij","bundle-text:./img/danmu-style.svg":"hltwt","@parcel/transformer-js/src/esmodule-helpers.js":"9v6Cv"}],chNhY:[function(o,D,s){D.exports='.art-danmuku-emitter{height:32px;width:100%;max-width:100%;color:#fff;-webkit-tap-highlight-color:#0000;touch-action:manipulation;-ms-high-contrast-adjust:none;background-color:#ffffff4d;border-radius:3px;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:12px;line-height:1;display:flex;position:relative}.art-danmuku-emitter *,.art-danmuku-emitter :before,.art-danmuku-emitter :after{box-sizing:border-box;margin:0;padding:0}.art-danmuku-emitter .art-icon{justify-content:center;align-items:center;line-height:1.5;display:inline-flex}.art-danmuku-emitter .art-icon svg{fill:#fff}@supports ((-webkit-backdrop-filter: initial) or (backdrop-filter: initial)){.art-danmuku-emitter .art-backdrop-filter{-webkit-backdrop-filter:saturate(180%)blur(20px);backdrop-filter:saturate(180%)blur(20px);background-color:#000000b3!important}}.art-danmuku-emitter .art-danmuku-left{border-radius:3px 0 0 3px;flex:1;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style{width:32px;justify-content:center;align-items:center;display:flex;position:relative}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel{z-index:999;width:200px;padding-bottom:10px;display:none;position:absolute;bottom:30px;left:-85px}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner{background-color:#000000e6;border-radius:3px;flex-direction:column;padding:10px 10px 0;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-title{margin-bottom:10px;font-size:13px}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-modes{justify-content:space-between;margin-bottom:15px;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-modes .art-danmuku-style-panel-mode{width:47%;cursor:pointer;color:#fff;border:1px solid #fff;justify-content:center;padding:5px 0;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-modes .art-danmuku-style-panel-mode.art-current{background-color:#00a1d6;border:1px solid #00a1d6}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-colors{flex-wrap:wrap;justify-content:space-between;gap:5px;margin-bottom:10px;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-colors .art-danmuku-style-panel-color{cursor:pointer;width:20px;height:20px;border:1px solid #fff}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-colors .art-danmuku-style-panel-color.art-current{position:relative;box-shadow:0 0 2px #fff}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel .art-danmuku-style-panel-inner .art-danmuku-style-panel-colors .art-danmuku-style-panel-color.art-current:before{content:"";width:100%;height:100%;border:2px solid #000;position:absolute;inset:0}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style:hover .art-danmuku-style-panel{display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-icon{opacity:.75;cursor:pointer}.art-danmuku-emitter .art-danmuku-left .art-danmuku-style .art-icon:hover{opacity:1}.art-danmuku-emitter .art-danmuku-left .art-danmuku-input{width:100%;color:#fff;background-color:#0000;border:none;outline:none;flex:1;padding:0 10px 0 0;display:flex}.art-danmuku-emitter .art-danmuku-left .art-danmuku-input::placeholder,.art-danmuku-emitter .art-danmuku-left .art-danmuku-input::-webkit-input-placeholder{color:#ffffff80}.art-danmuku-emitter .art-danmuku-send{width:50px;cursor:pointer;background-color:#00a1d6;border-radius:0 3px 3px 0;justify-content:center;align-items:center;display:flex}.art-danmuku-emitter .art-danmuku-send:hover{background-color:#00b5e5}.art-danmuku-emitter .art-danmuku-send.art-disabled{opacity:.5;pointer-events:none}.art-danmuku-emitter.art-danmuku-mount{height:34px;max-width:100%!important}.art-danmuku-emitter.art-danmuku-mount .art-danmuku-left .art-danmuku-style .art-danmuku-style-panel{left:0}.art-danmuku-emitter.art-danmuku-mount .art-danmuku-send{width:60px}.art-danmuku-emitter.art-danmuku-mount.art-danmuku-theme-light .art-danmuku-left{background:#f4f4f4;border:1px solid #dadada}.art-danmuku-emitter.art-danmuku-mount.art-danmuku-theme-light .art-danmuku-left .art-danmuku-style .art-icon svg{fill:#666}.art-danmuku-emitter.art-danmuku-mount.art-danmuku-theme-light .art-danmuku-left .art-danmuku-input{color:#000}.art-danmuku-emitter.art-danmuku-mount.art-danmuku-theme-light .art-danmuku-left .art-danmuku-input::placeholder,.art-danmuku-emitter.art-danmuku-mount.art-danmuku-theme-light .art-danmuku-left .art-danmuku-input::-webkit-input-placeholder{color:#00000080}.art-layer-danmuku-emitter{z-index:99;width:100%;position:absolute;bottom:-40px;left:0;right:0}'},{}],j5M2a:[function(o,D,s){D.exports='<svg viewBox="0 0 1152 1024" width="22" height="22" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M311.467 661.333c0 4.267-4.267 8.534-8.534 12.8 0 4.267 0 4.267-4.266 8.534h-12.8c-4.267 0-8.534-4.267-17.067-8.534-8.533-8.533-17.067-8.533-25.6-8.533-8.533 0-12.8 4.267-17.067 12.8-4.266 12.8-8.533 21.333-4.266 29.867 4.266 8.533 12.8 17.066 25.6 21.333 17.066 8.533 34.133 17.067 46.933 17.067 12.8 0 21.333-4.267 34.133-8.534 8.534-4.266 17.067-17.066 25.6-29.866 8.534-12.8 12.8-34.134 17.067-55.467 4.267-21.333 4.267-51.2 4.267-85.333 0-12.8 0-21.334-4.267-29.867 0-8.533-4.267-12.8-8.533-17.067-4.267-4.266-8.534-8.533-12.8-8.533-4.267 0-12.8-4.267-21.334-4.267h-55.466s-4.267-4.266 0-8.533l4.266-38.4c0-4.267 0-8.533 4.267-8.533h46.933c17.067 0 25.6-4.267 34.134-12.8 8.533-8.534 12.8-21.334 12.8-42.667v-72.533c0-17.067-4.267-34.134-8.534-42.667-12.8-12.8-25.6-17.067-42.666-17.067H243.2c-8.533 0-17.067 0-21.333 4.267-4.267 8.533-4.267 12.8-4.267 25.6 0 8.533 0 17.067 4.267 21.333 4.266 4.267 12.8 8.534 21.333 8.534h64c4.267 0 8.533 0 8.533 4.266v34.134c0 8.533 0 12.8-4.266 12.8 0 0-4.267 4.266-8.534 4.266H268.8c-8.533 0-12.8 0-21.333 4.267-4.267 0-8.534 4.267-8.534 4.267-4.266 4.266-8.533 12.8-8.533 17.066 0 8.534-4.267 17.067-4.267 25.6l-8.533 72.534v29.866c0 8.534 4.267 12.8 8.533 17.067 4.267 4.267 8.534 4.267 17.067 8.533h68.267c4.266 0 8.533 0 8.533 4.267s4.267 8.533 4.267 17.067c0 21.333 0 42.666-4.267 55.466 0 8.534-4.267 21.334-8.533 25.6zM896 486.4c-93.867 0-174.933 51.2-217.6 123.733H571.733V576H640c21.333 0 34.133-4.267 42.667-12.8 8.533-8.533 12.8-21.333 12.8-42.667V358.4c0-21.333-4.267-34.133-12.8-42.667-8.534-8.533-21.334-12.8-42.667-12.8 0-4.266 4.267-4.266 4.267-8.533-4.267 0-4.267-4.267-4.267-4.267 4.267-12.8 8.533-21.333 4.267-25.6 0-8.533-4.267-12.8-12.8-21.333-8.534-4.267-17.067-4.267-21.334-4.267-8.533 4.267-12.8 8.534-21.333 21.334-4.267 8.533-8.533 12.8-12.8 21.333-4.267 8.533-8.533 12.8-12.8 21.333H512c-4.267-8.533-8.533-17.066-8.533-21.333-4.267-8.533-8.534-12.8-12.8-21.333-4.267-12.8-12.8-17.067-21.334-17.067s-17.066 0-25.6 8.533c-8.533 8.534-12.8 12.8-12.8 21.334s0 17.066 8.534 25.6l4.266 4.266L448 307.2c-17.067 0-29.867 4.267-38.4 12.8-8.533 4.267-12.8 21.333-12.8 38.4v157.867c0 21.333 4.267 34.133 12.8 42.666 8.533 8.534 21.333 12.8 42.667 12.8H512v34.134h-98.133c-12.8 0-21.334 0-25.6 4.266-4.267 4.267-8.534 8.534-8.534 21.334v17.066c0 4.267 4.267 8.534 4.267 8.534 4.267 0 4.267 4.266 8.533 4.266H512V716.8c0 12.8 4.267 21.333 8.533 25.6 4.267 4.267 12.8 8.533 21.334 8.533 12.8 0 21.333-4.266 25.6-8.533 4.266-4.267 4.266-12.8 4.266-25.6v-55.467H652.8c-8.533 25.6-12.8 51.2-12.8 76.8 0 140.8 115.2 256 256 256s256-115.2 256-256S1036.8 486.4 896 486.4zm-328.533-128h55.466c4.267 0 4.267 0 4.267 4.267V409.6h-59.733v-51.2zm0 102.4H627.2V512h-55.467v-51.2zM512 516.267h-55.467v-51.2H512v51.2zm0-102.4h-59.733V362.667H512v51.2zm384 499.2c-93.867 0-170.667-76.8-170.667-170.667S802.133 571.733 896 571.733s170.667 76.8 170.667 170.667S989.867 913.067 896 913.067z"/><path fill="#fff" d="M951.467 669.867 878.933 742.4l-29.866-25.6C832 699.733 806.4 704 789.333 721.067c-17.066 17.066-12.8 42.666 4.267 59.733l59.733 51.2c8.534 8.533 17.067 8.533 29.867 8.533s21.333-4.266 29.867-12.8l102.4-102.4c17.066-17.066 17.066-42.666 0-59.733-21.334-12.8-46.934-12.8-64 4.267zm-371.2 209.066H213.333c-72.533 0-128-55.466-128-119.466V230.4c0-64 55.467-119.467 128-119.467h512c72.534 0 128 55.467 128 119.467v140.8c0 25.6 17.067 42.667 42.667 42.667s42.667-17.067 42.667-42.667V230.4c0-115.2-93.867-204.8-213.334-204.8h-512C93.867 25.6 0 119.467 0 230.4v529.067c0 115.2 93.867 204.8 213.333 204.8h366.934c25.6 0 42.666-17.067 42.666-42.667s-21.333-42.667-42.666-42.667z"/></svg>'},{}],d9WLf:[function(o,D,s){D.exports='<svg viewBox="0 0 1152 1024" width="22" height="22" xmlns="http://www.w3.org/2000/svg"><path fill="#fff" d="M311.296 661.504c0 4.096-4.096 8.704-8.704 12.8 0 4.096 0 4.096-4.096 8.704h-12.8c-4.096 0-8.704-4.096-16.896-8.704-8.704-8.704-16.896-8.704-25.6-8.704s-12.8 4.096-16.896 12.8c-4.096 12.8-8.704 21.504-4.096 29.696 4.096 8.704 12.8 16.896 25.6 21.504 16.896 8.704 34.304 16.896 47.104 16.896 12.8 0 21.504-4.096 34.304-8.704 8.704-4.096 16.896-16.896 25.6-29.696s12.8-34.304 16.896-55.296c4.096-21.504 4.096-51.2 4.096-85.504 0-12.8 0-21.504-4.096-29.696 0-8.704-4.096-12.8-8.704-16.896-4.096-4.096-8.704-8.704-12.8-8.704s-12.8-4.096-21.504-4.096h-55.808s-4.096-4.096 0-8.704l4.096-38.4c0-4.096 0-8.704 4.096-8.704h47.104c16.896 0 25.6-4.096 34.304-12.8s12.8-21.504 12.8-42.496v-72.704c0-16.896-4.096-34.304-8.704-42.496-12.8-12.8-25.6-16.896-42.496-16.896H243.2c-8.704 0-16.896 0-21.504 4.096-4.096 8.704-4.096 12.8-4.096 25.6 0 8.704 0 16.896 4.096 21.504 4.096 4.096 12.8 8.704 21.504 8.704h64c4.096 0 8.704 0 8.704 4.096v34.304c0 8.704 0 12.8-4.096 12.8 0 0-4.096 4.096-8.704 4.096H268.8c-8.704 0-12.8 0-21.504 4.096-4.096 0-8.704 4.096-8.704 4.096-4.096 4.096-8.704 12.8-8.704 16.896 0 8.704-4.096 16.896-4.096 25.6l-8.704 72.704v29.696c0 8.704 4.096 12.8 8.704 16.896s8.704 4.096 16.896 8.704h68.096c4.096 0 8.704 0 8.704 4.096s4.096 8.704 4.096 16.896c0 21.504 0 42.496-4.096 55.296.512 9.216-3.584 22.016-8.192 26.624zM896 486.4c-93.696 0-175.104 51.2-217.6 123.904H571.904V576H640c21.504 0 34.304-4.096 42.496-12.8 8.704-8.704 12.8-21.504 12.8-42.496V358.4c0-21.504-4.096-34.304-12.8-42.496-8.704-8.704-21.504-12.8-42.496-12.8 0-4.096 4.096-4.096 4.096-8.704-4.096 0-4.096-4.096-4.096-4.096 4.096-12.8 8.704-21.504 4.096-25.6 0-8.704-4.096-12.8-12.8-21.504-8.704-4.096-16.896-4.096-21.504-4.096-8.704 4.096-12.8 8.704-21.504 21.504-4.096 8.704-8.704 12.8-12.8 21.504s-8.704 12.8-12.8 21.504h-51.2c-4.096-8.704-8.704-16.896-8.704-21.504-4.096-8.704-8.704-12.8-12.8-21.504-4.096-12.8-12.8-16.896-21.504-16.896s-16.896 0-25.6 8.704-12.8 12.8-12.8 21.504 0 16.896 8.704 25.6l4.096 4.096 4.096 4.096c-16.896 0-29.696 4.096-38.4 12.8-8.704 4.096-12.8 21.504-12.8 38.4v157.696c0 21.504 4.096 34.304 12.8 42.496 8.704 8.704 21.504 12.8 42.496 12.8H512v34.304h-98.304c-12.8 0-21.504 0-25.6 4.096s-8.704 8.704-8.704 21.504v16.896c0 4.096 4.096 8.704 4.096 8.704 4.096 0 4.096 4.096 8.704 4.096H512V716.8c0 12.8 4.096 21.504 8.704 25.6 4.096 4.096 12.8 8.704 21.504 8.704 12.8 0 21.504-4.096 25.6-8.704 4.096-4.096 4.096-12.8 4.096-25.6v-55.296H652.8c-8.704 25.6-12.8 51.2-12.8 76.8 0 140.8 115.2 256 256 256s256-115.2 256-256S1036.8 486.4 896 486.4zm-328.704-128h55.296c4.096 0 4.096 0 4.096 4.096V409.6h-59.904v-51.2zm0 102.4H627.2V512h-55.296v-51.2h-4.608zM512 516.096h-55.296v-51.2H512v51.2zm0-102.4h-59.904v-51.2H512v51.2zm384 499.2c-93.696 0-170.496-76.8-170.496-170.496S802.304 571.904 896 571.904s170.496 76.8 170.496 170.496S989.696 912.896 896 912.896z"/><path fill="#fff" d="M580.096 879.104H213.504c-72.704 0-128-55.296-128-119.296V230.4c0-64 55.296-119.296 128-119.296h512c72.704 0 128 55.296 128 119.296v140.8c0 25.6 16.896 42.496 42.496 42.496s42.496-16.896 42.496-42.496V230.4c0-115.2-93.696-204.8-213.504-204.8h-512C93.696 25.6 0 119.296 0 230.4v528.896c0 115.2 93.696 204.8 213.504 204.8h367.104c25.6 0 42.496-16.896 42.496-42.496s-21.504-42.496-43.008-42.496zm171.52 10.752c-15.36-15.36-15.36-40.96 0-56.32l237.568-237.568c15.36-15.36 40.96-15.36 56.32 0s15.36 40.96 0 56.32L807.936 889.856c-15.36 15.36-40.448 15.36-56.32 0z"/></svg>'},{}],"8Y3Ij":[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22"><path d="M16.5 8c1.289 0 2.49.375 3.5 1.022V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h7.022A6.5 6.5 0 0 1 16.5 8zM7 13H5a1 1 0 0 1 0-2h2a1 1 0 0 1 0 2zm2-4H5a1 1 0 0 1 0-2h4a1 1 0 0 1 0 2z"/><path d="m20.587 13.696-.787-.131a3.503 3.503 0 0 0-.593-1.051l.301-.804a.46.46 0 0 0-.21-.56l-1.005-.581a.52.52 0 0 0-.656.113l-.499.607a3.53 3.53 0 0 0-1.276 0l-.499-.607a.52.52 0 0 0-.656-.113l-1.005.581a.46.46 0 0 0-.21.56l.301.804c-.254.31-.456.665-.593 1.051l-.787.131a.48.48 0 0 0-.413.465v1.209a.48.48 0 0 0 .413.465l.811.135c.144.382.353.733.614 1.038l-.292.78a.46.46 0 0 0 .21.56l1.005.581a.52.52 0 0 0 .656-.113l.515-.626a3.549 3.549 0 0 0 1.136 0l.515.626a.52.52 0 0 0 .656.113l1.005-.581a.46.46 0 0 0 .21-.56l-.292-.78c.261-.305.47-.656.614-1.038l.811-.135A.48.48 0 0 0 21 15.37v-1.209a.48.48 0 0 0-.413-.465zM16.5 16.057a1.29 1.29 0 1 1 .002-2.582 1.29 1.29 0 0 1-.002 2.582z"/></svg>'},{}],hltwt:[function(o,D,s){D.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" width="24" height="24"><path d="M17 16H5c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1zM6.96 15c.39 0 .74-.24.89-.6l.65-1.6h5l.66 1.6c.15.36.5.6.89.6.69 0 1.15-.71.88-1.34l-3.88-8.97C11.87 4.27 11.46 4 11 4s-.87.27-1.05.69l-3.88 8.97c-.27.63.2 1.34.89 1.34zM11 5.98 12.87 11H9.13L11 5.98z"/></svg>'},{}]},["E13ST"],"E13ST")})(ne);var Re=Zt(ne.exports),ae={exports:{}};(function(gt,ft){(function(o,D){gt.exports=D()})(window,function(){return function(o){var D={};function s(t){if(D[t])return D[t].exports;var e=D[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}return s.m=o,s.c=D,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e||4&e&&typeof t=="object"&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&typeof t!="string")for(var a in t)s.d(i,a,function(r){return t[r]}.bind(null,a));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=14)}([function(o,D,s){var t=s(6),e=s.n(t),i=function(){function a(){}return a.e=function(r,l){r&&!a.FORCE_GLOBAL_TAG||(r=a.GLOBAL_TAG);var n="["+r+"] > "+l;a.ENABLE_CALLBACK&&a.emitter.emit("log","error",n),a.ENABLE_ERROR&&(console.error?console.error(n):console.warn?console.warn(n):console.log(n))},a.i=function(r,l){r&&!a.FORCE_GLOBAL_TAG||(r=a.GLOBAL_TAG);var n="["+r+"] > "+l;a.ENABLE_CALLBACK&&a.emitter.emit("log","info",n),a.ENABLE_INFO&&(console.info?console.info(n):console.log(n))},a.w=function(r,l){r&&!a.FORCE_GLOBAL_TAG||(r=a.GLOBAL_TAG);var n="["+r+"] > "+l;a.ENABLE_CALLBACK&&a.emitter.emit("log","warn",n),a.ENABLE_WARN&&(console.warn?console.warn(n):console.log(n))},a.d=function(r,l){r&&!a.FORCE_GLOBAL_TAG||(r=a.GLOBAL_TAG);var n="["+r+"] > "+l;a.ENABLE_CALLBACK&&a.emitter.emit("log","debug",n),a.ENABLE_DEBUG&&(console.debug?console.debug(n):console.log(n))},a.v=function(r,l){r&&!a.FORCE_GLOBAL_TAG||(r=a.GLOBAL_TAG);var n="["+r+"] > "+l;a.ENABLE_CALLBACK&&a.emitter.emit("log","verbose",n),a.ENABLE_VERBOSE&&console.log(n)},a}();i.GLOBAL_TAG="mpegts.js",i.FORCE_GLOBAL_TAG=!1,i.ENABLE_ERROR=!0,i.ENABLE_INFO=!0,i.ENABLE_WARN=!0,i.ENABLE_DEBUG=!0,i.ENABLE_VERBOSE=!0,i.ENABLE_CALLBACK=!1,i.emitter=new e.a,D.a=i},function(o,D,s){D.a={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},function(o,D,s){s.d(D,"c",function(){return e}),s.d(D,"b",function(){return i}),s.d(D,"a",function(){return a});var t=s(3),e={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},i={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},a=function(){function r(l){this._type=l||"undefined",this._status=e.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return r.prototype.destroy=function(){this._status=e.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},r.prototype.isWorking=function(){return this._status===e.kConnecting||this._status===e.kBuffering},Object.defineProperty(r.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(l){this._onContentLengthKnown=l},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(l){this._onURLRedirect=l},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(l){this._onDataArrival=l},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onError",{get:function(){return this._onError},set:function(l){this._onError=l},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"onComplete",{get:function(){return this._onComplete},set:function(l){this._onComplete=l},enumerable:!1,configurable:!0}),r.prototype.open=function(l,n){throw new t.c("Unimplemented abstract function!")},r.prototype.abort=function(){throw new t.c("Unimplemented abstract function!")},r}()},function(o,D,s){s.d(D,"d",function(){return i}),s.d(D,"a",function(){return a}),s.d(D,"b",function(){return r}),s.d(D,"c",function(){return l});var t,e=(t=function(n,u){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var v in g)g.hasOwnProperty(v)&&(d[v]=g[v])})(n,u)},function(n,u){function d(){this.constructor=n}t(n,u),n.prototype=u===null?Object.create(u):(d.prototype=u.prototype,new d)}),i=function(){function n(u){this._message=u}return Object.defineProperty(n.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return this.name+": "+this.message},n}(),a=function(n){function u(d){return n.call(this,d)||this}return e(u,n),Object.defineProperty(u.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),u}(i),r=function(n){function u(d){return n.call(this,d)||this}return e(u,n),Object.defineProperty(u.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),u}(i),l=function(n){function u(d){return n.call(this,d)||this}return e(u,n),Object.defineProperty(u.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),u}(i)},function(o,D,s){var t={};(function(){var e=self.navigator.userAgent.toLowerCase(),i=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],a=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],r={browser:i[5]||i[3]||i[1]||"",version:i[2]||i[4]||"0",majorVersion:i[4]||i[2]||"0",platform:a[0]||""},l={};if(r.browser){l[r.browser]=!0;var n=r.majorVersion.split(".");l.version={major:parseInt(r.majorVersion,10),string:r.version},n.length>1&&(l.version.minor=parseInt(n[1],10)),n.length>2&&(l.version.build=parseInt(n[2],10))}r.platform&&(l[r.platform]=!0),(l.chrome||l.opr||l.safari)&&(l.webkit=!0),(l.rv||l.iemobile)&&(l.rv&&delete l.rv,r.browser="msie",l.msie=!0),l.edge&&(delete l.edge,r.browser="msedge",l.msedge=!0),l.opr&&(r.browser="opera",l.opera=!0),l.safari&&l.android&&(r.browser="android",l.android=!0);for(var u in l.name=r.browser,l.platform=r.platform,t)t.hasOwnProperty(u)&&delete t[u];Object.assign(t,l)})(),D.a=t},function(o,D,s){D.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(o,D,s){var t,e=typeof Reflect=="object"?Reflect:null,i=e&&typeof e.apply=="function"?e.apply:function(E,C,b){return Function.prototype.apply.call(E,C,b)};t=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(E){return Object.getOwnPropertyNames(E).concat(Object.getOwnPropertySymbols(E))}:function(E){return Object.getOwnPropertyNames(E)};var a=Number.isNaN||function(E){return E!=E};function r(){r.init.call(this)}o.exports=r,o.exports.once=function(E,C){return new Promise(function(b,m){function _(S){E.removeListener(C,w),m(S)}function w(){typeof E.removeListener=="function"&&E.removeListener("error",_),b([].slice.call(arguments))}j(E,C,w,{once:!0}),C!=="error"&&function(S,B,z){typeof S.on=="function"&&j(S,"error",B,z)}(E,_,{once:!0})})},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var l=10;function n(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}function u(E){return E._maxListeners===void 0?r.defaultMaxListeners:E._maxListeners}function d(E,C,b,m){var _,w,S,B;if(n(b),(w=E._events)===void 0?(w=E._events=Object.create(null),E._eventsCount=0):(w.newListener!==void 0&&(E.emit("newListener",C,b.listener?b.listener:b),w=E._events),S=w[C]),S===void 0)S=w[C]=b,++E._eventsCount;else if(typeof S=="function"?S=w[C]=m?[b,S]:[S,b]:m?S.unshift(b):S.push(b),(_=u(E))>0&&S.length>_&&!S.warned){S.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=E,z.type=C,z.count=S.length,B=z,console&&console.warn&&console.warn(B)}return E}function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(E,C,b){var m={fired:!1,wrapFn:void 0,target:E,type:C,listener:b},_=g.bind(m);return _.listener=b,m.wrapFn=_,_}function A(E,C,b){var m=E._events;if(m===void 0)return[];var _=m[C];return _===void 0?[]:typeof _=="function"?b?[_.listener||_]:[_]:b?function(w){for(var S=new Array(w.length),B=0;B<S.length;++B)S[B]=w[B].listener||w[B];return S}(_):O(_,_.length)}function P(E){var C=this._events;if(C!==void 0){var b=C[E];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function O(E,C){for(var b=new Array(C),m=0;m<C;++m)b[m]=E[m];return b}function j(E,C,b,m){if(typeof E.on=="function")m.once?E.once(C,b):E.on(C,b);else{if(typeof E.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E);E.addEventListener(C,function _(w){m.once&&E.removeEventListener(C,_),b(w)})}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(E){if(typeof E!="number"||E<0||a(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");l=E}}),r.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(E){if(typeof E!="number"||E<0||a(E))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+E+".");return this._maxListeners=E,this},r.prototype.getMaxListeners=function(){return u(this)},r.prototype.emit=function(E){for(var C=[],b=1;b<arguments.length;b++)C.push(arguments[b]);var m=E==="error",_=this._events;if(_!==void 0)m=m&&_.error===void 0;else if(!m)return!1;if(m){var w;if(C.length>0&&(w=C[0]),w instanceof Error)throw w;var S=new Error("Unhandled error."+(w?" ("+w.message+")":""));throw S.context=w,S}var B=_[E];if(B===void 0)return!1;if(typeof B=="function")i(B,this,C);else{var z=B.length,Z=O(B,z);for(b=0;b<z;++b)i(Z[b],this,C)}return!0},r.prototype.addListener=function(E,C){return d(this,E,C,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(E,C){return d(this,E,C,!0)},r.prototype.once=function(E,C){return n(C),this.on(E,v(this,E,C)),this},r.prototype.prependOnceListener=function(E,C){return n(C),this.prependListener(E,v(this,E,C)),this},r.prototype.removeListener=function(E,C){var b,m,_,w,S;if(n(C),(m=this._events)===void 0)return this;if((b=m[E])===void 0)return this;if(b===C||b.listener===C)--this._eventsCount==0?this._events=Object.create(null):(delete m[E],m.removeListener&&this.emit("removeListener",E,b.listener||C));else if(typeof b!="function"){for(_=-1,w=b.length-1;w>=0;w--)if(b[w]===C||b[w].listener===C){S=b[w].listener,_=w;break}if(_<0)return this;_===0?b.shift():function(B,z){for(;z+1<B.length;z++)B[z]=B[z+1];B.pop()}(b,_),b.length===1&&(m[E]=b[0]),m.removeListener!==void 0&&this.emit("removeListener",E,S||C)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(E){var C,b,m;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[E]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[E]),this;if(arguments.length===0){var _,w=Object.keys(b);for(m=0;m<w.length;++m)(_=w[m])!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(C=b[E])=="function")this.removeListener(E,C);else if(C!==void 0)for(m=C.length-1;m>=0;m--)this.removeListener(E,C[m]);return this},r.prototype.listeners=function(E){return A(this,E,!0)},r.prototype.rawListeners=function(E){return A(this,E,!1)},r.listenerCount=function(E,C){return typeof E.listenerCount=="function"?E.listenerCount(C):P.call(E,C)},r.prototype.listenerCount=P,r.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},function(o,D,s){s.d(D,"d",function(){return t}),s.d(D,"b",function(){return e}),s.d(D,"a",function(){return i}),s.d(D,"c",function(){return a});var t=function(r,l,n,u,d){this.dts=r,this.pts=l,this.duration=n,this.originalDts=u,this.isSyncPoint=d,this.fileposition=null},e=function(){function r(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return r.prototype.appendSyncPoint=function(l){l.isSyncPoint=!0,this.syncPoints.push(l)},r}(),i=function(){function r(){this._list=[]}return r.prototype.clear=function(){this._list=[]},r.prototype.appendArray=function(l){var n=this._list;l.length!==0&&(n.length>0&&l[0].originalDts<n[n.length-1].originalDts&&this.clear(),Array.prototype.push.apply(n,l))},r.prototype.getLastSyncPointBeforeDts=function(l){if(this._list.length==0)return null;var n=this._list,u=0,d=n.length-1,g=0,v=0,A=d;for(l<n[0].dts&&(u=0,v=A+1);v<=A;){if((g=v+Math.floor((A-v)/2))===d||l>=n[g].dts&&l<n[g+1].dts){u=g;break}n[g].dts<l?v=g+1:A=g-1}return this._list[u]},r}(),a=function(){function r(l){this._type=l,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(r.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),r.prototype.isEmpty=function(){return this._list.length===0},r.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},r.prototype._searchNearestSegmentBefore=function(l){var n=this._list;if(n.length===0)return-2;var u=n.length-1,d=0,g=0,v=u,A=0;if(l<n[0].originalBeginDts)return A=-1;for(;g<=v;){if((d=g+Math.floor((v-g)/2))===u||l>n[d].lastSample.originalDts&&l<n[d+1].originalBeginDts){A=d;break}n[d].originalBeginDts<l?g=d+1:v=d-1}return A},r.prototype._searchNearestSegmentAfter=function(l){return this._searchNearestSegmentBefore(l)+1},r.prototype.append=function(l){var n=this._list,u=l,d=this._lastAppendLocation,g=0;d!==-1&&d<n.length&&u.originalBeginDts>=n[d].lastSample.originalDts&&(d===n.length-1||d<n.length-1&&u.originalBeginDts<n[d+1].originalBeginDts)?g=d+1:n.length>0&&(g=this._searchNearestSegmentBefore(u.originalBeginDts)+1),this._lastAppendLocation=g,this._list.splice(g,0,u)},r.prototype.getLastSegmentBefore=function(l){var n=this._searchNearestSegmentBefore(l);return n>=0?this._list[n]:null},r.prototype.getLastSampleBefore=function(l){var n=this.getLastSegmentBefore(l);return n!=null?n.lastSample:null},r.prototype.getLastSyncPointBefore=function(l){for(var n=this._searchNearestSegmentBefore(l),u=this._list[n].syncPoints;u.length===0&&n>0;)n--,u=this._list[n].syncPoints;return u.length>0?u[u.length-1]:null},r}()},function(o,D,s){var t=function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var i=this.hasAudio===!1||this.hasAudio===!0&&this.audioCodec!=null&&this.audioSampleRate!=null&&this.audioChannelCount!=null,a=this.hasVideo===!1||this.hasVideo===!0&&this.videoCodec!=null&&this.width!=null&&this.height!=null&&this.fps!=null&&this.profile!=null&&this.level!=null&&this.refFrames!=null&&this.chromaFormat!=null&&this.sarNum!=null&&this.sarDen!=null;return this.mimeType!=null&&i&&a},e.prototype.isSeekable=function(){return this.hasKeyframesIndex===!0},e.prototype.getNearestKeyframe=function(i){if(this.keyframesIndex==null)return null;var a=this.keyframesIndex,r=this._search(a.times,i);return{index:r,milliseconds:a.times[r],fileposition:a.filepositions[r]}},e.prototype._search=function(i,a){var r=0,l=i.length-1,n=0,u=0,d=l;for(a<i[0]&&(r=0,u=d+1);u<=d;){if((n=u+Math.floor((d-u)/2))===l||a>=i[n]&&a<i[n+1]){r=n;break}i[n]<a?u=n+1:d=n-1}return r},e}();D.a=t},function(o,D,s){var t=s(6),e=s.n(t),i=s(0),a=function(){function r(){}return Object.defineProperty(r,"forceGlobalTag",{get:function(){return i.a.FORCE_GLOBAL_TAG},set:function(l){i.a.FORCE_GLOBAL_TAG=l,r._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(r,"globalTag",{get:function(){return i.a.GLOBAL_TAG},set:function(l){i.a.GLOBAL_TAG=l,r._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(r,"enableAll",{get:function(){return i.a.ENABLE_VERBOSE&&i.a.ENABLE_DEBUG&&i.a.ENABLE_INFO&&i.a.ENABLE_WARN&&i.a.ENABLE_ERROR},set:function(l){i.a.ENABLE_VERBOSE=l,i.a.ENABLE_DEBUG=l,i.a.ENABLE_INFO=l,i.a.ENABLE_WARN=l,i.a.ENABLE_ERROR=l,r._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(r,"enableDebug",{get:function(){return i.a.ENABLE_DEBUG},set:function(l){i.a.ENABLE_DEBUG=l,r._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(r,"enableVerbose",{get:function(){return i.a.ENABLE_VERBOSE},set:function(l){i.a.ENABLE_VERBOSE=l,r._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(r,"enableInfo",{get:function(){return i.a.ENABLE_INFO},set:function(l){i.a.ENABLE_INFO=l,r._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(r,"enableWarn",{get:function(){return i.a.ENABLE_WARN},set:function(l){i.a.ENABLE_WARN=l,r._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(r,"enableError",{get:function(){return i.a.ENABLE_ERROR},set:function(l){i.a.ENABLE_ERROR=l,r._notifyChange()},enumerable:!1,configurable:!0}),r.getConfig=function(){return{globalTag:i.a.GLOBAL_TAG,forceGlobalTag:i.a.FORCE_GLOBAL_TAG,enableVerbose:i.a.ENABLE_VERBOSE,enableDebug:i.a.ENABLE_DEBUG,enableInfo:i.a.ENABLE_INFO,enableWarn:i.a.ENABLE_WARN,enableError:i.a.ENABLE_ERROR,enableCallback:i.a.ENABLE_CALLBACK}},r.applyConfig=function(l){i.a.GLOBAL_TAG=l.globalTag,i.a.FORCE_GLOBAL_TAG=l.forceGlobalTag,i.a.ENABLE_VERBOSE=l.enableVerbose,i.a.ENABLE_DEBUG=l.enableDebug,i.a.ENABLE_INFO=l.enableInfo,i.a.ENABLE_WARN=l.enableWarn,i.a.ENABLE_ERROR=l.enableError,i.a.ENABLE_CALLBACK=l.enableCallback},r._notifyChange=function(){var l=r.emitter;if(l.listenerCount("change")>0){var n=r.getConfig();l.emit("change",n)}},r.registerListener=function(l){r.emitter.addListener("change",l)},r.removeListener=function(l){r.emitter.removeListener("change",l)},r.addLogListener=function(l){i.a.emitter.addListener("log",l),i.a.emitter.listenerCount("log")>0&&(i.a.ENABLE_CALLBACK=!0,r._notifyChange())},r.removeLogListener=function(l){i.a.emitter.removeListener("log",l),i.a.emitter.listenerCount("log")===0&&(i.a.ENABLE_CALLBACK=!1,r._notifyChange())},r}();a.emitter=new e.a,D.a=a},function(o,D,s){var t=s(6),e=s.n(t),i=s(0),a=s(4),r=s(8);function l(p,c,h){var f=p;if(c+h<f.length){for(;h--;)if((192&f[++c])!=128)return!1;return!0}return!1}var n,u=function(p){for(var c=[],h=p,f=0,y=p.length;f<y;)if(h[f]<128)c.push(String.fromCharCode(h[f])),++f;else{if(!(h[f]<192)){if(h[f]<224){if(l(h,f,1)&&(k=(31&h[f])<<6|63&h[f+1])>=128){c.push(String.fromCharCode(65535&k)),f+=2;continue}}else if(h[f]<240){if(l(h,f,2)&&(k=(15&h[f])<<12|(63&h[f+1])<<6|63&h[f+2])>=2048&&(63488&k)!=55296){c.push(String.fromCharCode(65535&k)),f+=3;continue}}else if(h[f]<248){var k;if(l(h,f,3)&&(k=(7&h[f])<<18|(63&h[f+1])<<12|(63&h[f+2])<<6|63&h[f+3])>65536&&k<1114112){k-=65536,c.push(String.fromCharCode(k>>>10|55296)),c.push(String.fromCharCode(1023&k|56320)),f+=4;continue}}}c.push(String.fromCharCode(65533)),++f}return c.join("")},d=s(3),g=(n=new ArrayBuffer(2),new DataView(n).setInt16(0,256,!0),new Int16Array(n)[0]===256),v=function(){function p(){}return p.parseScriptData=function(c,h,f){var y={};try{var k=p.parseValue(c,h,f),R=p.parseValue(c,h+k.size,f-k.size);y[k.data]=R.data}catch(I){i.a.e("AMF",I.toString())}return y},p.parseObject=function(c,h,f){if(f<3)throw new d.a("Data not enough when parse ScriptDataObject");var y=p.parseString(c,h,f),k=p.parseValue(c,h+y.size,f-y.size),R=k.objectEnd;return{data:{name:y.data,value:k.data},size:y.size+k.size,objectEnd:R}},p.parseVariable=function(c,h,f){return p.parseObject(c,h,f)},p.parseString=function(c,h,f){if(f<2)throw new d.a("Data not enough when parse String");var y=new DataView(c,h,f).getUint16(0,!g);return{data:y>0?u(new Uint8Array(c,h+2,y)):"",size:2+y}},p.parseLongString=function(c,h,f){if(f<4)throw new d.a("Data not enough when parse LongString");var y=new DataView(c,h,f).getUint32(0,!g);return{data:y>0?u(new Uint8Array(c,h+4,y)):"",size:4+y}},p.parseDate=function(c,h,f){if(f<10)throw new d.a("Data size invalid when parse Date");var y=new DataView(c,h,f),k=y.getFloat64(0,!g),R=y.getInt16(8,!g);return{data:new Date(k+=60*R*1e3),size:10}},p.parseValue=function(c,h,f){if(f<1)throw new d.a("Data not enough when parse Value");var y,k=new DataView(c,h,f),R=1,I=k.getUint8(0),F=!1;try{switch(I){case 0:y=k.getFloat64(1,!g),R+=8;break;case 1:y=!!k.getUint8(1),R+=1;break;case 2:var U=p.parseString(c,h+1,f-1);y=U.data,R+=U.size;break;case 3:y={};var N=0;for((16777215&k.getUint32(f-4,!g))==9&&(N=3);R<f-4;){var q=p.parseObject(c,h+R,f-R-N);if(q.objectEnd)break;y[q.data.name]=q.data.value,R+=q.size}R<=f-3&&(16777215&k.getUint32(R-1,!g))===9&&(R+=3);break;case 8:for(y={},R+=4,N=0,(16777215&k.getUint32(f-4,!g))==9&&(N=3);R<f-8;){var V=p.parseVariable(c,h+R,f-R-N);if(V.objectEnd)break;y[V.data.name]=V.data.value,R+=V.size}R<=f-3&&(16777215&k.getUint32(R-1,!g))===9&&(R+=3);break;case 9:y=void 0,R=1,F=!0;break;case 10:y=[];var H=k.getUint32(1,!g);R+=4;for(var et=0;et<H;et++){var ot=p.parseValue(c,h+R,f-R);y.push(ot.data),R+=ot.size}break;case 11:var Q=p.parseDate(c,h+1,f-1);y=Q.data,R+=Q.size;break;case 12:var st=p.parseString(c,h+1,f-1);y=st.data,R+=st.size;break;default:R=f,i.a.w("AMF","Unsupported AMF value type "+I)}}catch(ct){i.a.e("AMF",ct.toString())}return{data:y,size:R,objectEnd:F}},p}(),A=function(){function p(c){this.TAG="ExpGolomb",this._buffer=c,this._buffer_index=0,this._total_bytes=c.byteLength,this._total_bits=8*c.byteLength,this._current_word=0,this._current_word_bits_left=0}return p.prototype.destroy=function(){this._buffer=null},p.prototype._fillCurrentWord=function(){var c=this._total_bytes-this._buffer_index;if(c<=0)throw new d.a("ExpGolomb: _fillCurrentWord() but no bytes available");var h=Math.min(4,c),f=new Uint8Array(4);f.set(this._buffer.subarray(this._buffer_index,this._buffer_index+h)),this._current_word=new DataView(f.buffer).getUint32(0,!1),this._buffer_index+=h,this._current_word_bits_left=8*h},p.prototype.readBits=function(c){if(c>32)throw new d.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(c<=this._current_word_bits_left){var h=this._current_word>>>32-c;return this._current_word<<=c,this._current_word_bits_left-=c,h}var f=this._current_word_bits_left?this._current_word:0;f>>>=32-this._current_word_bits_left;var y=c-this._current_word_bits_left;this._fillCurrentWord();var k=Math.min(y,this._current_word_bits_left),R=this._current_word>>>32-k;return this._current_word<<=k,this._current_word_bits_left-=k,f=f<<k|R},p.prototype.readBool=function(){return this.readBits(1)===1},p.prototype.readByte=function(){return this.readBits(8)},p.prototype._skipLeadingZero=function(){var c;for(c=0;c<this._current_word_bits_left;c++)if((this._current_word&2147483648>>>c)!=0)return this._current_word<<=c,this._current_word_bits_left-=c,c;return this._fillCurrentWord(),c+this._skipLeadingZero()},p.prototype.readUEG=function(){var c=this._skipLeadingZero();return this.readBits(c+1)-1},p.prototype.readSEG=function(){var c=this.readUEG();return 1&c?c+1>>>1:-1*(c>>>1)},p}(),P=function(){function p(){}return p._ebsp2rbsp=function(c){for(var h=c,f=h.byteLength,y=new Uint8Array(f),k=0,R=0;R<f;R++)R>=2&&h[R]===3&&h[R-1]===0&&h[R-2]===0||(y[k]=h[R],k++);return new Uint8Array(y.buffer,0,k)},p.parseSPS=function(c){for(var h=c.subarray(1,4),f="avc1.",y=0;y<3;y++){var k=h[y].toString(16);k.length<2&&(k="0"+k),f+=k}var R=p._ebsp2rbsp(c),I=new A(R);I.readByte();var F=I.readByte();I.readByte();var U=I.readByte();I.readUEG();var N=p.getProfileString(F),q=p.getLevelString(U),V=1,H=420,et=8,ot=8;if((F===100||F===110||F===122||F===244||F===44||F===83||F===86||F===118||F===128||F===138||F===144)&&((V=I.readUEG())===3&&I.readBits(1),V<=3&&(H=[0,420,422,444][V]),et=I.readUEG()+8,ot=I.readUEG()+8,I.readBits(1),I.readBool()))for(var Q=V!==3?8:12,st=0;st<Q;st++)I.readBool()&&(st<6?p._skipScalingList(I,16):p._skipScalingList(I,64));I.readUEG();var ct=I.readUEG();if(ct===0)I.readUEG();else if(ct===1){I.readBits(1),I.readSEG(),I.readSEG();var dt=I.readUEG();for(st=0;st<dt;st++)I.readSEG()}var at=I.readUEG();I.readBits(1);var St=I.readUEG(),ut=I.readUEG(),Et=I.readBits(1);Et===0&&I.readBits(1),I.readBits(1);var yt=0,kt=0,Tt=0,At=0;I.readBool()&&(yt=I.readUEG(),kt=I.readUEG(),Tt=I.readUEG(),At=I.readUEG());var Lt=1,Dt=1,wt=0,xt=!0,It=0,Bt=0;if(I.readBool()){if(I.readBool()){var Ot=I.readByte();Ot>0&&Ot<16?(Lt=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Ot-1],Dt=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Ot-1]):Ot===255&&(Lt=I.readByte()<<8|I.readByte(),Dt=I.readByte()<<8|I.readByte())}if(I.readBool()&&I.readBool(),I.readBool()&&(I.readBits(4),I.readBool()&&I.readBits(24)),I.readBool()&&(I.readUEG(),I.readUEG()),I.readBool()){var Ft=I.readBits(32),Gt=I.readBits(32);xt=I.readBool(),wt=(It=Gt)/(Bt=2*Ft)}}var Ut=1;Lt===1&&Dt===1||(Ut=Lt/Dt);var Ct=0,Rt=0;V===0?(Ct=1,Rt=2-Et):(Ct=V===3?1:2,Rt=(V===1?2:1)*(2-Et));var Pt=16*(St+1),Mt=16*(ut+1)*(2-Et);Pt-=(yt+kt)*Ct,Mt-=(Tt+At)*Rt;var oe=Math.ceil(Pt*Ut);return I.destroy(),I=null,{codec_mimetype:f,profile_idc:F,level_idc:U,profile_string:N,level_string:q,chroma_format_idc:V,bit_depth:et,bit_depth_luma:et,bit_depth_chroma:ot,ref_frames:at,chroma_format:H,chroma_format_string:p.getChromaFormatString(H),frame_rate:{fixed:xt,fps:wt,fps_den:Bt,fps_num:It},sar_ratio:{width:Lt,height:Dt},codec_size:{width:Pt,height:Mt},present_size:{width:oe,height:Mt}}},p._skipScalingList=function(c,h){for(var f=8,y=8,k=0;k<h;k++)y!==0&&(y=(f+c.readSEG()+256)%256),f=y===0?f:y},p.getProfileString=function(c){switch(c){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},p.getLevelString=function(c){return(c/10).toFixed(1)},p.getChromaFormatString=function(c){switch(c){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},p}(),O=s(5),j,E=function(){function p(c,h){this.TAG="FLVDemuxer",this._config=h,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=c.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=c.hasAudioTrack,this._hasVideo=c.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new r.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var f=new ArrayBuffer(2);return new DataView(f).setInt16(0,256,!0),new Int16Array(f)[0]===256}()}return p.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},p.probe=function(c){var h=new Uint8Array(c),f={match:!1};if(h[0]!==70||h[1]!==76||h[2]!==86||h[3]!==1)return f;var y,k,R=(4&h[4])>>>2!=0,I=(1&h[4])!=0,F=(y=h)[k=5]<<24|y[k+1]<<16|y[k+2]<<8|y[k+3];return F<9?f:{match:!0,consumed:F,dataOffset:F,hasAudioTrack:R,hasVideoTrack:I}},p.prototype.bindDataSource=function(c){return c.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(p.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(c){this._onTrackMetadata=c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(c){this._onMediaInfo=c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(c){this._onMetaDataArrived=c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(c){this._onScriptDataArrived=c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onError",{get:function(){return this._onError},set:function(c){this._onError=c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(c){this._onDataAvailable=c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(c){this._timestampBase=c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"overridedDuration",{get:function(){return this._duration},set:function(c){this._durationOverrided=!0,this._duration=c,this._mediaInfo.duration=c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"overridedHasAudio",{set:function(c){this._hasAudioFlagOverrided=!0,this._hasAudio=c,this._mediaInfo.hasAudio=c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"overridedHasVideo",{set:function(c){this._hasVideoFlagOverrided=!0,this._hasVideo=c,this._mediaInfo.hasVideo=c},enumerable:!1,configurable:!0}),p.prototype.resetMediaInfo=function(){this._mediaInfo=new r.a},p.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},p.prototype.parseChunks=function(c,h){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new d.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var f=0,y=this._littleEndian;if(h===0){if(!(c.byteLength>13))return 0;f=p.probe(c).dataOffset}for(this._firstParse&&(this._firstParse=!1,h+f!==this._dataOffset&&i.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),(k=new DataView(c,f)).getUint32(0,!y)!==0&&i.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),f+=4);f<c.byteLength;){this._dispatch=!0;var k=new DataView(c,f);if(f+11+4>c.byteLength)break;var R=k.getUint8(0),I=16777215&k.getUint32(0,!y);if(f+11+I+4>c.byteLength)break;if(R===8||R===9||R===18){var F=k.getUint8(4),U=k.getUint8(5),N=k.getUint8(6)|U<<8|F<<16|k.getUint8(7)<<24;(16777215&k.getUint32(7,!y))!==0&&i.a.w(this.TAG,"Meet tag which has StreamID != 0!");var q=f+11;switch(R){case 8:this._parseAudioData(c,q,I,N);break;case 9:this._parseVideoData(c,q,I,N,h+f);break;case 18:this._parseScriptData(c,q,I)}var V=k.getUint32(11+I,!y);V!==11+I&&i.a.w(this.TAG,"Invalid PrevTagSize "+V),f+=11+I+4}else i.a.w(this.TAG,"Unsupported tag type "+R+", skipped"),f+=11+I+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),f},p.prototype._parseScriptData=function(c,h,f){var y=v.parseScriptData(c,h,f);if(y.hasOwnProperty("onMetaData")){if(y.onMetaData==null||typeof y.onMetaData!="object")return void i.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&i.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=y;var k=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},k)),typeof k.hasAudio=="boolean"&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=k.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),typeof k.hasVideo=="boolean"&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=k.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),typeof k.audiodatarate=="number"&&(this._mediaInfo.audioDataRate=k.audiodatarate),typeof k.videodatarate=="number"&&(this._mediaInfo.videoDataRate=k.videodatarate),typeof k.width=="number"&&(this._mediaInfo.width=k.width),typeof k.height=="number"&&(this._mediaInfo.height=k.height),typeof k.duration=="number"){if(!this._durationOverrided){var R=Math.floor(k.duration*this._timescale);this._duration=R,this._mediaInfo.duration=R}}else this._mediaInfo.duration=0;if(typeof k.framerate=="number"){var I=Math.floor(1e3*k.framerate);if(I>0){var F=I/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=F,this._referenceFrameRate.fps_num=I,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=F}}if(typeof k.keyframes=="object"){this._mediaInfo.hasKeyframesIndex=!0;var U=k.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(U),k.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=k,i.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(y).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},y))},p.prototype._parseKeyframesIndex=function(c){for(var h=[],f=[],y=1;y<c.times.length;y++){var k=this._timestampBase+Math.floor(1e3*c.times[y]);h.push(k),f.push(c.filepositions[y])}return{times:h,filepositions:f}},p.prototype._parseAudioData=function(c,h,f,y){if(f<=1)i.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(this._hasAudioFlagOverrided!==!0||this._hasAudio!==!1){this._littleEndian;var k=new DataView(c,h,f).getUint8(0),R=k>>>4;if(R===2||R===10){var I=0,F=(12&k)>>>2;if(F>=0&&F<=4){I=this._flvSoundRateTable[F];var U=1&k,N=this._audioMetadata,q=this._audioTrack;if(N||(this._hasAudio===!1&&this._hasAudioFlagOverrided===!1&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(N=this._audioMetadata={}).type="audio",N.id=q.id,N.timescale=this._timescale,N.duration=this._duration,N.audioSampleRate=I,N.channelCount=U===0?1:2),R===10){var V=this._parseAACAudioData(c,h+1,f-1);if(V==null)return;if(V.packetType===0){N.config&&i.a.w(this.TAG,"Found another AudioSpecificConfig!");var H=V.data;N.audioSampleRate=H.samplingRate,N.channelCount=H.channelCount,N.codec=H.codec,N.originalCodec=H.originalCodec,N.config=H.config,N.refSampleDuration=1024/N.audioSampleRate*N.timescale,i.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",N),(Q=this._mediaInfo).audioCodec=N.originalCodec,Q.audioSampleRate=N.audioSampleRate,Q.audioChannelCount=N.channelCount,Q.hasVideo?Q.videoCodec!=null&&(Q.mimeType='video/x-flv; codecs="'+Q.videoCodec+","+Q.audioCodec+'"'):Q.mimeType='video/x-flv; codecs="'+Q.audioCodec+'"',Q.isComplete()&&this._onMediaInfo(Q)}else if(V.packetType===1){var et=this._timestampBase+y,ot={unit:V.data,length:V.data.byteLength,dts:et,pts:et};q.samples.push(ot),q.length+=V.data.length}else i.a.e(this.TAG,"Flv: Unsupported AAC data type "+V.packetType)}else if(R===2){if(!N.codec){var Q;if((H=this._parseMP3AudioData(c,h+1,f-1,!0))==null)return;N.audioSampleRate=H.samplingRate,N.channelCount=H.channelCount,N.codec=H.codec,N.originalCodec=H.originalCodec,N.refSampleDuration=1152/N.audioSampleRate*N.timescale,i.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",N),(Q=this._mediaInfo).audioCodec=N.codec,Q.audioSampleRate=N.audioSampleRate,Q.audioChannelCount=N.channelCount,Q.audioDataRate=H.bitRate,Q.hasVideo?Q.videoCodec!=null&&(Q.mimeType='video/x-flv; codecs="'+Q.videoCodec+","+Q.audioCodec+'"'):Q.mimeType='video/x-flv; codecs="'+Q.audioCodec+'"',Q.isComplete()&&this._onMediaInfo(Q)}var st=this._parseMP3AudioData(c,h+1,f-1,!1);if(st==null)return;et=this._timestampBase+y;var ct={unit:st,length:st.byteLength,dts:et,pts:et};q.samples.push(ct),q.length+=st.length}}else this._onError(O.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+F)}else this._onError(O.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+R)}},p.prototype._parseAACAudioData=function(c,h,f){if(!(f<=1)){var y={},k=new Uint8Array(c,h,f);return y.packetType=k[0],k[0]===0?y.data=this._parseAACAudioSpecificConfig(c,h+1,f-1):y.data=k.subarray(1),y}i.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},p.prototype._parseAACAudioSpecificConfig=function(c,h,f){var y,k,R=new Uint8Array(c,h,f),I=null,F=0,U=null;if(F=y=R[0]>>>3,(k=(7&R[0])<<1|R[1]>>>7)<0||k>=this._mpegSamplingRates.length)this._onError(O.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var N=this._mpegSamplingRates[k],q=(120&R[1])>>>3;if(!(q<0||q>=8)){F===5&&(U=(7&R[1])<<1|R[2]>>>7,(124&R[2])>>>2);var V=self.navigator.userAgent.toLowerCase();return V.indexOf("firefox")!==-1?k>=6?(F=5,I=new Array(4),U=k-3):(F=2,I=new Array(2),U=k):V.indexOf("android")!==-1?(F=2,I=new Array(2),U=k):(F=5,U=k,I=new Array(4),k>=6?U=k-3:q===1&&(F=2,I=new Array(2),U=k)),I[0]=F<<3,I[0]|=(15&k)>>>1,I[1]=(15&k)<<7,I[1]|=(15&q)<<3,F===5&&(I[1]|=(15&U)>>>1,I[2]=(1&U)<<7,I[2]|=8,I[3]=0),{config:I,samplingRate:N,channelCount:q,codec:"mp4a.40."+F,originalCodec:"mp4a.40."+y}}this._onError(O.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},p.prototype._parseMP3AudioData=function(c,h,f,y){if(!(f<4)){this._littleEndian;var k=new Uint8Array(c,h,f),R=null;if(y){if(k[0]!==255)return;var I=k[1]>>>3&3,F=(6&k[1])>>1,U=(240&k[2])>>>4,N=(12&k[2])>>>2,q=(k[3]>>>6&3)!==3?2:1,V=0,H=0;switch(I){case 0:V=this._mpegAudioV25SampleRateTable[N];break;case 2:V=this._mpegAudioV20SampleRateTable[N];break;case 3:V=this._mpegAudioV10SampleRateTable[N]}switch(F){case 1:U<this._mpegAudioL3BitRateTable.length&&(H=this._mpegAudioL3BitRateTable[U]);break;case 2:U<this._mpegAudioL2BitRateTable.length&&(H=this._mpegAudioL2BitRateTable[U]);break;case 3:U<this._mpegAudioL1BitRateTable.length&&(H=this._mpegAudioL1BitRateTable[U])}R={bitRate:H,samplingRate:V,channelCount:q,codec:"mp3",originalCodec:"mp3"}}else R=k;return R}i.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},p.prototype._parseVideoData=function(c,h,f,y,k){if(f<=1)i.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(this._hasVideoFlagOverrided!==!0||this._hasVideo!==!1){var R=new Uint8Array(c,h,f)[0],I=(240&R)>>>4,F=15&R;F===7?this._parseAVCVideoPacket(c,h+1,f-1,y,k,I):this._onError(O.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+F)}},p.prototype._parseAVCVideoPacket=function(c,h,f,y,k,R){if(f<4)i.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var I=this._littleEndian,F=new DataView(c,h,f),U=F.getUint8(0),N=(16777215&F.getUint32(0,!I))<<8>>8;if(U===0)this._parseAVCDecoderConfigurationRecord(c,h+4,f-4);else if(U===1)this._parseAVCVideoData(c,h+4,f-4,y,k,R,N);else if(U!==2)return void this._onError(O.a.FORMAT_ERROR,"Flv: Invalid video packet type "+U)}},p.prototype._parseAVCDecoderConfigurationRecord=function(c,h,f){if(f<7)i.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var y=this._videoMetadata,k=this._videoTrack,R=this._littleEndian,I=new DataView(c,h,f);y?y.avcc!==void 0&&i.a.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(this._hasVideo===!1&&this._hasVideoFlagOverrided===!1&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(y=this._videoMetadata={}).type="video",y.id=k.id,y.timescale=this._timescale,y.duration=this._duration);var F=I.getUint8(0),U=I.getUint8(1);if(I.getUint8(2),I.getUint8(3),F===1&&U!==0)if(this._naluLengthSize=1+(3&I.getUint8(4)),this._naluLengthSize===3||this._naluLengthSize===4){var N=31&I.getUint8(5);if(N!==0){N>1&&i.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+N);for(var q=6,V=0;V<N;V++){var H=I.getUint16(q,!R);if(q+=2,H!==0){var et=new Uint8Array(c,h+q,H);q+=H;var ot=P.parseSPS(et);if(V===0){y.codecWidth=ot.codec_size.width,y.codecHeight=ot.codec_size.height,y.presentWidth=ot.present_size.width,y.presentHeight=ot.present_size.height,y.profile=ot.profile_string,y.level=ot.level_string,y.bitDepth=ot.bit_depth,y.chromaFormat=ot.chroma_format,y.sarRatio=ot.sar_ratio,y.frameRate=ot.frame_rate,ot.frame_rate.fixed!==!1&&ot.frame_rate.fps_num!==0&&ot.frame_rate.fps_den!==0||(y.frameRate=this._referenceFrameRate);var Q=y.frameRate.fps_den,st=y.frameRate.fps_num;y.refSampleDuration=y.timescale*(Q/st);for(var ct=et.subarray(1,4),dt="avc1.",at=0;at<3;at++){var St=ct[at].toString(16);St.length<2&&(St="0"+St),dt+=St}y.codec=dt;var ut=this._mediaInfo;ut.width=y.codecWidth,ut.height=y.codecHeight,ut.fps=y.frameRate.fps,ut.profile=y.profile,ut.level=y.level,ut.refFrames=ot.ref_frames,ut.chromaFormat=ot.chroma_format_string,ut.sarNum=y.sarRatio.width,ut.sarDen=y.sarRatio.height,ut.videoCodec=dt,ut.hasAudio?ut.audioCodec!=null&&(ut.mimeType='video/x-flv; codecs="'+ut.videoCodec+","+ut.audioCodec+'"'):ut.mimeType='video/x-flv; codecs="'+ut.videoCodec+'"',ut.isComplete()&&this._onMediaInfo(ut)}}}var Et=I.getUint8(q);if(Et!==0){for(Et>1&&i.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+Et),q++,V=0;V<Et;V++)H=I.getUint16(q,!R),q+=2,H!==0&&(q+=H);y.avcc=new Uint8Array(f),y.avcc.set(new Uint8Array(c,h,f),0),i.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",y)}else this._onError(O.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(O.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(O.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(O.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},p.prototype._parseAVCVideoData=function(c,h,f,y,k,R,I){for(var F=this._littleEndian,U=new DataView(c,h,f),N=[],q=0,V=0,H=this._naluLengthSize,et=this._timestampBase+y,ot=R===1;V<f;){if(V+4>=f){i.a.w(this.TAG,"Malformed Nalu near timestamp "+et+", offset = "+V+", dataSize = "+f);break}var Q=U.getUint32(V,!F);if(H===3&&(Q>>>=8),Q>f-H)return void i.a.w(this.TAG,"Malformed Nalus near timestamp "+et+", NaluSize > DataSize!");var st=31&U.getUint8(V+H);st===5&&(ot=!0);var ct=new Uint8Array(c,h+V,H+Q),dt={type:st,data:ct};N.push(dt),q+=ct.byteLength,V+=H+Q}if(N.length){var at=this._videoTrack,St={units:N,length:q,isKeyframe:ot,dts:et,cts:I,pts:et+I};ot&&(St.fileposition=k),at.samples.push(St),at.length+=q}},p}(),C=function(){function p(){}return p.prototype.destroy=function(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null},p}(),b=function(){this.program_pmt_pid={}};(function(p){p[p.kMPEG1Audio=3]="kMPEG1Audio",p[p.kMPEG2Audio=4]="kMPEG2Audio",p[p.kPESPrivateData=6]="kPESPrivateData",p[p.kADTSAAC=15]="kADTSAAC",p[p.kID3=21]="kID3",p[p.kH264=27]="kH264",p[p.kH265=36]="kH265"})(j||(j={}));var m,_=function(){this.pid_stream_type={},this.common_pids={h264:void 0,adts_aac:void 0},this.pes_private_data_pids={},this.timed_id3_pids={}},w=function(){},S=function(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0};(function(p){p[p.kUnspecified=0]="kUnspecified",p[p.kSliceNonIDR=1]="kSliceNonIDR",p[p.kSliceDPA=2]="kSliceDPA",p[p.kSliceDPB=3]="kSliceDPB",p[p.kSliceDPC=4]="kSliceDPC",p[p.kSliceIDR=5]="kSliceIDR",p[p.kSliceSEI=6]="kSliceSEI",p[p.kSliceSPS=7]="kSliceSPS",p[p.kSlicePPS=8]="kSlicePPS",p[p.kSliceAUD=9]="kSliceAUD",p[p.kEndOfSequence=10]="kEndOfSequence",p[p.kEndOfStream=11]="kEndOfStream",p[p.kFiller=12]="kFiller",p[p.kSPSExt=13]="kSPSExt",p[p.kReserved0=14]="kReserved0"})(m||(m={}));var B,z,Z=function(){},J=function(p){var c=p.data.byteLength;this.type=p.type,this.data=new Uint8Array(4+c),new DataView(this.data.buffer).setUint32(0,c),this.data.set(p.data,4)},K=function(){function p(c){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=c,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&i.a.e(this.TAG,"Could not found H264 startcode until payload end!")}return p.prototype.findNextStartCodeOffset=function(c){for(var h=c,f=this.data_;;){if(h+3>=f.byteLength)return this.eof_flag_=!0,f.byteLength;var y=f[h+0]<<24|f[h+1]<<16|f[h+2]<<8|f[h+3],k=f[h+0]<<16|f[h+1]<<8|f[h+2];if(y===1||k===1)return h;h++}},p.prototype.readNextNaluPayload=function(){for(var c=this.data_,h=null;h==null&&!this.eof_flag_;){var f=this.current_startcode_offset_,y=31&c[f+=(c[f]<<24|c[f+1]<<16|c[f+2]<<8|c[f+3])===1?4:3],k=(128&c[f])>>>7,R=this.findNextStartCodeOffset(f);if(this.current_startcode_offset_=R,!(y>=m.kReserved0)&&k===0){var I=c.subarray(f,R);(h=new Z).type=y,h.data=I}}return h},p}(),tt=function(){function p(c,h,f){var y=8+c.byteLength+1+2+h.byteLength,k=!1;c[3]!==66&&c[3]!==77&&c[3]!==88&&(k=!0,y+=4);var R=this.data=new Uint8Array(y);R[0]=1,R[1]=c[1],R[2]=c[2],R[3]=c[3],R[4]=255,R[5]=225;var I=c.byteLength;R[6]=I>>>8,R[7]=255&I;var F=8;R.set(c,8),R[F+=I]=1;var U=h.byteLength;R[F+1]=U>>>8,R[F+2]=255&U,R.set(h,F+3),F+=3+U,k&&(R[F]=252|f.chroma_format_idc,R[F+1]=248|f.bit_depth_luma-8,R[F+2]=248|f.bit_depth_chroma-8,R[F+3]=0,F+=4)}return p.prototype.getData=function(){return this.data},p}();(function(p){p[p.kNull=0]="kNull",p[p.kAACMain=1]="kAACMain",p[p.kAAC_LC=2]="kAAC_LC",p[p.kAAC_SSR=3]="kAAC_SSR",p[p.kAAC_LTP=4]="kAAC_LTP",p[p.kAAC_SBR=5]="kAAC_SBR",p[p.kAAC_Scalable=6]="kAAC_Scalable",p[p.kLayer1=32]="kLayer1",p[p.kLayer2=33]="kLayer2",p[p.kLayer3=34]="kLayer3"})(B||(B={})),function(p){p[p.k96000Hz=0]="k96000Hz",p[p.k88200Hz=1]="k88200Hz",p[p.k64000Hz=2]="k64000Hz",p[p.k48000Hz=3]="k48000Hz",p[p.k44100Hz=4]="k44100Hz",p[p.k32000Hz=5]="k32000Hz",p[p.k24000Hz=6]="k24000Hz",p[p.k22050Hz=7]="k22050Hz",p[p.k16000Hz=8]="k16000Hz",p[p.k12000Hz=9]="k12000Hz",p[p.k11025Hz=10]="k11025Hz",p[p.k8000Hz=11]="k8000Hz",p[p.k7350Hz=12]="k7350Hz"}(z||(z={}));var L,x=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],T=function(){},M=function(){function p(c){this.TAG="AACADTSParser",this.data_=c,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&i.a.e(this.TAG,"Could not found ADTS syncword until payload end")}return p.prototype.findNextSyncwordOffset=function(c){for(var h=c,f=this.data_;;){if(h+7>=f.byteLength)return this.eof_flag_=!0,f.byteLength;if((f[h+0]<<8|f[h+1])>>>4===4095)return h;h++}},p.prototype.readNextAACFrame=function(){for(var c=this.data_,h=null;h==null&&!this.eof_flag_;){var f=this.current_syncword_offset_,y=(8&c[f+1])>>>3,k=(6&c[f+1])>>>1,R=1&c[f+1],I=(192&c[f+2])>>>6,F=(60&c[f+2])>>>2,U=(1&c[f+2])<<2|(192&c[f+3])>>>6,N=(3&c[f+3])<<11|c[f+4]<<3|(224&c[f+5])>>>5;if(c[f+6],f+N>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var q=R===1?7:9,V=N-q;f+=q;var H=this.findNextSyncwordOffset(f+V);if(this.current_syncword_offset_=H,(y===0||y===1)&&k===0){var et=c.subarray(f,f+V);(h=new T).audio_object_type=I+1,h.sampling_freq_index=F,h.sampling_frequency=x[F],h.channel_config=U,h.data=et}}return h},p.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},p.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},p}(),W=function(p){var c=null,h=p.audio_object_type,f=p.audio_object_type,y=p.sampling_freq_index,k=p.channel_config,R=0,I=navigator.userAgent.toLowerCase();I.indexOf("firefox")!==-1?y>=6?(f=5,c=new Array(4),R=y-3):(f=2,c=new Array(2),R=y):I.indexOf("android")!==-1?(f=2,c=new Array(2),R=y):(f=5,R=y,c=new Array(4),y>=6?R=y-3:k===1&&(f=2,c=new Array(2),R=y)),c[0]=f<<3,c[0]|=(15&y)>>>1,c[1]=(15&y)<<7,c[1]|=(15&k)<<3,f===5&&(c[1]|=(15&R)>>>1,c[2]=(1&R)<<7,c[2]|=8,c[3]=0),this.config=c,this.sampling_rate=x[y],this.channel_count=k,this.codec_mimetype="mp4a.40."+f,this.original_codec_mimetype="mp4a.40."+h},rt=function(){},lt=function(){},mt=(L=function(p,c){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var y in f)f.hasOwnProperty(y)&&(h[y]=f[y])})(p,c)},function(p,c){function h(){this.constructor=p}L(p,c),p.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}),vt=function(p){function c(h,f){var y=p.call(this)||this;return y.TAG="TSDemuxer",y.first_parse_=!0,y.media_info_=new r.a,y.timescale_=90,y.duration_=0,y.current_pmt_pid_=-1,y.program_pmt_map_={},y.pes_slice_queues_={},y.video_metadata_={sps:void 0,pps:void 0,sps_details:void 0},y.audio_metadata_={audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},y.aac_last_sample_pts_=void 0,y.aac_last_incomplete_data_=null,y.has_video_=!1,y.has_audio_=!1,y.video_init_segment_dispatched_=!1,y.audio_init_segment_dispatched_=!1,y.video_metadata_changed_=!1,y.audio_metadata_changed_=!1,y.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},y.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},y.ts_packet_size_=h.ts_packet_size,y.sync_offset_=h.sync_offset,y.config_=f,y}return mt(c,p),c.prototype.destroy=function(){this.media_info_=null,this.pes_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,p.prototype.destroy.call(this)},c.probe=function(h){var f=new Uint8Array(h),y=-1,k=188;if(f.byteLength<=3*k)return i.a.e("TSDemuxer","Probe data "+f.byteLength+" bytes is too few for judging MPEG-TS stream format!"),{match:!1};for(;y===-1;){for(var R=Math.min(1e3,f.byteLength-3*k),I=0;I<R;){if(f[I]===71&&f[I+k]===71&&f[I+2*k]===71){y=I;break}I++}if(y===-1)if(k===188)k=192;else{if(k!==192)break;k=204}}return y===-1?{match:!1}:(k===192&&y>=4?(i.a.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),y-=4):k===204&&i.a.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:k,sync_offset:y})},c.prototype.bindDataSource=function(h){return h.onDataArrival=this.parseChunks.bind(this),this},c.prototype.resetMediaInfo=function(){this.media_info_=new r.a},c.prototype.parseChunks=function(h,f){if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new d.a("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var y=0;for(this.first_parse_&&(this.first_parse_=!1,y=this.sync_offset_);y+this.ts_packet_size_<=h.byteLength;){var k=f+y;this.ts_packet_size_===192&&(y+=4);var R=new Uint8Array(h,y,188),I=R[0];if(I!==71){i.a.e(this.TAG,"sync_byte = "+I+", not 0x47");break}var F=(64&R[1])>>>6,U=(R[1],(31&R[1])<<8|R[2]),N=(48&R[3])>>>4,q=15&R[3],V={},H=4;if(N==2||N==3){var et=R[4];if(5+et===188){y+=188,this.ts_packet_size_===204&&(y+=16);continue}et>0&&(V=this.parseAdaptationField(h,y+4,1+et)),H=5+et}if(N==1||N==3){if(U===0||U===this.current_pmt_pid_){F&&(H+=1+R[H]);var ot=188-H;U===0?this.parsePAT(h,y+H,ot,{payload_unit_start_indicator:F,continuity_conunter:q}):this.parsePMT(h,y+H,ot,{payload_unit_start_indicator:F,continuity_conunter:q})}else if(this.pmt_!=null&&this.pmt_.pid_stream_type[U]!=null){ot=188-H;var Q=this.pmt_.pid_stream_type[U];U!==this.pmt_.common_pids.h264&&U!==this.pmt_.common_pids.adts_aac&&this.pmt_.pes_private_data_pids[U]!==!0&&this.pmt_.timed_id3_pids[U]!==!0||this.handlePESSlice(h,y+H,ot,{pid:U,stream_type:Q,file_position:k,payload_unit_start_indicator:F,continuity_conunter:q,random_access_indicator:V.random_access_indicator})}}y+=188,this.ts_packet_size_===204&&(y+=16)}return this.dispatchAudioVideoMediaSegment(),y},c.prototype.parseAdaptationField=function(h,f,y){var k=new Uint8Array(h,f,y),R=k[0];return R>0?R>183?(i.a.w(this.TAG,"Illegal adaptation_field_length: "+R),{}):{discontinuity_indicator:(128&k[1])>>>7,random_access_indicator:(64&k[1])>>>6,elementary_stream_priority_indicator:(32&k[1])>>>5}:{}},c.prototype.parsePAT=function(h,f,y,k){var R=new Uint8Array(h,f,y),I=R[0];if(I===0){var F=(15&R[1])<<8|R[2],U=(R[3],R[4],(62&R[5])>>>1),N=1&R[5],q=R[6],V=(R[7],null);if(N===1&&q===0)(V=new b).version_number=U;else if((V=this.pat_)==null)return;for(var H=F-5-4,et=-1,ot=-1,Q=8;Q<8+H;Q+=4){var st=R[Q]<<8|R[Q+1],ct=(31&R[Q+2])<<8|R[Q+3];st===0?V.network_pid=ct:(V.program_pmt_pid[st]=ct,et===-1&&(et=st),ot===-1&&(ot=ct))}N===1&&q===0&&(this.pat_==null&&i.a.v(this.TAG,"Parsed first PAT: "+JSON.stringify(V)),this.pat_=V,this.current_program_=et,this.current_pmt_pid_=ot)}else i.a.e(this.TAG,"parsePAT: table_id "+I+" is not corresponded to PAT!")},c.prototype.parsePMT=function(h,f,y,k){var R=new Uint8Array(h,f,y),I=R[0];if(I===2){var F=(15&R[1])<<8|R[2],U=R[3]<<8|R[4],N=(62&R[5])>>>1,q=1&R[5],V=R[6],H=(R[7],null);if(q===1&&V===0)(H=new _).program_number=U,H.version_number=N,this.program_pmt_map_[U]=H;else if((H=this.program_pmt_map_[U])==null)return;R[8],R[9];for(var et=(15&R[10])<<8|R[11],ot=12+et,Q=F-9-et-4,st=ot;st<ot+Q;){var ct=R[st],dt=(31&R[st+1])<<8|R[st+2],at=(15&R[st+3])<<8|R[st+4];if(H.pid_stream_type[dt]=ct,ct!==j.kH264||H.common_pids.h264)if(ct!==j.kADTSAAC||H.common_pids.adts_aac)if(ct===j.kPESPrivateData){if(H.pes_private_data_pids[dt]=!0,at>0){var St=R.subarray(st+5,st+5+at);this.dispatchPESPrivateDataDescriptor(dt,ct,St)}}else ct===j.kID3&&(H.timed_id3_pids[dt]=!0);else H.common_pids.adts_aac=dt;else H.common_pids.h264=dt;st+=5+at}U===this.current_program_&&(this.pmt_==null&&i.a.v(this.TAG,"Parsed first PMT: "+JSON.stringify(H)),this.pmt_=H,H.common_pids.h264&&(this.has_video_=!0),H.common_pids.adts_aac&&(this.has_audio_=!0))}else i.a.e(this.TAG,"parsePMT: table_id "+I+" is not corresponded to PMT!")},c.prototype.handlePESSlice=function(h,f,y,k){var R=new Uint8Array(h,f,y),I=R[0]<<16|R[1]<<8|R[2],F=(R[3],R[4]<<8|R[5]);if(k.payload_unit_start_indicator){if(I!==1)return void i.a.e(this.TAG,"handlePESSlice: packet_start_code_prefix should be 1 but with value "+I);var U=this.pes_slice_queues_[k.pid];U&&(U.expected_length===0||U.expected_length===U.total_length?this.emitPESSlices(U,k):this.cleanPESSlices(U,k)),this.pes_slice_queues_[k.pid]=new S,this.pes_slice_queues_[k.pid].file_position=k.file_position,this.pes_slice_queues_[k.pid].random_access_indicator=k.random_access_indicator}if(this.pes_slice_queues_[k.pid]!=null){var N=this.pes_slice_queues_[k.pid];N.slices.push(R),k.payload_unit_start_indicator&&(N.expected_length=F===0?0:F+6),N.total_length+=R.byteLength,N.expected_length>0&&N.expected_length===N.total_length?this.emitPESSlices(N,k):N.expected_length>0&&N.expected_length<N.total_length&&this.cleanPESSlices(N,k)}},c.prototype.emitPESSlices=function(h,f){for(var y=new Uint8Array(h.total_length),k=0,R=0;k<h.slices.length;k++){var I=h.slices[k];y.set(I,R),R+=I.byteLength}h.slices=[],h.expected_length=-1,h.total_length=0;var F=new w;F.pid=f.pid,F.data=y,F.stream_type=f.stream_type,F.file_position=h.file_position,F.random_access_indicator=h.random_access_indicator,this.parsePES(F)},c.prototype.cleanPESSlices=function(h,f){h.slices=[],h.expected_length=-1,h.total_length=0},c.prototype.parsePES=function(h){var f=h.data,y=f[0]<<16|f[1]<<8|f[2],k=f[3],R=f[4]<<8|f[5];if(y===1)if(k!==188&&k!==190&&k!==191&&k!==240&&k!==241&&k!==255&&k!==242&&k!==248){f[6];var I=(192&f[7])>>>6,F=f[8],U=void 0,N=void 0;I!==2&&I!==3||(U=536870912*(14&f[9])+4194304*(255&f[10])+16384*(254&f[11])+128*(255&f[12])+(254&f[13])/2,N=I===3?536870912*(14&f[14])+4194304*(255&f[15])+16384*(254&f[16])+128*(255&f[17])+(254&f[18])/2:U);var q=9+F,V=void 0;if(R!==0){if(R<3+F)return void i.a.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");V=R-3-F}else V=f.byteLength-q;var H=f.subarray(q,q+V);switch(h.stream_type){case j.kMPEG1Audio:case j.kMPEG2Audio:break;case j.kPESPrivateData:this.parsePESPrivateDataPayload(H,U,N,h.pid,k);break;case j.kADTSAAC:this.parseAACPayload(H,U);break;case j.kID3:this.parseTimedID3MetadataPayload(H,U,N,h.pid,k);break;case j.kH264:this.parseH264Payload(H,U,N,h.file_position,h.random_access_indicator);break;case j.kH265:}}else(k===188||k===191||k===240||k===241||k===255||k===242||k===248)&&h.stream_type===j.kPESPrivateData&&(q=6,V=void 0,V=R!==0?R:f.byteLength-q,H=f.subarray(q,q+V),this.parsePESPrivateDataPayload(H,void 0,void 0,h.pid,k));else i.a.e(this.TAG,"parsePES: packet_start_code_prefix should be 1 but with value "+y)},c.prototype.parseH264Payload=function(h,f,y,k,R){for(var I=new K(h),F=null,U=[],N=0,q=!1;(F=I.readNextNaluPayload())!=null;){var V=new J(F);if(V.type===m.kSliceSPS){var H=P.parseSPS(F.data);this.video_init_segment_dispatched_?this.detectVideoMetadataChange(V,H)===!0&&(i.a.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={sps:V,pps:void 0,sps_details:H}):(this.video_metadata_.sps=V,this.video_metadata_.sps_details=H)}else V.type===m.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_.pps=V,this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(V.type===m.kSliceIDR||V.type===m.kSliceNonIDR&&R===1)&&(q=!0);this.video_init_segment_dispatched_&&(U.push(V),N+=V.data.byteLength)}var et=Math.floor(f/this.timescale_),ot=Math.floor(y/this.timescale_);if(U.length){var Q=this.video_track_,st={units:U,length:N,isKeyframe:q,dts:ot,pts:et,cts:et-ot,file_position:k};Q.samples.push(st),Q.length+=N}},c.prototype.detectVideoMetadataChange=function(h,f){if(f.codec_mimetype!==this.video_metadata_.sps_details.codec_mimetype)return i.a.v(this.TAG,"H264: Codec mimeType changed from "+this.video_metadata_.sps_details.codec_mimetype+" to "+f.codec_mimetype),!0;if(f.codec_size.width!==this.video_metadata_.sps_details.codec_size.width||f.codec_size.height!==this.video_metadata_.sps_details.codec_size.height){var y=this.video_metadata_.sps_details.codec_size,k=f.codec_size;return i.a.v(this.TAG,"H264: Coded Resolution changed from "+y.width+"x"+y.height+" to "+k.width+"x"+k.height),!0}return f.present_size.width!==this.video_metadata_.sps_details.present_size.width&&(i.a.v(this.TAG,"H264: Present resolution width changed from "+this.video_metadata_.sps_details.present_size.width+" to "+f.present_size.width),!0)},c.prototype.isInitSegmentDispatched=function(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_},c.prototype.dispatchVideoInitSegment=function(){var h=this.video_metadata_.sps_details,f={type:"video"};f.id=this.video_track_.id,f.timescale=1e3,f.duration=this.duration_,f.codecWidth=h.codec_size.width,f.codecHeight=h.codec_size.height,f.presentWidth=h.present_size.width,f.presentHeight=h.present_size.height,f.profile=h.profile_string,f.level=h.level_string,f.bitDepth=h.bit_depth,f.chromaFormat=h.chroma_format,f.sarRatio=h.sar_ratio,f.frameRate=h.frame_rate;var y=f.frameRate.fps_den,k=f.frameRate.fps_num;f.refSampleDuration=y/k*1e3,f.codec=h.codec_mimetype;var R=this.video_metadata_.sps.data.subarray(4),I=this.video_metadata_.pps.data.subarray(4),F=new tt(R,I,h);f.avcc=F.getData(),this.video_init_segment_dispatched_==0&&i.a.v(this.TAG,"Generated first AVCDecoderConfigurationRecord for mimeType: "+f.codec),this.onTrackMetadata("video",f),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var U=this.media_info_;U.hasVideo=!0,U.width=f.codecWidth,U.height=f.codecHeight,U.fps=f.frameRate.fps,U.profile=f.profile,U.level=f.level,U.refFrames=h.ref_frames,U.chromaFormat=h.chroma_format_string,U.sarNum=f.sarRatio.width,U.sarDen=f.sarRatio.height,U.videoCodec=f.codec,U.hasAudio&&U.audioCodec?U.mimeType='video/mp2t; codecs="'+U.videoCodec+","+U.audioCodec+'"':U.mimeType='video/mp2t; codecs="'+U.videoCodec+'"',U.isComplete()&&this.onMediaInfo(U)},c.prototype.dispatchVideoMediaSegment=function(){this.isInitSegmentDispatched()&&this.video_track_.length&&this.onDataAvailable(null,this.video_track_)},c.prototype.dispatchAudioMediaSegment=function(){this.isInitSegmentDispatched()&&this.audio_track_.length&&this.onDataAvailable(this.audio_track_,null)},c.prototype.dispatchAudioVideoMediaSegment=function(){this.isInitSegmentDispatched()&&(this.audio_track_.length||this.video_track_.length)&&this.onDataAvailable(this.audio_track_,this.video_track_)},c.prototype.parseAACPayload=function(h,f){if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var y=new Uint8Array(h.byteLength+this.aac_last_incomplete_data_.byteLength);y.set(this.aac_last_incomplete_data_,0),y.set(h,this.aac_last_incomplete_data_.byteLength),h=y}var k,R;if(f!=null)R=f/this.timescale_;else{if(this.aac_last_sample_pts_==null)return void i.a.w(this.TAG,"AAC: Unknown pts");k=1024/this.audio_metadata_.sampling_frequency*1e3,R=this.aac_last_sample_pts_+k}if(this.aac_last_incomplete_data_&&this.aac_last_sample_pts_){k=1024/this.audio_metadata_.sampling_frequency*1e3;var I=this.aac_last_sample_pts_+k;Math.abs(I-R)>1&&(i.a.w(this.TAG,"AAC: Detected pts overlapped, expected: "+I+"ms, PES pts: "+R+"ms"),R=I)}for(var F,U=new M(h),N=null,q=R;(N=U.readNextAACFrame())!=null;){k=1024/N.sampling_frequency*1e3,this.audio_init_segment_dispatched_==0?(this.audio_metadata_.audio_object_type=N.audio_object_type,this.audio_metadata_.sampling_freq_index=N.sampling_freq_index,this.audio_metadata_.sampling_frequency=N.sampling_frequency,this.audio_metadata_.channel_config=N.channel_config,this.dispatchAudioInitSegment(N)):this.detectAudioMetadataChange(N)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(N)),F=q;var V=Math.floor(q),H={unit:N.data,length:N.data.byteLength,pts:V,dts:V};this.audio_track_.samples.push(H),this.audio_track_.length+=N.data.byteLength,q+=k}U.hasIncompleteData()&&(this.aac_last_incomplete_data_=U.getIncompleteData()),F&&(this.aac_last_sample_pts_=F)}},c.prototype.detectAudioMetadataChange=function(h){return h.audio_object_type!==this.audio_metadata_.audio_object_type?(i.a.v(this.TAG,"AAC: AudioObjectType changed from "+this.audio_metadata_.audio_object_type+" to "+h.audio_object_type),!0):h.sampling_freq_index!==this.audio_metadata_.sampling_freq_index?(i.a.v(this.TAG,"AAC: SamplingFrequencyIndex changed from "+this.audio_metadata_.sampling_freq_index+" to "+h.sampling_freq_index),!0):h.channel_config!==this.audio_metadata_.channel_config&&(i.a.v(this.TAG,"AAC: Channel configuration changed from "+this.audio_metadata_.channel_config+" to "+h.channel_config),!0)},c.prototype.dispatchAudioInitSegment=function(h){var f=new W(h),y={type:"audio"};y.id=this.audio_track_.id,y.timescale=1e3,y.duration=this.duration_,y.audioSampleRate=f.sampling_rate,y.channelCount=f.channel_count,y.codec=f.codec_mimetype,y.originalCodec=f.original_codec_mimetype,y.config=f.config,y.refSampleDuration=1024/y.audioSampleRate*y.timescale,this.audio_init_segment_dispatched_==0&&i.a.v(this.TAG,"Generated first AudioSpecificConfig for mimeType: "+y.codec),this.onTrackMetadata("audio",y),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var k=this.media_info_;k.hasAudio=!0,k.audioCodec=y.originalCodec,k.audioSampleRate=y.audioSampleRate,k.audioChannelCount=y.channelCount,k.hasVideo&&k.videoCodec?k.mimeType='video/mp2t; codecs="'+k.videoCodec+","+k.audioCodec+'"':k.mimeType='video/mp2t; codecs="'+k.audioCodec+'"',k.isComplete()&&this.onMediaInfo(k)},c.prototype.dispatchPESPrivateDataDescriptor=function(h,f,y){var k=new lt;k.pid=h,k.stream_type=f,k.descriptor=y,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(k)},c.prototype.parsePESPrivateDataPayload=function(h,f,y,k,R){var I=new rt;if(I.pid=k,I.stream_id=R,I.len=h.byteLength,I.data=h,f!=null){var F=Math.floor(f/this.timescale_);I.pts=F}else I.nearest_pts=this.aac_last_sample_pts_;if(y!=null){var U=Math.floor(y/this.timescale_);I.dts=U}this.onPESPrivateData&&this.onPESPrivateData(I)},c.prototype.parseTimedID3MetadataPayload=function(h,f,y,k,R){var I=new rt;if(I.pid=k,I.stream_id=R,I.len=h.byteLength,I.data=h,f!=null){var F=Math.floor(f/this.timescale_);I.pts=F}if(y!=null){var U=Math.floor(y/this.timescale_);I.dts=U}this.onTimedID3Metadata&&this.onTimedID3Metadata(I)},c}(C),ht=function(){function p(){}return p.init=function(){for(var c in p.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]},p.types)p.types.hasOwnProperty(c)&&(p.types[c]=[c.charCodeAt(0),c.charCodeAt(1),c.charCodeAt(2),c.charCodeAt(3)]);var h=p.constants={};h.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),h.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),h.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),h.STSC=h.STCO=h.STTS,h.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),h.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),h.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),h.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),h.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),h.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},p.box=function(c){for(var h=8,f=null,y=Array.prototype.slice.call(arguments,1),k=y.length,R=0;R<k;R++)h+=y[R].byteLength;(f=new Uint8Array(h))[0]=h>>>24&255,f[1]=h>>>16&255,f[2]=h>>>8&255,f[3]=255&h,f.set(c,4);var I=8;for(R=0;R<k;R++)f.set(y[R],I),I+=y[R].byteLength;return f},p.generateInitSegment=function(c){var h=p.box(p.types.ftyp,p.constants.FTYP),f=p.moov(c),y=new Uint8Array(h.byteLength+f.byteLength);return y.set(h,0),y.set(f,h.byteLength),y},p.moov=function(c){var h=p.mvhd(c.timescale,c.duration),f=p.trak(c),y=p.mvex(c);return p.box(p.types.moov,h,f,y)},p.mvhd=function(c,h){return p.box(p.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c,h>>>24&255,h>>>16&255,h>>>8&255,255&h,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},p.trak=function(c){return p.box(p.types.trak,p.tkhd(c),p.mdia(c))},p.tkhd=function(c){var h=c.id,f=c.duration,y=c.presentWidth,k=c.presentHeight;return p.box(p.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,255&h,0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,255&f,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,y>>>8&255,255&y,0,0,k>>>8&255,255&k,0,0]))},p.mdia=function(c){return p.box(p.types.mdia,p.mdhd(c),p.hdlr(c),p.minf(c))},p.mdhd=function(c){var h=c.timescale,f=c.duration;return p.box(p.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,255&h,f>>>24&255,f>>>16&255,f>>>8&255,255&f,85,196,0,0]))},p.hdlr=function(c){var h=null;return h=c.type==="audio"?p.constants.HDLR_AUDIO:p.constants.HDLR_VIDEO,p.box(p.types.hdlr,h)},p.minf=function(c){var h=null;return h=c.type==="audio"?p.box(p.types.smhd,p.constants.SMHD):p.box(p.types.vmhd,p.constants.VMHD),p.box(p.types.minf,h,p.dinf(),p.stbl(c))},p.dinf=function(){return p.box(p.types.dinf,p.box(p.types.dref,p.constants.DREF))},p.stbl=function(c){return p.box(p.types.stbl,p.stsd(c),p.box(p.types.stts,p.constants.STTS),p.box(p.types.stsc,p.constants.STSC),p.box(p.types.stsz,p.constants.STSZ),p.box(p.types.stco,p.constants.STCO))},p.stsd=function(c){return c.type==="audio"?c.codec==="mp3"?p.box(p.types.stsd,p.constants.STSD_PREFIX,p.mp3(c)):p.box(p.types.stsd,p.constants.STSD_PREFIX,p.mp4a(c)):p.box(p.types.stsd,p.constants.STSD_PREFIX,p.avc1(c))},p.mp3=function(c){var h=c.channelCount,f=c.audioSampleRate,y=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,f>>>8&255,255&f,0,0]);return p.box(p.types[".mp3"],y)},p.mp4a=function(c){var h=c.channelCount,f=c.audioSampleRate,y=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,h,0,16,0,0,0,0,f>>>8&255,255&f,0,0]);return p.box(p.types.mp4a,y,p.esds(c))},p.esds=function(c){var h=c.config||[],f=h.length,y=new Uint8Array([0,0,0,0,3,23+f,0,1,0,4,15+f,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([f]).concat(h).concat([6,1,2]));return p.box(p.types.esds,y)},p.avc1=function(c){var h=c.avcc,f=c.codecWidth,y=c.codecHeight,k=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,f>>>8&255,255&f,y>>>8&255,255&y,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return p.box(p.types.avc1,k,p.box(p.types.avcC,h))},p.mvex=function(c){return p.box(p.types.mvex,p.trex(c))},p.trex=function(c){var h=c.id,f=new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,255&h,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return p.box(p.types.trex,f)},p.moof=function(c,h){return p.box(p.types.moof,p.mfhd(c.sequenceNumber),p.traf(c,h))},p.mfhd=function(c){var h=new Uint8Array([0,0,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c]);return p.box(p.types.mfhd,h)},p.traf=function(c,h){var f=c.id,y=p.box(p.types.tfhd,new Uint8Array([0,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,255&f])),k=p.box(p.types.tfdt,new Uint8Array([0,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,255&h])),R=p.sdtp(c),I=p.trun(c,R.byteLength+16+16+8+16+8+8);return p.box(p.types.traf,y,k,I,R)},p.sdtp=function(c){for(var h=c.samples||[],f=h.length,y=new Uint8Array(4+f),k=0;k<f;k++){var R=h[k].flags;y[k+4]=R.isLeading<<6|R.dependsOn<<4|R.isDependedOn<<2|R.hasRedundancy}return p.box(p.types.sdtp,y)},p.trun=function(c,h){var f=c.samples||[],y=f.length,k=12+16*y,R=new Uint8Array(k);h+=8+k,R.set([0,0,15,1,y>>>24&255,y>>>16&255,y>>>8&255,255&y,h>>>24&255,h>>>16&255,h>>>8&255,255&h],0);for(var I=0;I<y;I++){var F=f[I].duration,U=f[I].size,N=f[I].flags,q=f[I].cts;R.set([F>>>24&255,F>>>16&255,F>>>8&255,255&F,U>>>24&255,U>>>16&255,U>>>8&255,255&U,N.isLeading<<2|N.dependsOn,N.isDependedOn<<6|N.hasRedundancy<<4|N.isNonSync,0,0,q>>>24&255,q>>>16&255,q>>>8&255,255&q],12+16*I)}return p.box(p.types.trun,R)},p.mdat=function(c){return p.box(p.types.mdat,c)},p}();ht.init();var $=ht,G=function(){function p(){}return p.getSilentFrame=function(c,h){if(c==="mp4a.40.2"){if(h===1)return new Uint8Array([0,200,0,128,35,128]);if(h===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(h===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(h===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(h===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(h===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(h===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(h===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},p}(),X=s(7),it=function(){function p(c){this.TAG="MP4Remuxer",this._config=c,this._isLive=c.isLive===!0,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new X.c("audio"),this._videoSegmentInfoList=new X.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!a.a.chrome||!(a.a.version.major<50||a.a.version.major===50&&a.a.version.build<2661)),this._fillSilentAfterSeek=a.a.msedge||a.a.msie,this._mp3UseMpegAudio=!a.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return p.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},p.prototype.bindDataSource=function(c){return c.onDataAvailable=this.remux.bind(this),c.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(p.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(c){this._onInitSegment=c},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(c){this._onMediaSegment=c},enumerable:!1,configurable:!0}),p.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},p.prototype.seek=function(c){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},p.prototype.remux=function(c,h){if(!this._onMediaSegment)throw new d.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(c,h),h&&this._remuxVideo(h),c&&this._remuxAudio(c)},p.prototype._onTrackMetadataReceived=function(c,h){var f=null,y="mp4",k=h.codec;if(c==="audio")this._audioMeta=h,h.codec==="mp3"&&this._mp3UseMpegAudio?(y="mpeg",k="",f=new Uint8Array):f=$.generateInitSegment(h);else{if(c!=="video")return;this._videoMeta=h,f=$.generateInitSegment(h)}if(!this._onInitSegment)throw new d.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(c,{type:c,data:f.buffer,codec:k,container:c+"/"+y,mediaDuration:h.duration})},p.prototype._calculateDtsBase=function(c,h){this._dtsBaseInited||(c&&c.samples&&c.samples.length&&(this._audioDtsBase=c.samples[0].dts),h&&h.samples&&h.samples.length&&(this._videoDtsBase=h.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},p.prototype.getTimestampBase=function(){if(this._dtsBaseInited)return this._dtsBase},p.prototype.flushStashedSamples=function(){var c=this._videoStashedLastSample,h=this._audioStashedLastSample,f={type:"video",id:1,sequenceNumber:0,samples:[],length:0};c!=null&&(f.samples.push(c),f.length=c.length);var y={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};h!=null&&(y.samples.push(h),y.length=h.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(f,!0),this._remuxAudio(y,!0)},p.prototype._remuxAudio=function(c,h){if(this._audioMeta!=null){var f,y=c,k=y.samples,R=void 0,I=-1,F=this._audioMeta.refSampleDuration,U=this._audioMeta.codec==="mp3"&&this._mp3UseMpegAudio,N=this._dtsBaseInited&&this._audioNextDts===void 0,q=!1;if(k&&k.length!==0&&(k.length!==1||h)){var V=0,H=null,et=0;U?(V=0,et=y.length):(V=8,et=8+y.length);var ot=null;if(k.length>1&&(et-=(ot=k.pop()).length),this._audioStashedLastSample!=null){var Q=this._audioStashedLastSample;this._audioStashedLastSample=null,k.unshift(Q),et+=Q.length}ot!=null&&(this._audioStashedLastSample=ot);var st=k[0].dts-this._dtsBase;if(this._audioNextDts)R=st-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())R=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&this._audioMeta.originalCodec!=="mp3"&&(q=!0);else{var ct=this._audioSegmentInfoList.getLastSampleBefore(st);if(ct!=null){var dt=st-(ct.originalDts+ct.duration);dt<=3&&(dt=0),R=st-(ct.dts+ct.duration+dt)}else R=0}if(q){var at=st-R,St=this._videoSegmentInfoList.getLastSegmentBefore(st);if(St!=null&&St.beginDts<at){if(It=G.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var ut=St.beginDts,Et=at-St.beginDts;i.a.v(this.TAG,"InsertPrefixSilentAudio: dts: "+ut+", duration: "+Et),k.unshift({unit:It,dts:ut,pts:ut}),et+=It.byteLength}}else q=!1}for(var yt=[],kt=0;kt<k.length;kt++){var Tt=(Q=k[kt]).unit,At=Q.dts-this._dtsBase,Lt=(ut=At,!1),Dt=null,wt=0;if(!(At<-.001)){if(this._audioMeta.codec!=="mp3"){var xt=At;if(this._audioNextDts&&(xt=this._audioNextDts),(R=At-xt)<=-3*F){i.a.w(this.TAG,"Dropping 1 audio frame (originalDts: "+At+" ms ,curRefDts: "+xt+" ms)  due to dtsCorrection: "+R+" ms overlap.");continue}if(R>=3*F&&this._fillAudioTimestampGap&&!a.a.safari){Lt=!0;var It,Bt=Math.floor(R/F);i.a.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
originalDts: `+At+" ms, curRefDts: "+xt+" ms, dtsCorrection: "+Math.round(R)+" ms, generate: "+Bt+" frames"),ut=Math.floor(xt),wt=Math.floor(xt+F)-ut,(It=G.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))==null&&(i.a.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),It=Tt),Dt=[];for(var Ot=0;Ot<Bt;Ot++){xt+=F;var Ft=Math.floor(xt),Gt=Math.floor(xt+F)-Ft,Ut={dts:Ft,pts:Ft,cts:0,unit:It,size:It.byteLength,duration:Gt,originalDts:At,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};Dt.push(Ut),et+=Ut.size}this._audioNextDts=xt+F}else ut=Math.floor(xt),wt=Math.floor(xt+F)-ut,this._audioNextDts=xt+F}else ut=At-R,kt!==k.length-1?wt=k[kt+1].dts-this._dtsBase-R-ut:ot!=null?wt=ot.dts-this._dtsBase-R-ut:wt=yt.length>=1?yt[yt.length-1].duration:Math.floor(F),this._audioNextDts=ut+wt;I===-1&&(I=ut),yt.push({dts:ut,pts:ut,cts:0,unit:Q.unit,size:Q.unit.byteLength,duration:wt,originalDts:At,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),Lt&&yt.push.apply(yt,Dt)}}if(yt.length===0)return y.samples=[],void(y.length=0);for(U?H=new Uint8Array(et):((H=new Uint8Array(et))[0]=et>>>24&255,H[1]=et>>>16&255,H[2]=et>>>8&255,H[3]=255&et,H.set($.types.mdat,4)),kt=0;kt<yt.length;kt++)Tt=yt[kt].unit,H.set(Tt,V),V+=Tt.byteLength;var Ct=yt[yt.length-1];f=Ct.dts+Ct.duration;var Rt=new X.b;Rt.beginDts=I,Rt.endDts=f,Rt.beginPts=I,Rt.endPts=f,Rt.originalBeginDts=yt[0].originalDts,Rt.originalEndDts=Ct.originalDts+Ct.duration,Rt.firstSample=new X.d(yt[0].dts,yt[0].pts,yt[0].duration,yt[0].originalDts,!1),Rt.lastSample=new X.d(Ct.dts,Ct.pts,Ct.duration,Ct.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(Rt),y.samples=yt,y.sequenceNumber++;var Pt=null;Pt=U?new Uint8Array:$.moof(y,I),y.samples=[],y.length=0;var Mt={type:"audio",data:this._mergeBoxes(Pt,H).buffer,sampleCount:yt.length,info:Rt};U&&N&&(Mt.timestampOffset=I),this._onMediaSegment("audio",Mt)}}},p.prototype._remuxVideo=function(c,h){if(this._videoMeta!=null){var f,y,k=c,R=k.samples,I=void 0,F=-1,U=-1;if(R&&R.length!==0&&(R.length!==1||h)){var N=8,q=null,V=8+c.length,H=null;if(R.length>1&&(V-=(H=R.pop()).length),this._videoStashedLastSample!=null){var et=this._videoStashedLastSample;this._videoStashedLastSample=null,R.unshift(et),V+=et.length}H!=null&&(this._videoStashedLastSample=H);var ot=R[0].dts-this._dtsBase;if(this._videoNextDts)I=ot-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())I=0;else{var Q=this._videoSegmentInfoList.getLastSampleBefore(ot);if(Q!=null){var st=ot-(Q.originalDts+Q.duration);st<=3&&(st=0),I=ot-(Q.dts+Q.duration+st)}else I=0}for(var ct=new X.b,dt=[],at=0;at<R.length;at++){var St=(et=R[at]).dts-this._dtsBase,ut=et.isKeyframe,Et=St-I,yt=et.cts,kt=Et+yt;F===-1&&(F=Et,U=kt);var Tt=0;if(at!==R.length-1?Tt=R[at+1].dts-this._dtsBase-I-Et:H!=null?Tt=H.dts-this._dtsBase-I-Et:Tt=dt.length>=1?dt[dt.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),ut){var At=new X.d(Et,kt,Tt,et.dts,!0);At.fileposition=et.fileposition,ct.appendSyncPoint(At)}dt.push({dts:Et,pts:kt,cts:yt,units:et.units,size:et.length,isKeyframe:ut,duration:Tt,originalDts:St,flags:{isLeading:0,dependsOn:ut?2:1,isDependedOn:ut?1:0,hasRedundancy:0,isNonSync:ut?0:1}})}for((q=new Uint8Array(V))[0]=V>>>24&255,q[1]=V>>>16&255,q[2]=V>>>8&255,q[3]=255&V,q.set($.types.mdat,4),at=0;at<dt.length;at++)for(var Lt=dt[at].units;Lt.length;){var Dt=Lt.shift().data;q.set(Dt,N),N+=Dt.byteLength}var wt=dt[dt.length-1];if(f=wt.dts+wt.duration,y=wt.pts+wt.duration,this._videoNextDts=f,ct.beginDts=F,ct.endDts=f,ct.beginPts=U,ct.endPts=y,ct.originalBeginDts=dt[0].originalDts,ct.originalEndDts=wt.originalDts+wt.duration,ct.firstSample=new X.d(dt[0].dts,dt[0].pts,dt[0].duration,dt[0].originalDts,dt[0].isKeyframe),ct.lastSample=new X.d(wt.dts,wt.pts,wt.duration,wt.originalDts,wt.isKeyframe),this._isLive||this._videoSegmentInfoList.append(ct),k.samples=dt,k.sequenceNumber++,this._forceFirstIDR){var xt=dt[0].flags;xt.dependsOn=2,xt.isNonSync=0}var It=$.moof(k,F);k.samples=[],k.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(It,q).buffer,sampleCount:dt.length,info:ct})}}},p.prototype._mergeBoxes=function(c,h){var f=new Uint8Array(c.byteLength+h.byteLength);return f.set(c,0),f.set(h,c.byteLength),f},p}(),nt=s(11),Y=s(1),pt=function(){function p(c,h){this.TAG="TransmuxingController",this._emitter=new e.a,this._config=h,c.segments||(c.segments=[{duration:c.duration,filesize:c.filesize,url:c.url}]),typeof c.cors!="boolean"&&(c.cors=!0),typeof c.withCredentials!="boolean"&&(c.withCredentials=!1),this._mediaDataSource=c,this._currentSegmentIndex=0;var f=0;this._mediaDataSource.segments.forEach(function(y){y.timestampBase=f,f+=y.duration,y.cors=c.cors,y.withCredentials=c.withCredentials,h.referrerPolicy&&(y.referrerPolicy=h.referrerPolicy)}),isNaN(f)||this._mediaDataSource.duration===f||(this._mediaDataSource.duration=f),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return p.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},p.prototype.on=function(c,h){this._emitter.addListener(c,h)},p.prototype.off=function(c,h){this._emitter.removeListener(c,h)},p.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},p.prototype._loadSegment=function(c,h){this._currentSegmentIndex=c;var f=this._mediaDataSource.segments[c],y=this._ioctl=new nt.a(f,this._config,c);y.onError=this._onIOException.bind(this),y.onSeeked=this._onIOSeeked.bind(this),y.onComplete=this._onIOComplete.bind(this),y.onRedirect=this._onIORedirect.bind(this),y.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),h?this._demuxer.bindDataSource(this._ioctl):y.onDataArrival=this._onInitChunkArrival.bind(this),y.open(h)},p.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},p.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},p.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},p.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},p.prototype.seek=function(c){if(this._mediaInfo!=null&&this._mediaInfo.isSeekable()){var h=this._searchSegmentIndexContains(c);if(h===this._currentSegmentIndex){var f=this._mediaInfo.segments[h];if(f==null)this._pendingSeekTime=c;else{var y=f.getNearestKeyframe(c);this._remuxer.seek(y.milliseconds),this._ioctl.seek(y.fileposition),this._pendingResolveSeekPoint=y.milliseconds}}else{var k=this._mediaInfo.segments[h];k==null?(this._pendingSeekTime=c,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(h)):(y=k.getNearestKeyframe(c),this._internalAbort(),this._remuxer.seek(c),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[h].timestampBase,this._loadSegment(h,y.fileposition),this._pendingResolveSeekPoint=y.milliseconds,this._reportSegmentMediaInfo(h))}this._enableStatisticsReporter()}},p.prototype._searchSegmentIndexContains=function(c){for(var h=this._mediaDataSource.segments,f=h.length-1,y=0;y<h.length;y++)if(c<h[y].timestampBase){f=y-1;break}return f},p.prototype._onInitChunkArrival=function(c,h){var f=this,y=null,k=0;if(h>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,k=this._demuxer.parseChunks(c,h);else if((y=vt.probe(c)).match){var R=this._demuxer=new vt(y,this._config);this._remuxer||(this._remuxer=new it(this._config)),R.onError=this._onDemuxException.bind(this),R.onMediaInfo=this._onMediaInfo.bind(this),R.onMetaDataArrived=this._onMetaDataArrived.bind(this),R.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),R.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),R.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),k=this._demuxer.parseChunks(c,h)}else if((y=E.probe(c)).match){this._demuxer=new E(y,this._config),this._remuxer||(this._remuxer=new it(this._config));var I=this._mediaDataSource;I.duration==null||isNaN(I.duration)||(this._demuxer.overridedDuration=I.duration),typeof I.hasAudio=="boolean"&&(this._demuxer.overridedHasAudio=I.hasAudio),typeof I.hasVideo=="boolean"&&(this._demuxer.overridedHasVideo=I.hasVideo),this._demuxer.timestampBase=I.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),k=this._demuxer.parseChunks(c,h)}else y=null,i.a.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then(function(){f._internalAbort()}),this._emitter.emit(Y.a.DEMUX_ERROR,O.a.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"),k=0;return k},p.prototype._onMediaInfo=function(c){var h=this;this._mediaInfo==null&&(this._mediaInfo=Object.assign({},c),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,r.a.prototype));var f=Object.assign({},c);Object.setPrototypeOf(f,r.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=f,this._reportSegmentMediaInfo(this._currentSegmentIndex),this._pendingSeekTime!=null&&Promise.resolve().then(function(){var y=h._pendingSeekTime;h._pendingSeekTime=null,h.seek(y)})},p.prototype._onMetaDataArrived=function(c){this._emitter.emit(Y.a.METADATA_ARRIVED,c)},p.prototype._onScriptDataArrived=function(c){this._emitter.emit(Y.a.SCRIPTDATA_ARRIVED,c)},p.prototype._onTimedID3Metadata=function(c){var h=this._remuxer.getTimestampBase();h!=null&&(c.pts!=null&&(c.pts-=h),c.dts!=null&&(c.dts-=h),this._emitter.emit(Y.a.TIMED_ID3_METADATA_ARRIVED,c))},p.prototype._onPESPrivateDataDescriptor=function(c){this._emitter.emit(Y.a.PES_PRIVATE_DATA_DESCRIPTOR,c)},p.prototype._onPESPrivateData=function(c){var h=this._remuxer.getTimestampBase();h!=null&&(c.pts!=null&&(c.pts-=h),c.nearest_pts!=null&&(c.nearest_pts-=h),c.dts!=null&&(c.dts-=h),this._emitter.emit(Y.a.PES_PRIVATE_DATA_ARRIVED,c))},p.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},p.prototype._onIOComplete=function(c){var h=c+1;h<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(h)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(Y.a.LOADING_COMPLETE),this._disableStatisticsReporter())},p.prototype._onIORedirect=function(c){var h=this._ioctl.extraData;this._mediaDataSource.segments[h].redirectedURL=c},p.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(Y.a.RECOVERED_EARLY_EOF)},p.prototype._onIOException=function(c,h){i.a.e(this.TAG,"IOException: type = "+c+", code = "+h.code+", msg = "+h.msg),this._emitter.emit(Y.a.IO_ERROR,c,h),this._disableStatisticsReporter()},p.prototype._onDemuxException=function(c,h){i.a.e(this.TAG,"DemuxException: type = "+c+", info = "+h),this._emitter.emit(Y.a.DEMUX_ERROR,c,h)},p.prototype._onRemuxerInitSegmentArrival=function(c,h){this._emitter.emit(Y.a.INIT_SEGMENT,c,h)},p.prototype._onRemuxerMediaSegmentArrival=function(c,h){if(this._pendingSeekTime==null&&(this._emitter.emit(Y.a.MEDIA_SEGMENT,c,h),this._pendingResolveSeekPoint!=null&&c==="video")){var f=h.info.syncPoints,y=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,a.a.safari&&f.length>0&&f[0].originalDts===y&&(y=f[0].pts),this._emitter.emit(Y.a.RECOMMEND_SEEKPOINT,y)}},p.prototype._enableStatisticsReporter=function(){this._statisticsReporter==null&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},p.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},p.prototype._reportSegmentMediaInfo=function(c){var h=this._mediaInfo.segments[c],f=Object.assign({},h);f.duration=this._mediaInfo.duration,f.segmentCount=this._mediaInfo.segmentCount,delete f.segments,delete f.keyframesIndex,this._emitter.emit(Y.a.MEDIA_INFO,f)},p.prototype._reportStatisticsInfo=function(){var c={};c.url=this._ioctl.currentURL,c.hasRedirect=this._ioctl.hasRedirect,c.hasRedirect&&(c.redirectedURL=this._ioctl.currentRedirectedURL),c.speed=this._ioctl.currentSpeed,c.loaderType=this._ioctl.loaderType,c.currentSegmentIndex=this._currentSegmentIndex,c.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(Y.a.STATISTICS_INFO,c)},p}();D.a=pt},function(o,D,s){var t,e=s(0),i=function(){function b(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return b.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},b.prototype.addBytes=function(m){this._firstCheckpoint===0?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=m,this._totalBytes+=m):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=m,this._totalBytes+=m):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=m,this._totalBytes+=m,this._lastCheckpoint=this._now())},Object.defineProperty(b.prototype,"currentKBps",{get:function(){this.addBytes(0);var m=(this._now()-this._lastCheckpoint)/1e3;return m==0&&(m=1),this._intervalBytes/m/1024},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),this._lastSecondBytes!==0?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"averageKBps",{get:function(){var m=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/m/1024},enumerable:!1,configurable:!0}),b}(),a=s(2),r=s(4),l=s(3),n=(t=function(b,m){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var S in w)w.hasOwnProperty(S)&&(_[S]=w[S])})(b,m)},function(b,m){function _(){this.constructor=b}t(b,m),b.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}),u=function(b){function m(_,w){var S=b.call(this,"fetch-stream-loader")||this;return S.TAG="FetchStreamLoader",S._seekHandler=_,S._config=w,S._needStash=!0,S._requestAbort=!1,S._abortController=null,S._contentLength=null,S._receivedLength=0,S}return n(m,b),m.isSupported=function(){try{var _=r.a.msedge&&r.a.version.minor>=15048,w=!r.a.msedge||_;return self.fetch&&self.ReadableStream&&w}catch{return!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),b.prototype.destroy.call(this)},m.prototype.open=function(_,w){var S=this;this._dataSource=_,this._range=w;var B=_.url;this._config.reuseRedirectedURL&&_.redirectedURL!=null&&(B=_.redirectedURL);var z=this._seekHandler.getConfig(B,w),Z=new self.Headers;if(typeof z.headers=="object"){var J=z.headers;for(var K in J)J.hasOwnProperty(K)&&Z.append(K,J[K])}var tt={method:"GET",headers:Z,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if(typeof this._config.headers=="object")for(var K in this._config.headers)Z.append(K,this._config.headers[K]);_.cors===!1&&(tt.mode="same-origin"),_.withCredentials&&(tt.credentials="include"),_.referrerPolicy&&(tt.referrerPolicy=_.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,tt.signal=this._abortController.signal),this._status=a.c.kConnecting,self.fetch(z.url,tt).then(function(L){if(S._requestAbort)return S._status=a.c.kIdle,void L.body.cancel();if(L.ok&&L.status>=200&&L.status<=299){if(L.url!==z.url&&S._onURLRedirect){var x=S._seekHandler.removeURLParameters(L.url);S._onURLRedirect(x)}var T=L.headers.get("Content-Length");return T!=null&&(S._contentLength=parseInt(T),S._contentLength!==0&&S._onContentLengthKnown&&S._onContentLengthKnown(S._contentLength)),S._pump.call(S,L.body.getReader())}if(S._status=a.c.kError,!S._onError)throw new l.d("FetchStreamLoader: Http code invalid, "+L.status+" "+L.statusText);S._onError(a.b.HTTP_STATUS_CODE_INVALID,{code:L.status,msg:L.statusText})}).catch(function(L){if(!S._abortController||!S._abortController.signal.aborted){if(S._status=a.c.kError,!S._onError)throw L;S._onError(a.b.EXCEPTION,{code:-1,msg:L.message})}})},m.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==a.c.kBuffering||!r.a.chrome)&&this._abortController)try{this._abortController.abort()}catch{}},m.prototype._pump=function(_){var w=this;return _.read().then(function(S){if(S.done)if(w._contentLength!==null&&w._receivedLength<w._contentLength){w._status=a.c.kError;var B=a.b.EARLY_EOF,z={code:-1,msg:"Fetch stream meet Early-EOF"};if(!w._onError)throw new l.d(z.msg);w._onError(B,z)}else w._status=a.c.kComplete,w._onComplete&&w._onComplete(w._range.from,w._range.from+w._receivedLength-1);else{if(w._abortController&&w._abortController.signal.aborted)return void(w._status=a.c.kComplete);if(w._requestAbort===!0)return w._status=a.c.kComplete,_.cancel();w._status=a.c.kBuffering;var Z=S.value.buffer,J=w._range.from+w._receivedLength;w._receivedLength+=Z.byteLength,w._onDataArrival&&w._onDataArrival(Z,J,w._receivedLength),w._pump(_)}}).catch(function(S){if(w._abortController&&w._abortController.signal.aborted)w._status=a.c.kComplete;else if(S.code!==11||!r.a.msedge){w._status=a.c.kError;var B=0,z=null;if(S.code!==19&&S.message!=="network error"||!(w._contentLength===null||w._contentLength!==null&&w._receivedLength<w._contentLength)?(B=a.b.EXCEPTION,z={code:S.code,msg:S.message}):(B=a.b.EARLY_EOF,z={code:S.code,msg:"Fetch stream meet Early-EOF"}),!w._onError)throw new l.d(z.msg);w._onError(B,z)}})},m}(a.a),d=function(){var b=function(m,_){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var B in S)S.hasOwnProperty(B)&&(w[B]=S[B])})(m,_)};return function(m,_){function w(){this.constructor=m}b(m,_),m.prototype=_===null?Object.create(_):(w.prototype=_.prototype,new w)}}(),g=function(b){function m(_,w){var S=b.call(this,"xhr-moz-chunked-loader")||this;return S.TAG="MozChunkedLoader",S._seekHandler=_,S._config=w,S._needStash=!0,S._xhr=null,S._requestAbort=!1,S._contentLength=null,S._receivedLength=0,S}return d(m,b),m.isSupported=function(){try{var _=new XMLHttpRequest;return _.open("GET","https://example.com",!0),_.responseType="moz-chunked-arraybuffer",_.responseType==="moz-chunked-arraybuffer"}catch(w){return e.a.w("MozChunkedLoader",w.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),b.prototype.destroy.call(this)},m.prototype.open=function(_,w){this._dataSource=_,this._range=w;var S=_.url;this._config.reuseRedirectedURL&&_.redirectedURL!=null&&(S=_.redirectedURL);var B=this._seekHandler.getConfig(S,w);this._requestURL=B.url;var z=this._xhr=new XMLHttpRequest;if(z.open("GET",B.url,!0),z.responseType="moz-chunked-arraybuffer",z.onreadystatechange=this._onReadyStateChange.bind(this),z.onprogress=this._onProgress.bind(this),z.onloadend=this._onLoadEnd.bind(this),z.onerror=this._onXhrError.bind(this),_.withCredentials&&(z.withCredentials=!0),typeof B.headers=="object"){var Z=B.headers;for(var J in Z)Z.hasOwnProperty(J)&&z.setRequestHeader(J,Z[J])}if(typeof this._config.headers=="object"){Z=this._config.headers;for(var J in Z)Z.hasOwnProperty(J)&&z.setRequestHeader(J,Z[J])}this._status=a.c.kConnecting,z.send()},m.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=a.c.kComplete},m.prototype._onReadyStateChange=function(_){var w=_.target;if(w.readyState===2){if(w.responseURL!=null&&w.responseURL!==this._requestURL&&this._onURLRedirect){var S=this._seekHandler.removeURLParameters(w.responseURL);this._onURLRedirect(S)}if(w.status!==0&&(w.status<200||w.status>299)){if(this._status=a.c.kError,!this._onError)throw new l.d("MozChunkedLoader: Http code invalid, "+w.status+" "+w.statusText);this._onError(a.b.HTTP_STATUS_CODE_INVALID,{code:w.status,msg:w.statusText})}else this._status=a.c.kBuffering}},m.prototype._onProgress=function(_){if(this._status!==a.c.kError){this._contentLength===null&&_.total!==null&&_.total!==0&&(this._contentLength=_.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var w=_.target.response,S=this._range.from+this._receivedLength;this._receivedLength+=w.byteLength,this._onDataArrival&&this._onDataArrival(w,S,this._receivedLength)}},m.prototype._onLoadEnd=function(_){this._requestAbort!==!0?this._status!==a.c.kError&&(this._status=a.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},m.prototype._onXhrError=function(_){this._status=a.c.kError;var w=0,S=null;if(this._contentLength&&_.loaded<this._contentLength?(w=a.b.EARLY_EOF,S={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(w=a.b.EXCEPTION,S={code:-1,msg:_.constructor.name+" "+_.type}),!this._onError)throw new l.d(S.msg);this._onError(w,S)},m}(a.a),v=function(){var b=function(m,_){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var B in S)S.hasOwnProperty(B)&&(w[B]=S[B])})(m,_)};return function(m,_){function w(){this.constructor=m}b(m,_),m.prototype=_===null?Object.create(_):(w.prototype=_.prototype,new w)}}(),A=function(b){function m(_,w){var S=b.call(this,"xhr-range-loader")||this;return S.TAG="RangeLoader",S._seekHandler=_,S._config=w,S._needStash=!1,S._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],S._currentChunkSizeKB=384,S._currentSpeedNormalized=0,S._zeroSpeedChunkCount=0,S._xhr=null,S._speedSampler=new i,S._requestAbort=!1,S._waitForTotalLength=!1,S._totalLengthReceived=!1,S._currentRequestURL=null,S._currentRedirectedURL=null,S._currentRequestRange=null,S._totalLength=null,S._contentLength=null,S._receivedLength=0,S._lastTimeLoaded=0,S}return v(m,b),m.isSupported=function(){try{var _=new XMLHttpRequest;return _.open("GET","https://example.com",!0),_.responseType="arraybuffer",_.responseType==="arraybuffer"}catch(w){return e.a.w("RangeLoader",w.message),!1}},m.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),b.prototype.destroy.call(this)},Object.defineProperty(m.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),m.prototype.open=function(_,w){this._dataSource=_,this._range=w,this._status=a.c.kConnecting;var S=!1;this._dataSource.filesize!=null&&this._dataSource.filesize!==0&&(S=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||S?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},m.prototype._openSubRange=function(){var _=1024*this._currentChunkSizeKB,w=this._range.from+this._receivedLength,S=w+_;this._contentLength!=null&&S-this._range.from>=this._contentLength&&(S=this._range.from+this._contentLength-1),this._currentRequestRange={from:w,to:S},this._internalOpen(this._dataSource,this._currentRequestRange)},m.prototype._internalOpen=function(_,w){this._lastTimeLoaded=0;var S=_.url;this._config.reuseRedirectedURL&&(this._currentRedirectedURL!=null?S=this._currentRedirectedURL:_.redirectedURL!=null&&(S=_.redirectedURL));var B=this._seekHandler.getConfig(S,w);this._currentRequestURL=B.url;var z=this._xhr=new XMLHttpRequest;if(z.open("GET",B.url,!0),z.responseType="arraybuffer",z.onreadystatechange=this._onReadyStateChange.bind(this),z.onprogress=this._onProgress.bind(this),z.onload=this._onLoad.bind(this),z.onerror=this._onXhrError.bind(this),_.withCredentials&&(z.withCredentials=!0),typeof B.headers=="object"){var Z=B.headers;for(var J in Z)Z.hasOwnProperty(J)&&z.setRequestHeader(J,Z[J])}if(typeof this._config.headers=="object"){Z=this._config.headers;for(var J in Z)Z.hasOwnProperty(J)&&z.setRequestHeader(J,Z[J])}z.send()},m.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=a.c.kComplete},m.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},m.prototype._onReadyStateChange=function(_){var w=_.target;if(w.readyState===2){if(w.responseURL!=null){var S=this._seekHandler.removeURLParameters(w.responseURL);w.responseURL!==this._currentRequestURL&&S!==this._currentRedirectedURL&&(this._currentRedirectedURL=S,this._onURLRedirect&&this._onURLRedirect(S))}if(w.status>=200&&w.status<=299){if(this._waitForTotalLength)return;this._status=a.c.kBuffering}else{if(this._status=a.c.kError,!this._onError)throw new l.d("RangeLoader: Http code invalid, "+w.status+" "+w.statusText);this._onError(a.b.HTTP_STATUS_CODE_INVALID,{code:w.status,msg:w.statusText})}}},m.prototype._onProgress=function(_){if(this._status!==a.c.kError){if(this._contentLength===null){var w=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,w=!0;var S=_.total;this._internalAbort(),S!=null&S!==0&&(this._totalLength=S)}if(this._range.to===-1?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,w)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var B=_.loaded-this._lastTimeLoaded;this._lastTimeLoaded=_.loaded,this._speedSampler.addBytes(B)}},m.prototype._normalizeSpeed=function(_){var w=this._chunkSizeKBList,S=w.length-1,B=0,z=0,Z=S;if(_<w[0])return w[0];for(;z<=Z;){if((B=z+Math.floor((Z-z)/2))===S||_>=w[B]&&_<w[B+1])return w[B];w[B]<_?z=B+1:Z=B-1}},m.prototype._onLoad=function(_){if(this._status!==a.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var w=this._speedSampler.lastSecondKBps;if(w===0&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(w=this._speedSampler.currentKBps)),w!==0){var S=this._normalizeSpeed(w);this._currentSpeedNormalized!==S&&(this._currentSpeedNormalized=S,this._currentChunkSizeKB=S)}var B=_.target.response,z=this._range.from+this._receivedLength;this._receivedLength+=B.byteLength;var Z=!1;this._contentLength!=null&&this._receivedLength<this._contentLength?this._openSubRange():Z=!0,this._onDataArrival&&this._onDataArrival(B,z,this._receivedLength),Z&&(this._status=a.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},m.prototype._onXhrError=function(_){this._status=a.c.kError;var w=0,S=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(w=a.b.EARLY_EOF,S={code:-1,msg:"RangeLoader meet Early-Eof"}):(w=a.b.EXCEPTION,S={code:-1,msg:_.constructor.name+" "+_.type}),!this._onError)throw new l.d(S.msg);this._onError(w,S)},m}(a.a),P=function(){var b=function(m,_){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var B in S)S.hasOwnProperty(B)&&(w[B]=S[B])})(m,_)};return function(m,_){function w(){this.constructor=m}b(m,_),m.prototype=_===null?Object.create(_):(w.prototype=_.prototype,new w)}}(),O=function(b){function m(){var _=b.call(this,"websocket-loader")||this;return _.TAG="WebSocketLoader",_._needStash=!0,_._ws=null,_._requestAbort=!1,_._receivedLength=0,_}return P(m,b),m.isSupported=function(){try{return self.WebSocket!==void 0}catch{return!1}},m.prototype.destroy=function(){this._ws&&this.abort(),b.prototype.destroy.call(this)},m.prototype.open=function(_){try{var w=this._ws=new self.WebSocket(_.url);w.binaryType="arraybuffer",w.onopen=this._onWebSocketOpen.bind(this),w.onclose=this._onWebSocketClose.bind(this),w.onmessage=this._onWebSocketMessage.bind(this),w.onerror=this._onWebSocketError.bind(this),this._status=a.c.kConnecting}catch(B){this._status=a.c.kError;var S={code:B.code,msg:B.message};if(!this._onError)throw new l.d(S.msg);this._onError(a.b.EXCEPTION,S)}},m.prototype.abort=function(){var _=this._ws;!_||_.readyState!==0&&_.readyState!==1||(this._requestAbort=!0,_.close()),this._ws=null,this._status=a.c.kComplete},m.prototype._onWebSocketOpen=function(_){this._status=a.c.kBuffering},m.prototype._onWebSocketClose=function(_){this._requestAbort!==!0?(this._status=a.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},m.prototype._onWebSocketMessage=function(_){var w=this;if(_.data instanceof ArrayBuffer)this._dispatchArrayBuffer(_.data);else if(_.data instanceof Blob){var S=new FileReader;S.onload=function(){w._dispatchArrayBuffer(S.result)},S.readAsArrayBuffer(_.data)}else{this._status=a.c.kError;var B={code:-1,msg:"Unsupported WebSocket message type: "+_.data.constructor.name};if(!this._onError)throw new l.d(B.msg);this._onError(a.b.EXCEPTION,B)}},m.prototype._dispatchArrayBuffer=function(_){var w=_,S=this._receivedLength;this._receivedLength+=w.byteLength,this._onDataArrival&&this._onDataArrival(w,S,this._receivedLength)},m.prototype._onWebSocketError=function(_){this._status=a.c.kError;var w={code:_.code,msg:_.message};if(!this._onError)throw new l.d(w.msg);this._onError(a.b.EXCEPTION,w)},m}(a.a),j=function(){function b(m){this._zeroStart=m||!1}return b.prototype.getConfig=function(m,_){var w={};if(_.from!==0||_.to!==-1){var S=void 0;S=_.to!==-1?"bytes="+_.from.toString()+"-"+_.to.toString():"bytes="+_.from.toString()+"-",w.Range=S}else this._zeroStart&&(w.Range="bytes=0-");return{url:m,headers:w}},b.prototype.removeURLParameters=function(m){return m},b}(),E=function(){function b(m,_){this._startName=m,this._endName=_}return b.prototype.getConfig=function(m,_){var w=m;if(_.from!==0||_.to!==-1){var S=!0;w.indexOf("?")===-1&&(w+="?",S=!1),S&&(w+="&"),w+=this._startName+"="+_.from.toString(),_.to!==-1&&(w+="&"+this._endName+"="+_.to.toString())}return{url:w,headers:{}}},b.prototype.removeURLParameters=function(m){var _=m.split("?")[0],w=void 0,S=m.indexOf("?");S!==-1&&(w=m.substring(S+1));var B="";if(w!=null&&w.length>0)for(var z=w.split("&"),Z=0;Z<z.length;Z++){var J=z[Z].split("="),K=Z>0;J[0]!==this._startName&&J[0]!==this._endName&&(K&&(B+="&"),B+=z[Z])}return B.length===0?_:_+"?"+B},b}(),C=function(){function b(m,_,w){this.TAG="IOController",this._config=_,this._extraData=w,this._stashInitialSize=65536,_.stashInitialSize!=null&&_.stashInitialSize>0&&(this._stashInitialSize=_.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,_.enableStashBuffer===!1&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=m,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(m.url),this._refTotalLength=m.filesize?m.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new i,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return b.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},b.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},b.prototype.isPaused=function(){return this._paused},Object.defineProperty(b.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"extraData",{get:function(){return this._extraData},set:function(m){this._extraData=m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(m){this._onDataArrival=m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(m){this._onSeeked=m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onError",{get:function(){return this._onError},set:function(m){this._onError=m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onComplete",{get:function(){return this._onComplete},set:function(m){this._onComplete=m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(m){this._onRedirect=m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(m){this._onRecoveredEarlyEof=m},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hasRedirect",{get:function(){return this._redirectedURL!=null||this._dataSource.redirectedURL!=null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"currentSpeed",{get:function(){return this._loaderClass===A?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),b.prototype._selectSeekHandler=function(){var m=this._config;if(m.seekType==="range")this._seekHandler=new j(this._config.rangeLoadZeroStart);else if(m.seekType==="param"){var _=m.seekParamStart||"bstart",w=m.seekParamEnd||"bend";this._seekHandler=new E(_,w)}else{if(m.seekType!=="custom")throw new l.b("Invalid seekType in config: "+m.seekType);if(typeof m.customSeekHandler!="function")throw new l.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new m.customSeekHandler}},b.prototype._selectLoader=function(){if(this._config.customLoader!=null)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=O;else if(u.isSupported())this._loaderClass=u;else if(g.isSupported())this._loaderClass=g;else{if(!A.isSupported())throw new l.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=A}},b.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),this._loader.needStashBuffer===!1&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},b.prototype.open=function(m){this._currentRange={from:0,to:-1},m&&(this._currentRange.from=m),this._speedSampler.reset(),m||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},b.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},b.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),this._stashUsed!==0?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},b.prototype.resume=function(){if(this._paused){this._paused=!1;var m=this._resumeFrom;this._resumeFrom=0,this._internalSeek(m,!0)}},b.prototype.seek=function(m){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(m,!0)},b.prototype._internalSeek=function(m,_){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(_),this._loader.destroy(),this._loader=null;var w={from:m,to:-1};this._currentRange={from:w.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,w),this._onSeeked&&this._onSeeked()},b.prototype.updateUrl=function(m){if(!m||typeof m!="string"||m.length===0)throw new l.b("Url must be a non-empty string!");this._dataSource.url=m},b.prototype._expandBuffer=function(m){for(var _=this._stashSize;_+1048576<m;)_*=2;if((_+=1048576)!==this._bufferSize){var w=new ArrayBuffer(_);if(this._stashUsed>0){var S=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(w,0,_).set(S,0)}this._stashBuffer=w,this._bufferSize=_}},b.prototype._normalizeSpeed=function(m){var _=this._speedNormalizeList,w=_.length-1,S=0,B=0,z=w;if(m<_[0])return _[0];for(;B<=z;){if((S=B+Math.floor((z-B)/2))===w||m>=_[S]&&m<_[S+1])return _[S];_[S]<m?B=S+1:z=S-1}},b.prototype._adjustStashSize=function(m){var _=0;(_=this._config.isLive?m/8:m<512?m:m>=512&&m<=1024?Math.floor(1.5*m):2*m)>8192&&(_=8192);var w=1024*_+1048576;this._bufferSize<w&&this._expandBuffer(w),this._stashSize=1024*_},b.prototype._dispatchChunks=function(m,_){return this._currentRange.to=_+m.byteLength-1,this._onDataArrival(m,_)},b.prototype._onURLRedirect=function(m){this._redirectedURL=m,this._onRedirect&&this._onRedirect(m)},b.prototype._onContentLengthKnown=function(m){m&&this._fullRequestFlag&&(this._totalLength=m,this._fullRequestFlag=!1)},b.prototype._onLoaderChunkArrival=function(m,_,w){if(!this._onDataArrival)throw new l.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(m.byteLength);var S=this._speedSampler.lastSecondKBps;if(S!==0){var B=this._normalizeSpeed(S);this._speedNormalized!==B&&(this._speedNormalized=B,this._adjustStashSize(B))}if(this._enableStash)if(this._stashUsed===0&&this._stashByteStart===0&&(this._stashByteStart=_),this._stashUsed+m.byteLength<=this._stashSize)(J=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(m),this._stashUsed),this._stashUsed+=m.byteLength;else if(J=new Uint8Array(this._stashBuffer,0,this._bufferSize),this._stashUsed>0){var z=this._stashBuffer.slice(0,this._stashUsed);(K=this._dispatchChunks(z,this._stashByteStart))<z.byteLength?K>0&&(tt=new Uint8Array(z,K),J.set(tt,0),this._stashUsed=tt.byteLength,this._stashByteStart+=K):(this._stashUsed=0,this._stashByteStart+=K),this._stashUsed+m.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+m.byteLength),J=new Uint8Array(this._stashBuffer,0,this._bufferSize)),J.set(new Uint8Array(m),this._stashUsed),this._stashUsed+=m.byteLength}else(K=this._dispatchChunks(m,_))<m.byteLength&&((Z=m.byteLength-K)>this._bufferSize&&(this._expandBuffer(Z),J=new Uint8Array(this._stashBuffer,0,this._bufferSize)),J.set(new Uint8Array(m,K),0),this._stashUsed+=Z,this._stashByteStart=_+K);else if(this._stashUsed===0){var Z;(K=this._dispatchChunks(m,_))<m.byteLength&&((Z=m.byteLength-K)>this._bufferSize&&this._expandBuffer(Z),(J=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(m,K),0),this._stashUsed+=Z,this._stashByteStart=_+K)}else{var J,K;if(this._stashUsed+m.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+m.byteLength),(J=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(m),this._stashUsed),this._stashUsed+=m.byteLength,(K=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&K>0){var tt=new Uint8Array(this._stashBuffer,K);J.set(tt,0)}this._stashUsed-=K,this._stashByteStart+=K}}},b.prototype._flushStashBuffer=function(m){if(this._stashUsed>0){var _=this._stashBuffer.slice(0,this._stashUsed),w=this._dispatchChunks(_,this._stashByteStart),S=_.byteLength-w;if(w<_.byteLength){if(!m){if(w>0){var B=new Uint8Array(this._stashBuffer,0,this._bufferSize),z=new Uint8Array(_,w);B.set(z,0),this._stashUsed=z.byteLength,this._stashByteStart+=w}return 0}e.a.w(this.TAG,S+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,S}return 0},b.prototype._onLoaderComplete=function(m,_){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},b.prototype._onLoaderError=function(m,_){switch(e.a.e(this.TAG,"Loader error, code = "+_.code+", msg = "+_.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,m=a.b.UNRECOVERABLE_EARLY_EOF),m){case a.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var w=this._currentRange.to+1;return void(w<this._totalLength&&(e.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(w,!1)))}m=a.b.UNRECOVERABLE_EARLY_EOF;break;case a.b.UNRECOVERABLE_EARLY_EOF:case a.b.CONNECTING_TIMEOUT:case a.b.HTTP_STATUS_CODE_INVALID:case a.b.EXCEPTION:}if(!this._onError)throw new l.d("IOException: "+_.msg);this._onError(m,_)},b}();D.a=C},function(o,D,s){var t=function(){function e(){}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},Object.assign=Object.assign||function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(i),r=1;r<arguments.length;r++){var l=arguments[r];if(l!=null)for(var n in l)l.hasOwnProperty(n)&&(a[n]=l[n])}return a},typeof self.Promise!="function"&&s(15).polyfill()},e}();t.install(),D.a=t},function(o,D,s){function t(r){var l={};function n(d){if(l[d])return l[d].exports;var g=l[d]={i:d,l:!1,exports:{}};return r[d].call(g.exports,g,g.exports,n),g.l=!0,g.exports}n.m=r,n.c=l,n.i=function(d){return d},n.d=function(d,g,v){n.o(d,g)||Object.defineProperty(d,g,{configurable:!1,enumerable:!0,get:v})},n.r=function(d){Object.defineProperty(d,"__esModule",{value:!0})},n.n=function(d){var g=d&&d.__esModule?function(){return d.default}:function(){return d};return n.d(g,"a",g),g},n.o=function(d,g){return Object.prototype.hasOwnProperty.call(d,g)},n.p="/",n.oe=function(d){throw console.error(d),d};var u=n(n.s=ENTRY_MODULE);return u.default||u}function e(r){return(r+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function i(r,l,n){var u={};u[n]=[];var d=l.toString(),g=d.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!g)return u;for(var v,A=g[1],P=new RegExp("(\\\\n|\\W)"+e(A)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");v=P.exec(d);)v[3]!=="dll-reference"&&u[n].push(v[3]);for(P=new RegExp("\\("+e(A)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");v=P.exec(d);)r[v[2]]||(u[n].push(v[1]),r[v[2]]=s(v[1]).m),u[v[2]]=u[v[2]]||[],u[v[2]].push(v[4]);for(var O,j=Object.keys(u),E=0;E<j.length;E++)for(var C=0;C<u[j[E]].length;C++)O=u[j[E]][C],isNaN(1*O)||(u[j[E]][C]=1*u[j[E]][C]);return u}function a(r){return Object.keys(r).reduce(function(l,n){return l||r[n].length>0},!1)}o.exports=function(r,l){l=l||{};var n={main:s.m},u=l.all?{main:Object.keys(n.main)}:function(P,O){for(var j={main:[O]},E={main:[]},C={main:{}};a(j);)for(var b=Object.keys(j),m=0;m<b.length;m++){var _=b[m],w=j[_].pop();if(C[_]=C[_]||{},!C[_][w]&&P[_][w]){C[_][w]=!0,E[_]=E[_]||[],E[_].push(w);for(var S=i(P,P[_][w],_),B=Object.keys(S),z=0;z<B.length;z++)j[B[z]]=j[B[z]]||[],j[B[z]]=j[B[z]].concat(S[B[z]])}}return E}(n,r),d="";Object.keys(u).filter(function(P){return P!=="main"}).forEach(function(P){for(var O=0;u[P][O];)O++;u[P].push(O),n[P][O]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",d=d+"var "+P+" = ("+t.toString().replace("ENTRY_MODULE",JSON.stringify(O))+")({"+u[P].map(function(j){return JSON.stringify(j)+": "+n[P][j].toString()}).join(",")+`});
`}),d=d+"new (("+t.toString().replace("ENTRY_MODULE",JSON.stringify(r))+")({"+u.main.map(function(P){return JSON.stringify(P)+": "+n.main[P].toString()}).join(",")+"}))(self);";var g=new window.Blob([d],{type:"text/javascript"});if(l.bare)return g;var v=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(g),A=new window.Worker(v);return A.objectURL=v,A}},function(o,D,s){o.exports=s(19).default},function(o,D,s){(function(t,e){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var i;i=function(){function a($){return typeof $=="function"}var r=Array.isArray?Array.isArray:function($){return Object.prototype.toString.call($)==="[object Array]"},l=0,n=void 0,u=void 0,d=function($,G){E[l]=$,E[l+1]=G,(l+=2)===2&&(u?u(C):S())},g=typeof window!="undefined"?window:void 0,v=g||{},A=v.MutationObserver||v.WebKitMutationObserver,P=typeof self=="undefined"&&t!==void 0&&{}.toString.call(t)==="[object process]",O=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined";function j(){var $=setTimeout;return function(){return $(C,1)}}var E=new Array(1e3);function C(){for(var $=0;$<l;$+=2)(0,E[$])(E[$+1]),E[$]=void 0,E[$+1]=void 0;l=0}var b,m,_,w,S=void 0;function B($,G){var X=this,it=new this.constructor(J);it[Z]===void 0&&mt(it);var nt=X._state;if(nt){var Y=arguments[nt-1];d(function(){return rt(nt,it,Y,X._result)})}else M(X,it,$,G);return it}function z($){if($&&typeof $=="object"&&$.constructor===this)return $;var G=new this(J);return tt(G,$),G}P?S=function(){return t.nextTick(C)}:A?(m=0,_=new A(C),w=document.createTextNode(""),_.observe(w,{characterData:!0}),S=function(){w.data=m=++m%2}):O?((b=new MessageChannel).port1.onmessage=C,S=function(){return b.port2.postMessage(0)}):S=g===void 0?function(){try{var $=Function("return this")().require("vertx");return(n=$.runOnLoop||$.runOnContext)!==void 0?function(){n(C)}:j()}catch{return j()}}():j();var Z=Math.random().toString(36).substring(2);function J(){}function K($,G,X){G.constructor===$.constructor&&X===B&&G.constructor.resolve===z?function(it,nt){nt._state===1?x(it,nt._result):nt._state===2?T(it,nt._result):M(nt,void 0,function(Y){return tt(it,Y)},function(Y){return T(it,Y)})}($,G):X===void 0?x($,G):a(X)?function(it,nt,Y){d(function(pt){var p=!1,c=function(h,f,y,k){try{h.call(f,y,k)}catch(R){return R}}(Y,nt,function(h){p||(p=!0,nt!==h?tt(pt,h):x(pt,h))},function(h){p||(p=!0,T(pt,h))},pt._label);!p&&c&&(p=!0,T(pt,c))},it)}($,G,X):x($,G)}function tt($,G){if($===G)T($,new TypeError("You cannot resolve a promise with itself"));else if(nt=typeof(it=G),it===null||nt!=="object"&&nt!=="function")x($,G);else{var X=void 0;try{X=G.then}catch(Y){return void T($,Y)}K($,G,X)}var it,nt}function L($){$._onerror&&$._onerror($._result),W($)}function x($,G){$._state===void 0&&($._result=G,$._state=1,$._subscribers.length!==0&&d(W,$))}function T($,G){$._state===void 0&&($._state=2,$._result=G,d(L,$))}function M($,G,X,it){var nt=$._subscribers,Y=nt.length;$._onerror=null,nt[Y]=G,nt[Y+1]=X,nt[Y+2]=it,Y===0&&$._state&&d(W,$)}function W($){var G=$._subscribers,X=$._state;if(G.length!==0){for(var it=void 0,nt=void 0,Y=$._result,pt=0;pt<G.length;pt+=3)it=G[pt],nt=G[pt+X],it?rt(X,it,nt,Y):nt(Y);$._subscribers.length=0}}function rt($,G,X,it){var nt=a(X),Y=void 0,pt=void 0,p=!0;if(nt){try{Y=X(it)}catch(c){p=!1,pt=c}if(G===Y)return void T(G,new TypeError("A promises callback cannot return that same promise."))}else Y=it;G._state!==void 0||(nt&&p?tt(G,Y):p===!1?T(G,pt):$===1?x(G,Y):$===2&&T(G,Y))}var lt=0;function mt($){$[Z]=lt++,$._state=void 0,$._result=void 0,$._subscribers=[]}var vt=function(){function $(G,X){this._instanceConstructor=G,this.promise=new G(J),this.promise[Z]||mt(this.promise),r(X)?(this.length=X.length,this._remaining=X.length,this._result=new Array(this.length),this.length===0?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(X),this._remaining===0&&x(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return $.prototype._enumerate=function(G){for(var X=0;this._state===void 0&&X<G.length;X++)this._eachEntry(G[X],X)},$.prototype._eachEntry=function(G,X){var it=this._instanceConstructor,nt=it.resolve;if(nt===z){var Y=void 0,pt=void 0,p=!1;try{Y=G.then}catch(h){p=!0,pt=h}if(Y===B&&G._state!==void 0)this._settledAt(G._state,X,G._result);else if(typeof Y!="function")this._remaining--,this._result[X]=G;else if(it===ht){var c=new it(J);p?T(c,pt):K(c,G,Y),this._willSettleAt(c,X)}else this._willSettleAt(new it(function(h){return h(G)}),X)}else this._willSettleAt(nt(G),X)},$.prototype._settledAt=function(G,X,it){var nt=this.promise;nt._state===void 0&&(this._remaining--,G===2?T(nt,it):this._result[X]=it),this._remaining===0&&x(nt,this._result)},$.prototype._willSettleAt=function(G,X){var it=this;M(G,void 0,function(nt){return it._settledAt(1,X,nt)},function(nt){return it._settledAt(2,X,nt)})},$}(),ht=function(){function $(G){this[Z]=lt++,this._result=this._state=void 0,this._subscribers=[],J!==G&&(typeof G!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof $?function(X,it){try{it(function(nt){tt(X,nt)},function(nt){T(X,nt)})}catch(nt){T(X,nt)}}(this,G):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return $.prototype.catch=function(G){return this.then(null,G)},$.prototype.finally=function(G){var X=this.constructor;return a(G)?this.then(function(it){return X.resolve(G()).then(function(){return it})},function(it){return X.resolve(G()).then(function(){throw it})}):this.then(G,G)},$}();return ht.prototype.then=B,ht.all=function($){return new vt(this,$).promise},ht.race=function($){var G=this;return r($)?new G(function(X,it){for(var nt=$.length,Y=0;Y<nt;Y++)G.resolve($[Y]).then(X,it)}):new G(function(X,it){return it(new TypeError("You must pass an array to race."))})},ht.resolve=z,ht.reject=function($){var G=new this(J);return T(G,$),G},ht._setScheduler=function($){u=$},ht._setAsap=function($){d=$},ht._asap=d,ht.polyfill=function(){var $=void 0;if(e!==void 0)$=e;else if(typeof self!="undefined")$=self;else try{$=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var G=$.Promise;if(G){var X=null;try{X=Object.prototype.toString.call(G.resolve())}catch{}if(X==="[object Promise]"&&!G.cast)return}$.Promise=ht},ht.Promise=ht,ht},o.exports=i()}).call(this,s(16),s(17))},function(o,D){var s,t,e=o.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(O){if(s===setTimeout)return setTimeout(O,0);if((s===i||!s)&&setTimeout)return s=setTimeout,setTimeout(O,0);try{return s(O,0)}catch{try{return s.call(null,O,0)}catch{return s.call(this,O,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:i}catch{s=i}try{t=typeof clearTimeout=="function"?clearTimeout:a}catch{t=a}})();var l,n=[],u=!1,d=-1;function g(){u&&l&&(u=!1,l.length?n=l.concat(n):d=-1,n.length&&v())}function v(){if(!u){var O=r(g);u=!0;for(var j=n.length;j;){for(l=n,n=[];++d<j;)l&&l[d].run();d=-1,j=n.length}l=null,u=!1,function(E){if(t===clearTimeout)return clearTimeout(E);if((t===a||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(E);try{t(E)}catch{try{return t.call(null,E)}catch{return t.call(this,E)}}}(O)}}function A(O,j){this.fun=O,this.array=j}function P(){}e.nextTick=function(O){var j=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)j[E-1]=arguments[E];n.push(new A(O,j)),n.length!==1||u||r(v)},A.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=P,e.addListener=P,e.once=P,e.off=P,e.removeListener=P,e.removeAllListeners=P,e.emit=P,e.prependListener=P,e.prependOnceListener=P,e.listeners=function(O){return[]},e.binding=function(O){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(O){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(o,D){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}o.exports=s},function(o,D,s){s.r(D);var t=s(9),e=s(12),i=s(10),a=s(1);D.default=function(r){var l=null,n=function(S,B){r.postMessage({msg:"logcat_callback",data:{type:S,logcat:B}})}.bind(this);function u(S,B){var z={msg:a.a.INIT_SEGMENT,data:{type:S,data:B}};r.postMessage(z,[B.data])}function d(S,B){var z={msg:a.a.MEDIA_SEGMENT,data:{type:S,data:B}};r.postMessage(z,[B.data])}function g(){var S={msg:a.a.LOADING_COMPLETE};r.postMessage(S)}function v(){var S={msg:a.a.RECOVERED_EARLY_EOF};r.postMessage(S)}function A(S){var B={msg:a.a.MEDIA_INFO,data:S};r.postMessage(B)}function P(S){var B={msg:a.a.METADATA_ARRIVED,data:S};r.postMessage(B)}function O(S){var B={msg:a.a.SCRIPTDATA_ARRIVED,data:S};r.postMessage(B)}function j(S){var B={msg:a.a.TIMED_ID3_METADATA_ARRIVED,data:S};r.postMessage(B)}function E(S){var B={msg:a.a.PES_PRIVATE_DATA_DESCRIPTOR,data:S};r.postMessage(B)}function C(S){var B={msg:a.a.PES_PRIVATE_DATA_ARRIVED,data:S};r.postMessage(B)}function b(S){var B={msg:a.a.STATISTICS_INFO,data:S};r.postMessage(B)}function m(S,B){r.postMessage({msg:a.a.IO_ERROR,data:{type:S,info:B}})}function _(S,B){r.postMessage({msg:a.a.DEMUX_ERROR,data:{type:S,info:B}})}function w(S){r.postMessage({msg:a.a.RECOMMEND_SEEKPOINT,data:S})}e.a.install(),r.addEventListener("message",function(S){switch(S.data.cmd){case"init":(l=new i.a(S.data.param[0],S.data.param[1])).on(a.a.IO_ERROR,m.bind(this)),l.on(a.a.DEMUX_ERROR,_.bind(this)),l.on(a.a.INIT_SEGMENT,u.bind(this)),l.on(a.a.MEDIA_SEGMENT,d.bind(this)),l.on(a.a.LOADING_COMPLETE,g.bind(this)),l.on(a.a.RECOVERED_EARLY_EOF,v.bind(this)),l.on(a.a.MEDIA_INFO,A.bind(this)),l.on(a.a.METADATA_ARRIVED,P.bind(this)),l.on(a.a.SCRIPTDATA_ARRIVED,O.bind(this)),l.on(a.a.TIMED_ID3_METADATA_ARRIVED,j.bind(this)),l.on(a.a.PES_PRIVATE_DATA_DESCRIPTOR,E.bind(this)),l.on(a.a.PES_PRIVATE_DATA_ARRIVED,C.bind(this)),l.on(a.a.STATISTICS_INFO,b.bind(this)),l.on(a.a.RECOMMEND_SEEKPOINT,w.bind(this));break;case"destroy":l&&(l.destroy(),l=null),r.postMessage({msg:"destroyed"});break;case"start":l.start();break;case"stop":l.stop();break;case"seek":l.seek(S.data.param);break;case"pause":l.pause();break;case"resume":l.resume();break;case"logging_config":var B=S.data.param;t.a.applyConfig(B),B.enableCallback===!0?t.a.addLogListener(n):t.a.removeLogListener(n)}})}},function(o,D,s){s.r(D);var t=s(12),e=s(11),i={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function a(){return Object.assign({},i)}var r=function(){function L(){}return L.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},L.supportNetworkStreamIO=function(){var x=new e.a({},a()),T=x.loaderType;return x.destroy(),T=="fetch-stream-loader"||T=="xhr-moz-chunked-loader"},L.getNetworkLoaderTypeName=function(){var x=new e.a({},a()),T=x.loaderType;return x.destroy(),T},L.supportNativeMediaPlayback=function(x){L.videoElement==null&&(L.videoElement=window.document.createElement("video"));var T=L.videoElement.canPlayType(x);return T==="probably"||T=="maybe"},L.getFeatureList=function(){var x={msePlayback:!1,mseLivePlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return x.msePlayback=L.supportMSEH264Playback(),x.networkStreamIO=L.supportNetworkStreamIO(),x.networkLoaderName=L.getNetworkLoaderTypeName(),x.mseLivePlayback=x.msePlayback&&x.networkStreamIO,x.nativeMP4H264Playback=L.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),x.nativeWebmVP8Playback=L.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),x.nativeWebmVP9Playback=L.supportNativeMediaPlayback('video/webm; codecs="vp9"'),x},L}(),l=s(2),n=s(6),u=s.n(n),d=s(0),g=s(4),v={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info"},A=s(13),P=s.n(A),O=s(9),j=s(10),E=s(1),C=s(8),b=function(){function L(x,T){if(this.TAG="Transmuxer",this._emitter=new u.a,T.enableWorker&&typeof Worker!="undefined")try{this._worker=P()(18),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[x,T]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},O.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:O.a.getConfig()})}catch{d.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new j.a(x,T)}else this._controller=new j.a(x,T);if(this._controller){var M=this._controller;M.on(E.a.IO_ERROR,this._onIOError.bind(this)),M.on(E.a.DEMUX_ERROR,this._onDemuxError.bind(this)),M.on(E.a.INIT_SEGMENT,this._onInitSegment.bind(this)),M.on(E.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),M.on(E.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),M.on(E.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),M.on(E.a.MEDIA_INFO,this._onMediaInfo.bind(this)),M.on(E.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),M.on(E.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),M.on(E.a.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),M.on(E.a.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),M.on(E.a.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),M.on(E.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),M.on(E.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return L.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),O.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},L.prototype.on=function(x,T){this._emitter.addListener(x,T)},L.prototype.off=function(x,T){this._emitter.removeListener(x,T)},L.prototype.hasWorker=function(){return this._worker!=null},L.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},L.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},L.prototype.seek=function(x){this._worker?this._worker.postMessage({cmd:"seek",param:x}):this._controller.seek(x)},L.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},L.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},L.prototype._onInitSegment=function(x,T){var M=this;Promise.resolve().then(function(){M._emitter.emit(E.a.INIT_SEGMENT,x,T)})},L.prototype._onMediaSegment=function(x,T){var M=this;Promise.resolve().then(function(){M._emitter.emit(E.a.MEDIA_SEGMENT,x,T)})},L.prototype._onLoadingComplete=function(){var x=this;Promise.resolve().then(function(){x._emitter.emit(E.a.LOADING_COMPLETE)})},L.prototype._onRecoveredEarlyEof=function(){var x=this;Promise.resolve().then(function(){x._emitter.emit(E.a.RECOVERED_EARLY_EOF)})},L.prototype._onMediaInfo=function(x){var T=this;Promise.resolve().then(function(){T._emitter.emit(E.a.MEDIA_INFO,x)})},L.prototype._onMetaDataArrived=function(x){var T=this;Promise.resolve().then(function(){T._emitter.emit(E.a.METADATA_ARRIVED,x)})},L.prototype._onScriptDataArrived=function(x){var T=this;Promise.resolve().then(function(){T._emitter.emit(E.a.SCRIPTDATA_ARRIVED,x)})},L.prototype._onTimedID3MetadataArrived=function(x){var T=this;Promise.resolve().then(function(){T._emitter.emit(E.a.TIMED_ID3_METADATA_ARRIVED,x)})},L.prototype._onPESPrivateDataDescriptor=function(x){var T=this;Promise.resolve().then(function(){T._emitter.emit(E.a.PES_PRIVATE_DATA_DESCRIPTOR,x)})},L.prototype._onPESPrivateDataArrived=function(x){var T=this;Promise.resolve().then(function(){T._emitter.emit(E.a.PES_PRIVATE_DATA_ARRIVED,x)})},L.prototype._onStatisticsInfo=function(x){var T=this;Promise.resolve().then(function(){T._emitter.emit(E.a.STATISTICS_INFO,x)})},L.prototype._onIOError=function(x,T){var M=this;Promise.resolve().then(function(){M._emitter.emit(E.a.IO_ERROR,x,T)})},L.prototype._onDemuxError=function(x,T){var M=this;Promise.resolve().then(function(){M._emitter.emit(E.a.DEMUX_ERROR,x,T)})},L.prototype._onRecommendSeekpoint=function(x){var T=this;Promise.resolve().then(function(){T._emitter.emit(E.a.RECOMMEND_SEEKPOINT,x)})},L.prototype._onLoggingConfigChanged=function(x){this._worker&&this._worker.postMessage({cmd:"logging_config",param:x})},L.prototype._onWorkerMessage=function(x){var T=x.data,M=T.data;if(T.msg==="destroyed"||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(T.msg){case E.a.INIT_SEGMENT:case E.a.MEDIA_SEGMENT:this._emitter.emit(T.msg,M.type,M.data);break;case E.a.LOADING_COMPLETE:case E.a.RECOVERED_EARLY_EOF:this._emitter.emit(T.msg);break;case E.a.MEDIA_INFO:Object.setPrototypeOf(M,C.a.prototype),this._emitter.emit(T.msg,M);break;case E.a.METADATA_ARRIVED:case E.a.SCRIPTDATA_ARRIVED:case E.a.TIMED_ID3_METADATA_ARRIVED:case E.a.PES_PRIVATE_DATA_DESCRIPTOR:case E.a.PES_PRIVATE_DATA_ARRIVED:case E.a.STATISTICS_INFO:this._emitter.emit(T.msg,M);break;case E.a.IO_ERROR:case E.a.DEMUX_ERROR:this._emitter.emit(T.msg,M.type,M.info);break;case E.a.RECOMMEND_SEEKPOINT:this._emitter.emit(T.msg,M);break;case"logcat_callback":d.a.emitter.emit("log",M.type,M.logcat)}},L}(),m={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"},_=s(7),w=s(3),S=function(){function L(x){this.TAG="MSEController",this._config=x,this._emitter=new u.a,this._config.isLive&&this._config.autoCleanupSourceBuffer==null&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new _.a}return L.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},L.prototype.on=function(x,T){this._emitter.addListener(x,T)},L.prototype.off=function(x,T){this._emitter.removeListener(x,T)},L.prototype.attachMediaElement=function(x){if(this._mediaSource)throw new w.a("MediaSource has been attached to an HTMLMediaElement!");var T=this._mediaSource=new window.MediaSource;T.addEventListener("sourceopen",this.e.onSourceOpen),T.addEventListener("sourceended",this.e.onSourceEnded),T.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=x,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),x.src=this._mediaSourceObjectURL},L.prototype.detachMediaElement=function(){if(this._mediaSource){var x=this._mediaSource;for(var T in this._sourceBuffers){var M=this._pendingSegments[T];M.splice(0,M.length),this._pendingSegments[T]=null,this._pendingRemoveRanges[T]=null,this._lastInitSegments[T]=null;var W=this._sourceBuffers[T];if(W){if(x.readyState!=="closed"){try{x.removeSourceBuffer(W)}catch(rt){d.a.e(this.TAG,rt.message)}W.removeEventListener("error",this.e.onSourceBufferError),W.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[T]=null,this._sourceBuffers[T]=null}}if(x.readyState==="open")try{x.endOfStream()}catch(rt){d.a.e(this.TAG,rt.message)}x.removeEventListener("sourceopen",this.e.onSourceOpen),x.removeEventListener("sourceended",this.e.onSourceEnded),x.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},L.prototype.appendInitSegment=function(x,T){if(!this._mediaSource||this._mediaSource.readyState!=="open")return this._pendingSourceBufferInit.push(x),void this._pendingSegments[x.type].push(x);var M=x,W=""+M.container;M.codec&&M.codec.length>0&&(W+=";codecs="+M.codec);var rt=!1;if(d.a.v(this.TAG,"Received Initialization Segment, mimeType: "+W),this._lastInitSegments[M.type]=M,W!==this._mimeTypes[M.type]){if(this._mimeTypes[M.type])d.a.v(this.TAG,"Notice: "+M.type+" mimeType changed, origin: "+this._mimeTypes[M.type]+", target: "+W);else{rt=!0;try{var lt=this._sourceBuffers[M.type]=this._mediaSource.addSourceBuffer(W);lt.addEventListener("error",this.e.onSourceBufferError),lt.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(mt){return d.a.e(this.TAG,mt.message),void this._emitter.emit(m.ERROR,{code:mt.code,msg:mt.message})}}this._mimeTypes[M.type]=W}T||this._pendingSegments[M.type].push(M),rt||this._sourceBuffers[M.type]&&!this._sourceBuffers[M.type].updating&&this._doAppendSegments(),g.a.safari&&M.container==="audio/mpeg"&&M.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=M.mediaDuration/1e3,this._updateMediaSourceDuration())},L.prototype.appendMediaSegment=function(x){var T=x;this._pendingSegments[T.type].push(T),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var M=this._sourceBuffers[T.type];!M||M.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},L.prototype.seek=function(x){for(var T in this._sourceBuffers)if(this._sourceBuffers[T]){var M=this._sourceBuffers[T];if(this._mediaSource.readyState==="open")try{M.abort()}catch(ht){d.a.e(this.TAG,ht.message)}this._idrList.clear();var W=this._pendingSegments[T];if(W.splice(0,W.length),this._mediaSource.readyState!=="closed"){for(var rt=0;rt<M.buffered.length;rt++){var lt=M.buffered.start(rt),mt=M.buffered.end(rt);this._pendingRemoveRanges[T].push({start:lt,end:mt})}if(M.updating||this._doRemoveRanges(),g.a.safari){var vt=this._lastInitSegments[T];vt&&(this._pendingSegments[T].push(vt),M.updating||this._doAppendSegments())}}}},L.prototype.endOfStream=function(){var x=this._mediaSource,T=this._sourceBuffers;x&&x.readyState==="open"?T.video&&T.video.updating||T.audio&&T.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,x.endOfStream()):x&&x.readyState==="closed"&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},L.prototype.getNearestKeyframe=function(x){return this._idrList.getLastSyncPointBeforeDts(x)},L.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var x=this._mediaElement.currentTime;for(var T in this._sourceBuffers){var M=this._sourceBuffers[T];if(M){var W=M.buffered;if(W.length>=1&&x-W.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},L.prototype._doCleanupSourceBuffer=function(){var x=this._mediaElement.currentTime;for(var T in this._sourceBuffers){var M=this._sourceBuffers[T];if(M){for(var W=M.buffered,rt=!1,lt=0;lt<W.length;lt++){var mt=W.start(lt),vt=W.end(lt);if(mt<=x&&x<vt+3){if(x-mt>=this._config.autoCleanupMaxBackwardDuration){rt=!0;var ht=x-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[T].push({start:mt,end:ht})}}else vt<x&&(rt=!0,this._pendingRemoveRanges[T].push({start:mt,end:vt}))}rt&&!M.updating&&this._doRemoveRanges()}}},L.prototype._updateMediaSourceDuration=function(){var x=this._sourceBuffers;if(this._mediaElement.readyState!==0&&this._mediaSource.readyState==="open"&&!(x.video&&x.video.updating||x.audio&&x.audio.updating)){var T=this._mediaSource.duration,M=this._pendingMediaDuration;M>0&&(isNaN(T)||M>T)&&(d.a.v(this.TAG,"Update MediaSource duration from "+T+" to "+M),this._mediaSource.duration=M),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},L.prototype._doRemoveRanges=function(){for(var x in this._pendingRemoveRanges)if(this._sourceBuffers[x]&&!this._sourceBuffers[x].updating)for(var T=this._sourceBuffers[x],M=this._pendingRemoveRanges[x];M.length&&!T.updating;){var W=M.shift();T.remove(W.start,W.end)}},L.prototype._doAppendSegments=function(){var x=this._pendingSegments;for(var T in x)if(this._sourceBuffers[T]&&!this._sourceBuffers[T].updating&&x[T].length>0){var M=x[T].shift();if(M.timestampOffset){var W=this._sourceBuffers[T].timestampOffset,rt=M.timestampOffset/1e3;Math.abs(W-rt)>.1&&(d.a.v(this.TAG,"Update MPEG audio timestampOffset from "+W+" to "+rt),this._sourceBuffers[T].timestampOffset=rt),delete M.timestampOffset}if(!M.data||M.data.byteLength===0)continue;try{this._sourceBuffers[T].appendBuffer(M.data),this._isBufferFull=!1,T==="video"&&M.hasOwnProperty("info")&&this._idrList.appendArray(M.info.syncPoints)}catch(lt){this._pendingSegments[T].unshift(M),lt.code===22?(this._isBufferFull||this._emitter.emit(m.BUFFER_FULL),this._isBufferFull=!0):(d.a.e(this.TAG,lt.message),this._emitter.emit(m.ERROR,{code:lt.code,msg:lt.message}))}}},L.prototype._onSourceOpen=function(){if(d.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var x=this._pendingSourceBufferInit;x.length;){var T=x.shift();this.appendInitSegment(T,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(m.SOURCE_OPEN)},L.prototype._onSourceEnded=function(){d.a.v(this.TAG,"MediaSource onSourceEnded")},L.prototype._onSourceClose=function(){d.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&this.e!=null&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},L.prototype._hasPendingSegments=function(){var x=this._pendingSegments;return x.video.length>0||x.audio.length>0},L.prototype._hasPendingRemoveRanges=function(){var x=this._pendingRemoveRanges;return x.video.length>0||x.audio.length>0},L.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(m.UPDATE_END)},L.prototype._onSourceBufferError=function(x){d.a.e(this.TAG,"SourceBuffer Error: "+x)},L}(),B=s(5),z={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},Z={NETWORK_EXCEPTION:l.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:l.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:l.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:l.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:B.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:B.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:B.a.CODEC_UNSUPPORTED},J=function(){function L(x,T){this.TAG="MSEPlayer",this._type="MSEPlayer",this._emitter=new u.a,this._config=a(),typeof T=="object"&&Object.assign(this._config,T);var M=x.type.toLowerCase();if(M!=="mse"&&M!=="mpegts"&&M!=="m2ts"&&M!=="flv")throw new w.b("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");x.isLive===!0&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=x,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var W=g.a.chrome&&(g.a.version.major<50||g.a.version.major===50&&g.a.version.build<2661);this._alwaysSeekKeyframe=!!(W||g.a.msedge||g.a.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return L.prototype.destroy=function(){this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},L.prototype.on=function(x,T){var M=this;x===v.MEDIA_INFO?this._mediaInfo!=null&&Promise.resolve().then(function(){M._emitter.emit(v.MEDIA_INFO,M.mediaInfo)}):x===v.STATISTICS_INFO&&this._statisticsInfo!=null&&Promise.resolve().then(function(){M._emitter.emit(v.STATISTICS_INFO,M.statisticsInfo)}),this._emitter.addListener(x,T)},L.prototype.off=function(x,T){this._emitter.removeListener(x,T)},L.prototype.attachMediaElement=function(x){var T=this;if(this._mediaElement=x,x.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),x.addEventListener("seeking",this.e.onvSeeking),x.addEventListener("canplay",this.e.onvCanPlay),x.addEventListener("stalled",this.e.onvStalled),x.addEventListener("progress",this.e.onvProgress),this._msectl=new S(this._config),this._msectl.on(m.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(m.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(m.SOURCE_OPEN,function(){T._mseSourceOpened=!0,T._hasPendingLoad&&(T._hasPendingLoad=!1,T.load())}),this._msectl.on(m.ERROR,function(M){T._emitter.emit(v.ERROR,z.MEDIA_ERROR,Z.MEDIA_MSE_ERROR,M)}),this._msectl.attachMediaElement(x),this._pendingSeekTime!=null)try{x.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},L.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},L.prototype.load=function(){var x=this;if(!this._mediaElement)throw new w.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new w.a("MSEPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&this._mseSourceOpened===!1?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new b(this._mediaDataSource,this._config),this._transmuxer.on(E.a.INIT_SEGMENT,function(T,M){x._msectl.appendInitSegment(M)}),this._transmuxer.on(E.a.MEDIA_SEGMENT,function(T,M){if(x._msectl.appendMediaSegment(M),x._config.lazyLoad&&!x._config.isLive){var W=x._mediaElement.currentTime;M.info.endDts>=1e3*(W+x._config.lazyLoadMaxDuration)&&x._progressChecker==null&&(d.a.v(x.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),x._suspendTransmuxer())}}),this._transmuxer.on(E.a.LOADING_COMPLETE,function(){x._msectl.endOfStream(),x._emitter.emit(v.LOADING_COMPLETE)}),this._transmuxer.on(E.a.RECOVERED_EARLY_EOF,function(){x._emitter.emit(v.RECOVERED_EARLY_EOF)}),this._transmuxer.on(E.a.IO_ERROR,function(T,M){x._emitter.emit(v.ERROR,z.NETWORK_ERROR,T,M)}),this._transmuxer.on(E.a.DEMUX_ERROR,function(T,M){x._emitter.emit(v.ERROR,z.MEDIA_ERROR,T,{code:-1,msg:M})}),this._transmuxer.on(E.a.MEDIA_INFO,function(T){x._mediaInfo=T,x._emitter.emit(v.MEDIA_INFO,Object.assign({},T))}),this._transmuxer.on(E.a.METADATA_ARRIVED,function(T){x._emitter.emit(v.METADATA_ARRIVED,T)}),this._transmuxer.on(E.a.SCRIPTDATA_ARRIVED,function(T){x._emitter.emit(v.SCRIPTDATA_ARRIVED,T)}),this._transmuxer.on(E.a.TIMED_ID3_METADATA_ARRIVED,function(T){x._emitter.emit(v.TIMED_ID3_METADATA_ARRIVED,T)}),this._transmuxer.on(E.a.PES_PRIVATE_DATA_DESCRIPTOR,function(T){x._emitter.emit(v.PES_PRIVATE_DATA_DESCRIPTOR,T)}),this._transmuxer.on(E.a.PES_PRIVATE_DATA_ARRIVED,function(T){x._emitter.emit(v.PES_PRIVATE_DATA_ARRIVED,T)}),this._transmuxer.on(E.a.STATISTICS_INFO,function(T){x._statisticsInfo=x._fillStatisticsInfo(T),x._emitter.emit(v.STATISTICS_INFO,Object.assign({},x._statisticsInfo))}),this._transmuxer.on(E.a.RECOMMEND_SEEKPOINT,function(T){x._mediaElement&&!x._config.accurateSeek&&(x._requestSetTime=!0,x._mediaElement.currentTime=T/1e3)}),this._transmuxer.open()))},L.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},L.prototype.play=function(){return this._mediaElement.play()},L.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(L.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(x){this._mediaElement.volume=x},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(x){this._mediaElement.muted=x},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(x){this._mediaElement?this._internalSeek(x):this._pendingSeekTime=x},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"statisticsInfo",{get:function(){return this._statisticsInfo==null&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),L.prototype._fillStatisticsInfo=function(x){if(x.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return x;var T=!0,M=0,W=0;if(this._mediaElement.getVideoPlaybackQuality){var rt=this._mediaElement.getVideoPlaybackQuality();M=rt.totalVideoFrames,W=rt.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(M=this._mediaElement.webkitDecodedFrameCount,W=this._mediaElement.webkitDroppedFrameCount):T=!1;return T&&(x.decodedFrames=M,x.droppedFrames=W),x},L.prototype._onmseUpdateEnd=function(){var x=this._mediaElement.buffered,T=this._mediaElement.currentTime;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&x.length>0&&!this._mediaElement.paused){var M=x.end(x.length-1);if(M>this._config.liveBufferLatencyMaxLatency&&M-T>this._config.liveBufferLatencyMaxLatency){var W=M-this._config.liveBufferLatencyMinRemain;this.currentTime=W}}if(this._config.lazyLoad&&!this._config.isLive){for(var rt=0,lt=0;lt<x.length;lt++){var mt=x.start(lt),vt=x.end(lt);if(mt<=T&&T<vt){rt=vt;break}}rt>=T+this._config.lazyLoadMaxDuration&&this._progressChecker==null&&(d.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},L.prototype._onmseBufferFull=function(){d.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),this._progressChecker==null&&this._suspendTransmuxer()},L.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),this._progressChecker==null&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},L.prototype._checkProgressAndResume=function(){for(var x=this._mediaElement.currentTime,T=this._mediaElement.buffered,M=!1,W=0;W<T.length;W++){var rt=T.start(W),lt=T.end(W);if(x>=rt&&x<lt){x>=lt-this._config.lazyLoadRecoverDuration&&(M=!0);break}}M&&(window.clearInterval(this._progressChecker),this._progressChecker=null,M&&(d.a.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},L.prototype._isTimepointBuffered=function(x){for(var T=this._mediaElement.buffered,M=0;M<T.length;M++){var W=T.start(M),rt=T.end(M);if(x>=W&&x<rt)return!0}return!1},L.prototype._internalSeek=function(x){var T=this._isTimepointBuffered(x),M=!1,W=0;if(x<1&&this._mediaElement.buffered.length>0){var rt=this._mediaElement.buffered.start(0);(rt<1&&x<rt||g.a.safari)&&(M=!0,W=g.a.safari?.1:rt)}if(M)this._requestSetTime=!0,this._mediaElement.currentTime=W;else if(T){if(this._alwaysSeekKeyframe){var lt=this._msectl.getNearestKeyframe(Math.floor(1e3*x));this._requestSetTime=!0,this._mediaElement.currentTime=lt!=null?lt.dts/1e3:x}else this._requestSetTime=!0,this._mediaElement.currentTime=x;this._progressChecker!=null&&this._checkProgressAndResume()}else this._progressChecker!=null&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(x),this._transmuxer.seek(Math.floor(1e3*x)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=x)},L.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var x=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(x)||(this._progressChecker!=null&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(x),this._transmuxer.seek(Math.floor(1e3*x)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=x))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},L.prototype._checkAndResumeStuckPlayback=function(x){var T=this._mediaElement;if(x||!this._receivedCanPlay||T.readyState<2){var M=T.buffered;M.length>0&&T.currentTime<M.start(0)&&(d.a.w(this.TAG,"Playback seems stuck at "+T.currentTime+", seek to "+M.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=M.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},L.prototype._onvLoadedMetadata=function(x){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},L.prototype._onvSeeking=function(x){var T=this._mediaElement.currentTime,M=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(T<1&&M.length>0){var W=M.start(0);if(W<1&&T<W||g.a.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=g.a.safari?.1:W)}if(this._isTimepointBuffered(T)){if(this._alwaysSeekKeyframe){var rt=this._msectl.getNearestKeyframe(Math.floor(1e3*T));rt!=null&&(this._requestSetTime=!0,this._mediaElement.currentTime=rt.dts/1e3)}this._progressChecker!=null&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:T,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},L.prototype._onvCanPlay=function(x){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},L.prototype._onvStalled=function(x){this._checkAndResumeStuckPlayback(!0)},L.prototype._onvProgress=function(x){this._checkAndResumeStuckPlayback()},L}(),K=function(){function L(x,T){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new u.a,this._config=a(),typeof T=="object"&&Object.assign(this._config,T);var M=x.type.toLowerCase();if(M==="mse"||M==="mpegts"||M==="m2ts"||M==="flv")throw new w.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(x.hasOwnProperty("segments"))throw new w.b("NativePlayer("+x.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=x,this._mediaElement=null}return L.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},L.prototype.on=function(x,T){var M=this;x===v.MEDIA_INFO?this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){M._emitter.emit(v.MEDIA_INFO,M.mediaInfo)}):x===v.STATISTICS_INFO&&this._mediaElement!=null&&this._mediaElement.readyState!==0&&Promise.resolve().then(function(){M._emitter.emit(v.STATISTICS_INFO,M.statisticsInfo)}),this._emitter.addListener(x,T)},L.prototype.off=function(x,T){this._emitter.removeListener(x,T)},L.prototype.attachMediaElement=function(x){if(this._mediaElement=x,x.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._pendingSeekTime!=null)try{x.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch{}},L.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},L.prototype.load=function(){if(!this._mediaElement)throw new w.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},L.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),this._statisticsReporter!=null&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},L.prototype.play=function(){return this._mediaElement.play()},L.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(L.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(x){this._mediaElement.volume=x},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(x){this._mediaElement.muted=x},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(x){this._mediaElement?this._mediaElement.currentTime=x:this._pendingSeekTime=x},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"mediaInfo",{get:function(){var x={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(x.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(x.width=this._mediaElement.videoWidth,x.height=this._mediaElement.videoHeight)),x},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"statisticsInfo",{get:function(){var x={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return x;var T=!0,M=0,W=0;if(this._mediaElement.getVideoPlaybackQuality){var rt=this._mediaElement.getVideoPlaybackQuality();M=rt.totalVideoFrames,W=rt.droppedVideoFrames}else this._mediaElement.webkitDecodedFrameCount!=null?(M=this._mediaElement.webkitDecodedFrameCount,W=this._mediaElement.webkitDroppedFrameCount):T=!1;return T&&(x.decodedFrames=M,x.droppedFrames=W),x},enumerable:!1,configurable:!0}),L.prototype._onvLoadedMetadata=function(x){this._pendingSeekTime!=null&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(v.MEDIA_INFO,this.mediaInfo)},L.prototype._reportStatisticsInfo=function(){this._emitter.emit(v.STATISTICS_INFO,this.statisticsInfo)},L}();t.a.install();var tt={createPlayer:function(L,x){var T=L;if(T==null||typeof T!="object")throw new w.b("MediaDataSource must be an javascript object!");if(!T.hasOwnProperty("type"))throw new w.b("MediaDataSource must has type field to indicate video file type!");switch(T.type){case"mse":case"mpegts":case"m2ts":case"flv":return new J(T,x);default:return new K(T,x)}},isSupported:function(){return r.supportMSEH264Playback()},getFeatureList:function(){return r.getFeatureList()}};tt.BaseLoader=l.a,tt.LoaderStatus=l.c,tt.LoaderErrors=l.b,tt.Events=v,tt.ErrorTypes=z,tt.ErrorDetails=Z,tt.MSEPlayer=J,tt.NativePlayer=K,tt.LoggingControl=O.a,Object.defineProperty(tt,"version",{enumerable:!0,get:function(){return"1.6.10"}}),D.default=tt}])})})(ae);var Qt=Zt(ae.exports);const Te=te({props:{option:{type:Object,required:!0},danmuku:{default:()=>[]},headers:{default:()=>({})}},setup(gt,{expose:ft}){const o=gt;let D=null;ft({instance:D});const s=jt(null);return ee(()=>{D=new Ae(bt(_t({},o.option),{container:s.value,customType:{flv:function(t,e){if(Qt.isSupported()){console.log(o.headers);const i=Qt.createPlayer({type:"flv",url:e,hasVideo:!0,hasAudio:!0},{headers:o.headers});i.attachMediaElement(t),i.load()}else D&&(D.notice.show="\u4E0D\u652F\u6301\u64AD\u653E\u683C\u5F0F\uFF1Aflv")}},plugins:[Re({danmuku:o.danmuku})]}))}),re(()=>{D&&D.destroy()}),(t,e)=>(Nt(),qt("div",{style:{width:"100%",height:"100%"},ref_key:"artRef",ref:s},null,512))}});const De=gt=>(ye("data-v-3e07afec"),gt=gt(),be(),gt),Ie={class:"player-container"},Ce={style:{width:"100%"}},Le={class:"player"},Oe=De(()=>Wt("div",null,null,-1)),Pe=te({setup(gt){const ft=pe(),o=fe(),D=jt("");let s=!1;const t=jt(!1),e=jt(null),i=me(()=>{const g=D.value.split("/").filter(P=>P!=="");let v="";const A=[{name:"\u5DE5\u4F5C\u76EE\u5F55",path:"/"}];for(const P of g)A.push({name:P,path:`${v}/${P}`}),v+=`/${P}`;return A});function a(g){o.push({path:`/recorder/${ft.params.id}/files`,hash:`#${g}`})}function r(g){let v=g.toString(16);return v="#"+v.padStart(6,"0"),v}const l=jt({url:""}),n=jt(()=>[]);function u(g){var v;return new URL(g,(v=zt.recorder)==null?void 0:v.meta.path).toString()}const d=zt.recorder._getHeader();return ee(()=>{if(s=!0,ft.hash&&ft.hash.startsWith("#/")?D.value=ft.hash.slice(1):o.push({path:`/recorder/${ft.params.id}/files`,hash:"#/"}),D.value.endsWith("/")&&o.push({path:`/recorder/${ft.params.id}/files`,hash:ft.hash}),D.value.endsWith(".flv")||o.push({path:`/recorder/${ft.params.id}/files`,hash:"#/"}),zt.recorder==null){console.error("recorder not ready");return}const g=D.value.split("/"),v=g.pop(),A=g.join("/"),P=v.replace(/\.flv$/g,".xml");zt.recorder.getFileList(A).then(O=>{if(!s||!O.exist)return;e.value=O.files.find(E=>E.name===v&&!E.isFolder);const j=O.files.find(E=>E.name===P&&!E.isFolder);if(!e)return o.push({path:`/recorder/${ft.params.id}/files`,hash:"#/"});l.value={title:e.value.name,url:u(e.value.url),pip:!0,setting:!0,playbackRate:!0,aspectRatio:!0,flip:!0,autoSize:!0,autoMini:!0,mutex:!0,miniProgressBar:!0,backdrop:!1,fullscreen:!0,fullscreenWeb:!0,lang:"zh-cn"},n.value=async()=>{const E=await(await fetch(u(j.url),{headers:d})).text();try{const C=[],b=new DOMParser().parseFromString(E,"text/xml");return Array.from(b.getElementsByTagName("d")).forEach(m=>{const _=m.textContent,w=m.getAttribute("p").split(",");C.push({text:_,color:r(Number(w[3])),time:Number(w[0]),mode:0})}),C}catch(C){console.error(C)}return[]},t.value=!0})}),re(()=>{s=!1}),(g,v)=>(Nt(),qt("div",Ie,[Wt("div",Ce,[_e($t(ge),null,{default:Xt(()=>[(Nt(!0),qt(we,null,Se($t(i),A=>(Nt(),Jt($t(ke),{key:A.path,onClick:P=>a(A.path)},{default:Xt(()=>[xe(Ee(A.name),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),Wt("div",Le,[t.value?(Nt(),Jt(Te,{key:0,option:l.value,danmuku:n.value,headers:$t(d)},null,8,["option","danmuku","headers"])):ve("",!0)]),Oe]))}});var Be=he(Pe,[["__scopeId","data-v-3e07afec"]]);export{Be as default};
